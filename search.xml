<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¦‚ä½•è§£å†³ zsh command not found</title>
      <link href="/2023/03/15/"/>
      <url>/2023/03/15/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œå½“æˆ‘ä»¬åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤æ—¶ï¼Œæœ‰æ—¶å¯èƒ½ä¼šé‡åˆ°ç±»ä¼¼äºzsh: command not found: xxxçš„é”™è¯¯ã€‚æˆ‘ä»¬é€šå¸¸ä¼šè¯•å›¾é€šè¿‡é‡æ–°å®‰è£…å‘½ä»¤æ¥è§£å†³è¿™ç±»é—®é¢˜ï¼Œä½†å¦‚æœé‡æ–°å®‰è£…ä»ç„¶æ— æ³•è§£å†³ï¼Œæˆ‘ä»¬å°±éœ€è¦ä»æ ¹æœ¬ä¸Šè€ƒè™‘é—®é¢˜ï¼Œå³æ¢ç©¶ä»€ä¹ˆæœºåˆ¶å¯¼è‡´å‘½ä»¤æ— æ³•æ­£ç¡®æ‰§è¡Œã€‚</p><h2 id="1-PATH-ç¯å¢ƒå˜é‡"><a href="#1-PATH-ç¯å¢ƒå˜é‡" class="headerlink" title="1. PATH ç¯å¢ƒå˜é‡"></a>1. PATH ç¯å¢ƒå˜é‡</h2><p>å½“æˆ‘ä»¬æŠŠ<code>zsh command not found: xxx</code>è¿™å¥è¯ç¿»è¯‘ä¸ºæœºå™¨å¯ä»¥è¯†åˆ«çš„è¯­è¨€æ—¶åº”è¯¥æ˜¯è¿™æ ·çš„:<strong>åœ¨æ“ä½œç³»ç»Ÿå¯è¯†åˆ«çš„å‘½åç©ºé—´é‡Œæ‰¾ä¸åˆ°ä¸€ä¸ªåå­—å«åš <code>xxx</code> çš„å¯æ‰§è¡Œæ–‡ä»¶</strong>ã€‚</p><p>è¿™ä¸ªæ‰€è°“çš„å‘½åç©ºé—´å°±æ˜¯ PATH ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥è®°å¾—åœ¨å¤§å­¦æ—¶æœŸå­¦ä¹  Java é…ç½® java_home jdk æ—¶çš„æ“ä½œï¼Œwindows å’Œ macOS æ˜¯åŒæ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦çš„å°±æ˜¯é…ç½®ä¸€ä¸ªå¯ä»¥è®¿é—®åˆ°æˆ‘ä»¬ç›®æ ‡æ‰§è¡Œæ–‡ä»¶çš„ PATH ç¯å¢ƒå˜é‡ï¼Œé€šå¸¸æ¥è¯´ï¼Œè¿™é‡Œçš„ç¯å¢ƒå˜é‡æ˜¯ä¸€ä¸ªåœ°å€ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ã€‚</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># exec below command in terminal</span><span class="token keyword">echo</span> <span class="token variable">$PATH</span></code></pre><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><blockquote><p><em>&#x2F;Users&#x2F;pengfei.cheng&#x2F;.bun&#x2F;bin:&#x2F;Users&#x2F;pengfei.cheng&#x2F;.gvm&#x2F;pkgsets&#x2F;system&#x2F;global&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;go&#x2F;1.17.2&#x2F;libexec&#x2F;bin:&#x2F;bin:&#x2F;Users&#x2F;pengfei.cheng&#x2F;.gvm&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;opt&#x2F;<a href="mailto:&#x6d;&#121;&#x73;&#x71;&#108;&#64;&#x35;&#46;&#x37;">&#x6d;&#121;&#x73;&#x71;&#108;&#64;&#x35;&#46;&#x37;</a>&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;pyenv-virtualenv&#x2F;1.1.5&#x2F;shims:&#x2F;Users&#x2F;pengfei.cheng&#x2F;.pyenv&#x2F;shims:&#x2F;Users&#x2F;pengfei.cheng&#x2F;.pyenv&#x2F;bin:&#x2F;Applications&#x2F;Visual Studio Code.app&#x2F;Contents&#x2F;Resources&#x2F;app&#x2F;bin:&#x2F;Users&#x2F;pengfei.cheng&#x2F;.nvm&#x2F;versions&#x2F;node&#x2F;v14.19.0&#x2F;bin:&#x2F;Users&#x2F;pengfei.cheng&#x2F;.oh-my-zsh&#x2F;custom&#x2F;plugins&#x2F;git-open:&#x2F;Users&#x2F;pengfei.cheng&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;usr&#x2F;bin:&#x2F;bin:&#x2F;usr&#x2F;sbin:&#x2F;sbin:&#x2F;usr&#x2F;local&#x2F;go&#x2F;bin:&#x2F;Library&#x2F;Apple&#x2F;usr&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;Users&#x2F;pengfei.cheng&#x2F;go&#x2F;bin</em></p></blockquote><p>æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯ä»¥ä¸‹å‡ ä¸ªè·¯å¾„ï¼š</p><ul><li><code>/bin &amp; /sbin</code>: ç³»ç»Ÿçš„ä¸€äº›å†…ç½®å‘½ä»¤é›†åˆï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®</li><li><code>/usr/bin</code>: å¦‚æœç”µè„‘å­˜åœ¨å¤šä¸ªè´¦æˆ·ï¼Œé€‚ç”¨äºæ‰€æœ‰ç”¨æˆ·ä½¿ç”¨çš„å‘½ä»¤é›†åˆ</li><li><code>/usr/local/bin</code>: å¦‚æœç”µè„‘å­˜åœ¨å¤šä¸ªè´¦æˆ·,è¿™é‡Œå­˜æ”¾å½“å‰ç™»å½•ç”¨æˆ·å®‰è£…çš„ä¸€äº›å‘½ä»¤é›†åˆ</li><li><code>$CUSTOME_PATH/bin</code>: è‡ªå®šä¹‰çš„ä¸€äº›å‘½ä»¤è·¯å¾„ï¼Œå¦‚ nvm &#x2F; python &#x2F; go çš„å‘½ä»¤é›†åˆ</li><li>æ›´å¤šå‚è€ƒ <a href="https://www.wikiwand.com/en/Filesystem_Hierarchy_Standard">https://www.wikiwand.com/en/Filesystem_Hierarchy_Standard</a></li></ul><p>æ‰€ä»¥å›è¿‡å¤´å†çœ‹ <code>zsh command not found</code> è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®å°±æ˜¯å‘½ä»¤å®‰è£…çš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›å‘½ä»¤ç‹¬æœ‰çš„ bin ç›®å½•å¹¶æ²¡æœ‰è¢«æ­£ç¡®çš„è®¾ç½®åˆ° PATH ç¯å¢ƒå˜é‡ï¼ˆæˆ–è€…æ²¡æœ‰è¢«æ­£ç¡®è¯†åˆ«ï¼‰ã€‚</p><h2 id="2-è§£å†³-zsh-command-not-found"><a href="#2-è§£å†³-zsh-command-not-found" class="headerlink" title="2. è§£å†³ zsh command not found"></a>2. è§£å†³ <code>zsh command not found</code></h2><h3 id="2-1-æ‰¾åˆ°å‘½ä»¤çš„å®‰è£…è·¯å¾„"><a href="#2-1-æ‰¾åˆ°å‘½ä»¤çš„å®‰è£…è·¯å¾„" class="headerlink" title="2.1 æ‰¾åˆ°å‘½ä»¤çš„å®‰è£…è·¯å¾„"></a>2.1 æ‰¾åˆ°å‘½ä»¤çš„å®‰è£…è·¯å¾„</h3><p>æˆ‘ä»¬ä»¥ <code>create-react-app</code> ä¸èƒ½æ­£ç¡®è®¿é—®ä¸ºä¾‹,é¦–å…ˆæŸ¥çœ‹å½“å‰å‘½ä»¤çš„å¯æ‰§è¡Œæ–‡ä»¶åœ¨ç³»ç»Ÿçš„å“ªä¸ªç›®å½•ã€‚</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># exec below command in terminal</span><span class="token function">whereis</span> create-react-app</code></pre><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><blockquote><p><em>create-react-app: &#x2F;usr&#x2F;local&#x2F;bin&#x2F;create-react-app</em></p></blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ <code>create-react-app</code> æ˜¯å®‰è£…åœ¨ <code>/usr/local/bin</code> è·¯å¾„ä¸‹çš„ã€‚</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># exec below command in terminal</span>lsa /usr/local/bin <span class="token operator">|</span> <span class="token function">grep</span> create-react-app</code></pre><p>å› ä¸ºæˆ‘ä½¿ç”¨ yarn å…¨å±€å®‰è£…äº† create-react-app, æ‰€ä»¥è¾“å‡ºå¦‚ä¸‹</p><blockquote><p><em>lrwxr-xr-x    1 pengfei.cheng  wheel    83B  8  4  2022 create-react-app -&gt; ..&#x2F;..&#x2F;..&#x2F;Users&#x2F;pengfei.cheng&#x2F;.config&#x2F;yarn&#x2F;global&#x2F;node_modules&#x2F;.bin&#x2F;create-react-app</em></p></blockquote><div class="admonition note"><p class="admonition-title">æ­£å¸¸æƒ…å†µä¸‹å…¨å±€å®‰è£…çš„ `create-react-app` æ˜¯ä¼šåœ¨è¿™ä¸ªç›®å½•ï¼Œå¦‚æœä½ çš„ `creat-reat-app` å‘½ä»¤ä¸èƒ½æ­£ç¡®æ‰§è¡Œï¼Œ`whereis` å¯èƒ½æ— æ³•å®šä½åˆ°å…·ä½“çš„è·¯å¾„ï¼Œä½ å¯ä»¥ç¡®è®¤`create-react-app`çš„å®‰è£…ä½ç½®åç›´æ¥è®¾ç½®è½¯é“¾ã€‚</p></div><h3 id="2-2-æ–¹æ¡ˆ-1ï¼šä½¿ç”¨-ln-s-é…ç½®è½¯é“¾è‡³-usr-local-bin"><a href="#2-2-æ–¹æ¡ˆ-1ï¼šä½¿ç”¨-ln-s-é…ç½®è½¯é“¾è‡³-usr-local-bin" class="headerlink" title="2.2 æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ ln -s é…ç½®è½¯é“¾è‡³/usr/local/bin"></a>2.2 æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ <code>ln -s</code> é…ç½®è½¯é“¾è‡³<code>/usr/local/bin</code></h3><p>å› ä¸ºä¸€èˆ¬ bin ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯é€šè¿‡è½¯é“¾çš„æ–¹å¼ç»‘å®šçš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç›®æ ‡çš„ bin ç›®å½•ä¸‹æ–°å¢ä¸€æ¡è½¯é“¾ã€‚</p><p>å› ä¸ºä½¿ç”¨ yarn å®‰è£…çš„ <code>create-react-app</code> åœ¨<code>~/.config/yarn/global/node_modules/</code>ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥é…ç½®ä¸€ä¸ªè½¯é“¾è‡³ <code>/usr/local/bin</code>ã€‚</p><pre class=" language-bash"><code class="language-bash"><span class="token function">ln</span> -s ~/.config/yarn/global/node_modules/.bin/create-react-app /usr/local/bin</code></pre><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤å³å¯ã€‚</p><div class="admonition note"><p class="admonition-title">è¿™ç§æ–¹å¼è½¯é“¾çš„é…ç½®ä¸å¤ªç›´è§‚ï¼Œéœ€è¦ä½ å¯¹æ‰§è¡Œæ–‡ä»¶çš„ç›®å½•æœ‰è¶³å¤Ÿçš„äº†è§£ã€‚</p></div><h3 id="2-3-æ–¹æ¡ˆ-2ï¼šé…ç½®-Alias-åˆ«å"><a href="#2-3-æ–¹æ¡ˆ-2ï¼šé…ç½®-Alias-åˆ«å" class="headerlink" title="2.3 æ–¹æ¡ˆ 2ï¼šé…ç½® Alias åˆ«å"></a>2.3 æ–¹æ¡ˆ 2ï¼šé…ç½® <code>Alias</code> åˆ«å</h3><p>å› ä¸ºä½¿ç”¨äº† zsh æ›¿ä»£äº†é»˜è®¤çš„ bash, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¿®æ”¹ <code>~/.zshrc</code> é…ç½®æ–‡ä»¶</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">'alias create-react-app="~/.config/yarn/global/node_modules/.bin/create-react-app"'</span> <span class="token operator">>></span> ~/.zshrc</code></pre><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤ä¼šåœ¨ <code>~/.zshrc</code> ä¸­å¢åŠ ä¸€ä¸ª Alias åˆ«åï¼Œéœ€è¦æ‰‹åŠ¨ <code>source ~/.zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><p>ä¿®æ”¹å®Œæˆåå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹åˆ«åæ˜¯å¦é…ç½®æˆåŠŸã€‚</p><pre class=" language-bash"><code class="language-bash"><span class="token function">alias</span> <span class="token operator">|</span> <span class="token function">grep</span> creat-react-app</code></pre><div class="admonition note"><p class="admonition-title">è¿™ç§æ–¹å¼éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯æœ€ç®€å•ï¼Œæ¯”è¾ƒæ¨èã€‚</p></div><h3 id="2-4-æ–¹æ¡ˆ-3ï¼šç›´æ¥ä¿®æ”¹-PATH"><a href="#2-4-æ–¹æ¡ˆ-3ï¼šç›´æ¥ä¿®æ”¹-PATH" class="headerlink" title="2.4 æ–¹æ¡ˆ 3ï¼šç›´æ¥ä¿®æ”¹ $PATH"></a>2.4 æ–¹æ¡ˆ 3ï¼šç›´æ¥ä¿®æ”¹ <code>$PATH</code></h3><pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">'export PATH="<span class="token variable">$PATH</span>:<span class="token variable">$HOME</span>/.config/yarn/global/node_modules/.bin"'</span> <span class="token operator">>></span> ~/.zshrc</code></pre><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œä¼šå°† <code>creat-react-app</code> çš„å®‰è£… bin ç›®å½•æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ä¸­ã€‚</p><p>å› ä¸ºä¿®æ”¹äº†<code>~/.zshrc</code> æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨ <code>source ~/.zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><div class="admonition note"><p class="admonition-title">è¿™ç§æ–¹å¼å¯èƒ½ä¼šæ±¡æŸ“ PATH ç¯å¢ƒå˜é‡ï¼Œé€ æˆéå¸¸å¤šçš„å†—ä½™ï¼Œä¸€äº›ä¸ªäººåŒ–çš„é…ç½®ä¸å»ºè®®é‡‡ç”¨è¿™ç§æ–¹å¼é…ç½®ã€‚</p></div><h2 id="3-ZSH-amp-BASH"><a href="#3-ZSH-amp-BASH" class="headerlink" title="3. ZSH &amp; BASH"></a>3. ZSH &amp; BASH</h2><p>å½“ç„¶ï¼Œé™¤äº†å¸¸è§çš„<code>zsh command not found</code>é”™è¯¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½é‡åˆ°ä¸€äº› <code>bash command not found</code> çš„é”™è¯¯ã€‚</p><p>è¿™æ˜¯å› ä¸ºï¼Œå‡å¦‚æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ zsh ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿé‡‡ç”¨çš„æ˜¯ bash , bash çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬ä¸º <code>vi ~/.bash_profile</code>ã€‚é‡åˆ°è¿™ç±»é—®é¢˜ï¼Œå‚è€ƒ zsh çš„ä¿®æ”¹æ–¹å¼ä¿®æ”¹å³å¯ã€‚</p><h3 id="3-1-é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§"><a href="#3-1-é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§" class="headerlink" title="3.1 é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§"></a>3.1 é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§</h3><p>å‡å¦‚æˆ‘ä»¬åŒæ—¶ä½¿ç”¨äº† <code>bash / zsh</code> ï¼Œæˆ‘ä»¬å°±åŒæ—¶æ‹¥æœ‰äº† <code>.zshrc</code> å’Œ <code>.bash_profile</code> çš„é…ç½®æ–‡ä»¶, é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€äº›ç³»ç»Ÿé»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ <code>/etc/profile</code>, <code>/etc/bashrc</code> ã€‚</p><p>è¿™äº›æ–‡ä»¶çš„ä¼˜å…ˆçº§é¡ºåºéµå¾ªä¸€ä¸ªåŸåˆ™ï¼Œä¸ªæ€§åŒ–çš„é…ç½®ä¼šè¦†ç›–ä¸Šä¸€çº§çš„é…ç½®ã€‚<br><code>custom shell (.zshrc) -&gt;  default shell (.bashrc) -&gt; system(/etc/profile)</code></p><h3 id="3-2-åˆ‡æ¢é»˜è®¤-shell"><a href="#3-2-åˆ‡æ¢é»˜è®¤-shell" class="headerlink" title="3.2 åˆ‡æ¢é»˜è®¤ shell"></a>3.2 åˆ‡æ¢é»˜è®¤ shell</h3><p>å› ä¸ºç ”å‘æ•ˆç‡é—®é¢˜ï¼Œä¸å»ºè®®ä½¿ç”¨ç³»ç»Ÿå†…ç½®çš„ <code>bash</code>, å»ºè®®ä½¿ç”¨ <code>zsh</code>, å¹¶è®¾ç½®é»˜è®¤ç»ˆç«¯ä¸º <code>zsh</code></p><pre><code>chsh -s /bin/zsh</code></pre><h2 id="4-npm-vs-yarn-çš„å…¨å±€å®‰è£…è·¯å¾„"><a href="#4-npm-vs-yarn-çš„å…¨å±€å®‰è£…è·¯å¾„" class="headerlink" title="4. npm vs yarn çš„å…¨å±€å®‰è£…è·¯å¾„"></a>4. npm vs yarn çš„å…¨å±€å®‰è£…è·¯å¾„</h2><h3 id="4-1-æŸ¥è¯¢å…¨å±€å®‰è£…çš„-Node-è·¯å¾„"><a href="#4-1-æŸ¥è¯¢å…¨å±€å®‰è£…çš„-Node-è·¯å¾„" class="headerlink" title="4.1 æŸ¥è¯¢å…¨å±€å®‰è£…çš„ Node è·¯å¾„"></a>4.1 æŸ¥è¯¢å…¨å±€å®‰è£…çš„ Node è·¯å¾„</h3><p><strong>ä½¿ç”¨ whereis</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">whereis</span> node</code></pre><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><blockquote><p><em>node: &#x2F;Users&#x2F;pengfei.cheng&#x2F;.nvm&#x2F;versions&#x2F;node&#x2F;v14.19.0&#x2F;bin&#x2F;node &#x2F;Users&#x2F;pengfei.cheng&#x2F;.nvm&#x2F;versions&#x2F;node&#x2F;v14.19.0&#x2F;share&#x2F;man&#x2F;man1&#x2F;node.1</em></p></blockquote><p><strong>ä½¿ç”¨ npm config æŸ¥çœ‹</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> config get prefix</code></pre><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><blockquote><p><em>&#x2F;Users&#x2F;pengfei.cheng&#x2F;.nvm&#x2F;versions&#x2F;node&#x2F;v14.19.0</em></p></blockquote><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼ <code>npm root -g</code> å…¨çœ‹å…¨å±€å®‰è£…çš„ node_modules èµ„æºè·¯å¾„ï¼Œä¸€èˆ¬ä¼šåœ¨åŒçº§ç›®å½•çš„ <code>lib/</code> ç›®å½•ä¸‹ã€‚</p><h3 id="4-2-å…¨å±€åŒ…èµ„æºç›®å½•"><a href="#4-2-å…¨å±€åŒ…èµ„æºç›®å½•" class="headerlink" title="4.2 å…¨å±€åŒ…èµ„æºç›®å½•"></a>4.2 å…¨å±€åŒ…èµ„æºç›®å½•</h3><p>ä½¿ç”¨ npm å®‰è£…ï¼ˆæœªä½¿ç”¨ nvmï¼‰</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> root -g<span class="token comment" spellcheck="true"># /usr/local/lib/node_modules</span></code></pre><p>ä½¿ç”¨ npm å®‰è£…ï¼ˆä½¿ç”¨ nvmï¼‰</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> root -g<span class="token comment" spellcheck="true"># ~/.nvm/versions/node/v14.19.0/lib/node_modules</span></code></pre><p>ä½¿ç”¨ yarn å®‰è£…</p><pre class=" language-bash"><code class="language-bash">yarn global <span class="token function">dir</span><span class="token comment" spellcheck="true"># ~/.config/yarn/global</span></code></pre><h2 id="5-å‚è€ƒ"><a href="#5-å‚è€ƒ" class="headerlink" title="5. å‚è€ƒ"></a>5. å‚è€ƒ</h2><ul><li><a href="https://www.wikiwand.com/en/Filesystem_Hierarchy_Standard">Filesystem_Hierarchy_Standard</a></li><li><a href="https://www.cnblogs.com/cwp-bg/p/8257843.html">&#x2F;etc&#x2F;profileã€&#x2F;etc&#x2F;bashrcã€<del>&#x2F;.bash_profileã€</del>&#x2F;.bashrc æ–‡ä»¶çš„ä½œç”¨</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> zsh </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ¬¡æœ‰è¶£çš„è·¨åŸŸé—®é¢˜æ’æŸ¥</title>
      <link href="/2023/03/13/"/>
      <url>/2023/03/13/</url>
      
        <content type="html"><![CDATA[<p>æŸä¸€å¤©ï¼ŒåŒäº‹å‘æˆ‘æ±‚åŠ©ï¼š<code>æˆ‘åœ¨ UAT ç¯å¢ƒä¸‹çš„ä¸€ä¸ªé¡µé¢æŠ¥é”™äº†ï¼Œç”¨æˆ·æ— æ³•è®¿é—®ï¼Œä½†æ˜¯æˆ‘æœ¬åœ°æ­£å¸¸ï¼Œåªæœ‰ Android App é‡Œå¼‚å¸¸ï¼Œ</code>åŸºäºæ•é”çš„å—…è§‰ï¼Œè¿™ä¼šæ˜¯ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼Œäºæ˜¯è¿™ä¸ªæ´»å„¿ï¼Œæ¥äº†ã€‚</p><h2 id="1-é—®é¢˜æè¿°"><a href="#1-é—®é¢˜æè¿°" class="headerlink" title="1.é—®é¢˜æè¿°"></a>1.é—®é¢˜æè¿°</h2><p>é¦–å…ˆç®€å•ä»‹ç»ä¸‹ç½‘é¡µçš„åŸºç¡€æŠ€æœ¯æ¶æ„ã€‚</p><blockquote><p>è¯¥ç½‘é¡µç”± React + Typescript ç¼–å†™çš„ä¸€ä¸ªå•é¡µé¢ H5 åº”ç”¨ï¼Œæ”¾åœ¨åŸŸå A ä¸‹ï¼ŒåŒæ—¶ä½¿ç”¨ Axios ä½œä¸ºè¯·æ±‚åŸºç¡€åº“å‘éåŒåŸŸçš„ä¸€ä¸ªæœåŠ¡ B å‘é€äº†èµ„æºè®¿é—®ã€‚èµ„æºè¯·æ±‚ä¸º Get, æ˜¯ä¸€ä¸ªç®€å•è¯·æ±‚ã€‚</p><p>è¯¥é¡µé¢æ”¯æŒå…¬å¸å†…éƒ¨çš„ä¸€ä¸ª App (ä»¥ä¸‹ç§° HomeApp) Webview è®¿é—®ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒç¬¬ä¸‰æ–¹æµè§ˆå™¨è®¿é—®ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ï¼ŒæœåŠ¡ç«¯è®¾ç½®äº† <code>Access-Control-Allow-Origin: *</code> ,å‰ç«¯å¼€å¯äº† <code>withCredentials: true</code>, ä¼šåœ¨è®¿é—®è·¨åŸŸèµ„æºçš„æ—¶å€™å¸¦ä¸Š Cookie.</p></blockquote><p>å†æ¥çœ‹ä¸‹é—®é¢˜çš„æè¿°ï¼š</p><ul><li>ä¸šåŠ¡äººå‘˜åé¦ˆå¼€å¯äº† VPN ä½¿ç”¨HomeAppè®¿é—®è¯¥é¡µé¢ï¼Œé¡µé¢æ— æ³•è®¿é—®</li><li>ä¸å¼€å¯ VPN è®¿é—®é¡µé¢ä¾ç„¶æ— æ³•è®¿é—®</li><li>å¼€å¯ VPN ç”¨ç¬¬ä¸‰æ–¹æµè§ˆå™¨æ‰“å¼€é¡µé¢æ­£å¸¸</li><li>è·¨åŸŸèµ„æºè¿”å›çš„å“åº”ç æ˜¯ 403</li></ul><p>ç»åˆæ­¥æ’æŸ¥ï¼Œé¡µé¢æ— æ³•è®¿é—®æ˜¯å› ä¸ºå‡ºç°äº†è·¨åŸŸèµ„æºé”™è¯¯ã€‚</p><h2 id="2-æ’æŸ¥æµç¨‹"><a href="#2-æ’æŸ¥æµç¨‹" class="headerlink" title="2.æ’æŸ¥æµç¨‹"></a>2.æ’æŸ¥æµç¨‹</h2><h3 id="2-1ç®€å•åˆ†æ"><a href="#2-1ç®€å•åˆ†æ" class="headerlink" title="2.1ç®€å•åˆ†æ"></a>2.1ç®€å•åˆ†æ</h3><p>é¦–å…ˆå¯¹é—®é¢˜åšç®€å•çš„åˆ†æï¼Œå› ä¸ºæ˜¯è·¨åŸŸèµ„æºè®¿é—®å‡ºé”™ï¼Œæœ¬ç€â€œå¤§èƒ†çŒœæƒ³ï¼Œå°å¿ƒæ±‚è¯â€çš„åŸåˆ™ï¼Œé¦–å…ˆè€ƒè™‘æ˜¯èµ„æºè¯·æ±‚å¤´è®¾ç½®ä¸åˆç†ï¼Œç„¶åæ˜¯ç½‘å…³å±‚åšäº†ä¸€äº›æ‹¦æˆªã€‚</p><p>åŒæ—¶ï¼Œä¼Ÿäººæ›¾è¯´è¿‡ï¼Œå¦‚æœä½ èƒ½é‡æ–°é—®é¢˜ï¼Œé‚£ä¹ˆé—®é¢˜å°±å·²ç»è§£å†³äº†ä¸€åŠã€‚æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯é‡ç°é—®é¢˜ã€‚</p><h3 id="2-2è¢«è¯¯å¯¼çš„æ–¹å‘"><a href="#2-2è¢«è¯¯å¯¼çš„æ–¹å‘" class="headerlink" title="2.2è¢«è¯¯å¯¼çš„æ–¹å‘"></a>2.2è¢«è¯¯å¯¼çš„æ–¹å‘</h3><p>å› ä¸ºæ€€ç–‘æ˜¯åç«¯çš„è·¨åŸŸé…ç½®è®¾ç½®æœ‰é—®é¢˜ï¼Œæ‰€ä»¥ä¸€å¼€å§‹å°±æœç€è·¨åŸŸå¤±è´¥çš„æ–¹å‘å»äº†ã€‚åŒæ—¶å› ä¸ºä¸šåŠ¡æåˆ°åœ¨è¿æ¥ VPN çš„æƒ…å†µä¼šæœ‰é—®é¢˜ï¼Œè€Œè‡ªå·±åœ¨æœ¬åœ°å¼€å¯äº†ä»£ç†åŒæ ·å¯ä»¥å¤ç°é—®é¢˜ï¼Œå› æ­¤ä¸‹æ„è¯†çš„è®¤å®šæ˜¯ä»£ç†å±‚çš„æŸäº› cookie å…±äº«å¤±è´¥å¯¼è‡´æ— æ³•è·¨åŸŸï¼Œä½†åœ¨è¦æ±‚ä¸šåŠ¡å…³æ‰ä»£ç†è®¿é—®å´ä¾ç„¶å­˜åœ¨é—®é¢˜ã€‚</p><p>åæ¥ç®€å•æ±‚è¯åå‘ç°å¹¶éå¦‚æ­¤ï¼Œå› ä¸ºåœ¨å…¬å¸çš„æœåŠ¡ç½‘å…³å±‚æœ‰ä¸€å±‚æµé‡æ‹¦æˆªï¼Œ<code>allow_office_ip</code> ï¼Œè¯¥é…ç½®é™åˆ¶äº†å¿…é¡»æ˜¯å…¬å¸çš„åŠå…¬ç½‘ç»œæ‰å¯ä»¥è®¿é—®è¯¥é¡µé¢ã€‚</p><p>åœ¨è”ç³»å…¬å¸çš„ SRE åŒå­¦å°†è¯¥é…ç½®ç¦ç”¨åå‘ç°ï¼Œæœ¬åœ°åœ¨ç¬¬ä¸‰æ–¹æµè§ˆå™¨ä¸­è®¿é—®æ­£å¸¸ï¼Œä½†æ˜¯åœ¨ HomeApp è®¿é—®å¼‚å¸¸ã€‚</p><p>å› æ­¤ï¼Œå¿…é¡»è¦ç”¨ debug æ¨¡å¼è¯¦ç»†çš„èµ°éæµç¨‹äº†ã€‚</p><h3 id="2-3çœŸæ­£çš„é—®é¢˜é‡ç°"><a href="#2-3çœŸæ­£çš„é—®é¢˜é‡ç°" class="headerlink" title="2.3çœŸæ­£çš„é—®é¢˜é‡ç°"></a>2.3çœŸæ­£çš„é—®é¢˜é‡ç°</h3><p>å¯¹äºå¸¸è§ H5 åº”ç”¨ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šç§æ–¹å¼å¯ä»¥è¿›è¡Œè°ƒè¯•ã€‚</p><ol><li>ä½¿ç”¨ whistle proxy æ¨¡å¼è¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼Œå¦‚æ³¨å…¥ vConsole, çº¿ä¸Šèµ„æºæ˜ å°„æœ¬åœ°</li><li>Android Webview ä½¿ç”¨ <code>chrome://inspect</code> æ¨¡å¼è¿›è¡Œæœ‰çº¿è°ƒè¯•</li><li>iOS ä½¿ç”¨Safariæµè§ˆå™¨æ‰“å¼€ H5ï¼Œå¯ä»¥ä½¿ç”¨å¼€å‘è€…å·¥å…·è¿›è¡Œæœ‰çº¿è°ƒè¯•</li></ol><p>å› ä¸ºæˆ‘ä»¬çš„ HomeApp ä½¿ç”¨çš„å°±æ˜¯åŸç”Ÿçš„ Webviewï¼Œå› æ­¤å¯ä»¥ç¬¬ 2 ç§æ–¹å¼è¿›è¡Œè°ƒè¯•ã€‚å› ä¸ºåœ¨ç¬¬ä¸‰æ–¹æµè§ˆå™¨ä¸­è¡¨ç°æ­£å¸¸ï¼Œä½†æ˜¯åœ¨ HomeApp ä¸­è¡¨ç°å¼‚å¸¸ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡ <code>chrome://inspect</code> å¤åˆ¶å‡ºé”™çš„è¯·æ±‚ã€‚</p><p><img src="https://s2.loli.net/2023/03/14/flsUaRBZTDo1ep2.png"></p><p>HomeApp ä¸­è·¨åŸŸçš„è¯·æ±‚å¦‚ä¸‹</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// HomeApp request</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://test.domain.com/sp-openapi/collection/barcode/app?shipment_id=SPXMY031824121872&amp;token=91b124840148254e874d4a9476b5b8698c4122525281347bf95d7c3bf8481c40"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token string">"headers"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token string">"accept"</span><span class="token punctuation">:</span> <span class="token string">"application/json, text/plain, */*"</span><span class="token punctuation">,</span>    <span class="token string">"x-csrftoken"</span><span class="token punctuation">:</span> <span class="token string">"vOxigZ9KDrP0xEu6jagcTEgEITV28AlM"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string">"referrer"</span><span class="token punctuation">:</span> <span class="token string">"https://domain.com/"</span><span class="token punctuation">,</span>  <span class="token string">"referrerPolicy"</span><span class="token punctuation">:</span> <span class="token string">"strict-origin-when-cross-origin"</span><span class="token punctuation">,</span>  <span class="token string">"body"</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  <span class="token string">"method"</span><span class="token punctuation">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>  <span class="token string">"mode"</span><span class="token punctuation">:</span> <span class="token string">"cors"</span><span class="token punctuation">,</span>  <span class="token string">"credentials"</span><span class="token punctuation">:</span> <span class="token string">"omit"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>çœ‹èµ·æ¥å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æµè§ˆå™¨ä¸­çš„è¯·æ±‚ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Chrome request</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"https://test.domain.com/sp-openapi/collection/barcode/app?shipment_id=SPXMY031824121872&amp;token=91b124840148254e874d4a9476b5b8698c4122525281347bf95d7c3bf8481c40"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token string">"headers"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token string">"accept"</span><span class="token punctuation">:</span> <span class="token string">"application/json, text/plain, */*"</span><span class="token punctuation">,</span>    <span class="token string">"sec-ch-ua"</span><span class="token punctuation">:</span> <span class="token string">"\"Chromium\";v=\"110\", \"Not A(Brand\";v=\"24\", \"Google Chrome\";v=\"110\""</span><span class="token punctuation">,</span>    <span class="token string">"sec-ch-ua-mobile"</span><span class="token punctuation">:</span> <span class="token string">"?1"</span><span class="token punctuation">,</span>    <span class="token string">"sec-ch-ua-platform"</span><span class="token punctuation">:</span> <span class="token string">"\"Android\""</span><span class="token punctuation">,</span>    <span class="token string">"sec-fetch-dest"</span><span class="token punctuation">:</span> <span class="token string">"empty"</span><span class="token punctuation">,</span>    <span class="token string">"sec-fetch-mode"</span><span class="token punctuation">:</span> <span class="token string">"cors"</span><span class="token punctuation">,</span>    <span class="token string">"sec-fetch-site"</span><span class="token punctuation">:</span> <span class="token string">"same-site"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string">"referrer"</span><span class="token punctuation">:</span> <span class="token string">"https://domain.com/"</span><span class="token punctuation">,</span>  <span class="token string">"referrerPolicy"</span><span class="token punctuation">:</span> <span class="token string">"strict-origin-when-cross-origin"</span><span class="token punctuation">,</span>  <span class="token string">"body"</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  <span class="token string">"method"</span><span class="token punctuation">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>  <span class="token string">"mode"</span><span class="token punctuation">:</span> <span class="token string">"cors"</span><span class="token punctuation">,</span>  <span class="token string">"credentials"</span><span class="token punctuation">:</span> <span class="token string">"omit"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç„¶åæˆ‘ä»¬åšäº†ä»¥ä¸‹å°è¯•</p><ul><li><code>HomeApp request</code> æ”¾åˆ° Chrome ä¸­æ‰§è¡Œï¼Œä¾ç„¶å¤±è´¥</li><li><code>Chrome request</code> æ”¾åˆ° HomeApp ä¸­æ‰§è¡Œï¼ŒæˆåŠŸå“åº”</li></ul><p>é‚£ä¹ˆçœ‹èµ·æ¥å°±æ˜¯å…¶ä¸­éƒ¨åˆ† Header é…ç½®çš„é—®é¢˜äº†ï¼Œé€šè¿‡æ¯”è¾ƒä¸¤è€…çš„å·®å¼‚ï¼Œæˆ‘ä»¬å‘ç°é€šè¿‡ HomeApp è®¿é—®çš„èµ„æºä¼šå¸¦ä¸Šä¸€ä¸ª <code>x-csrftoken</code>ï¼Œ ç»è¿‡æ•°æ¬¡éªŒè¯ä¹Ÿå‘ç°ç¡®å®æ˜¯å› ä¸ºè¿™ä¸ªé…ç½®å¯¼è‡´äº†è·¨åŸŸé”™è¯¯ã€‚</p><h3 id="2-4CSRF-TOKEN"><a href="#2-4CSRF-TOKEN" class="headerlink" title="2.4CSRF-TOKEN"></a>2.4CSRF-TOKEN</h3><h4 id="CSRF-æ”»å‡»æ˜¯ä»€ä¹ˆ"><a href="#CSRF-æ”»å‡»æ˜¯ä»€ä¹ˆ" class="headerlink" title="CSRF æ”»å‡»æ˜¯ä»€ä¹ˆ"></a>CSRF æ”»å‡»æ˜¯ä»€ä¹ˆ</h4><p>CSRFï¼ˆCross-site request forgeryï¼‰è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼šæ”»å‡»è€…è¯±å¯¼å—å®³è€…è¿›å…¥ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œåœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ä¸­ï¼Œå‘è¢«æ”»å‡»ç½‘ç«™å‘é€è·¨ç«™è¯·æ±‚ã€‚åˆ©ç”¨å—å®³è€…åœ¨è¢«æ”»å‡»ç½‘ç«™å·²ç»è·å–çš„æ³¨å†Œå‡­è¯ï¼Œç»•è¿‡åå°çš„ç”¨æˆ·éªŒè¯ï¼Œè¾¾åˆ°å†’å……ç”¨æˆ·å¯¹è¢«æ”»å‡»çš„ç½‘ç«™æ‰§è¡ŒæŸé¡¹æ“ä½œçš„ç›®çš„ã€‚</p><p>ä¸€ä¸ªå…¸å‹çš„CSRFæ”»å‡»æœ‰ç€å¦‚ä¸‹çš„æµç¨‹ï¼š</p><ul><li>å—å®³è€…ç™»å½•a.comï¼Œå¹¶ä¿ç•™äº†ç™»å½•å‡­è¯ï¼ˆCookieï¼‰ã€‚</li><li>æ”»å‡»è€…å¼•è¯±å—å®³è€…è®¿é—®äº†b.comã€‚</li><li>b.com å‘ a.com å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼ša.com&#x2F;act&#x3D;xxã€‚æµè§ˆå™¨ä¼šé»˜è®¤æºå¸¦a.comçš„Cookieã€‚</li><li>a.comæ¥æ”¶åˆ°è¯·æ±‚åï¼Œå¯¹è¯·æ±‚è¿›è¡ŒéªŒè¯ï¼Œå¹¶ç¡®è®¤æ˜¯å—å®³è€…çš„å‡­è¯ï¼Œè¯¯ä»¥ä¸ºæ˜¯å—å®³è€…è‡ªå·±å‘é€çš„è¯·æ±‚ã€‚</li><li>a.comä»¥å—å®³è€…çš„åä¹‰æ‰§è¡Œäº†act&#x3D;xxã€‚</li><li>æ”»å‡»å®Œæˆï¼Œæ”»å‡»è€…åœ¨å—å®³è€…ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œå†’å……å—å®³è€…ï¼Œè®©a.comæ‰§è¡Œäº†è‡ªå·±å®šä¹‰çš„æ“ä½œã€‚</li></ul><p><strong>ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœä½ çš„æœåŠ¡çš„è·¨åŸŸè®¾ç½®é…ç½®ä¸å½“ï¼Œæ¯”å¦‚<code>Access-Control-Allow-Origin: *</code> ,åŒæ—¶å‰ç«¯å¼€å¯äº† <code>withCredentials: true</code>ï¼Œé‚£ä¹ˆä¸€æ—¦ä½ çš„ç™»å½•å‡­è¯è¢«çªƒå–ï¼ŒæœåŠ¡å°±æ˜¯é€æ˜çš„äº†ï¼Œè¿™å­˜åœ¨ä¸¥é‡çš„å®‰å…¨æ¼æ´ã€‚</strong></p><p>CSRF-TOKEN å°±æ˜¯è§£å†³è¿™ç±»æ¼æ´çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œå®ƒçš„åŸç†æ˜¯ï¼š<strong>è¦æ±‚æ‰€æœ‰çš„ç”¨æˆ·è¯·æ±‚éƒ½æºå¸¦ä¸€ä¸ªCSRFæ”»å‡»è€…æ— æ³•è·å–åˆ°çš„Tokenã€‚æœåŠ¡å™¨é€šè¿‡æ ¡éªŒè¯·æ±‚æ˜¯å¦æºå¸¦æ­£ç¡®çš„Tokenï¼Œæ¥æŠŠæ­£å¸¸çš„è¯·æ±‚å’Œæ”»å‡»çš„è¯·æ±‚åŒºåˆ†å¼€ï¼Œä¹Ÿå¯ä»¥é˜²èŒƒCSRFçš„æ”»å‡»</strong>ã€‚</p><p>å®Œæ•´çš„æµç¨‹åº”è¯¥æ˜¯ä¸‹é¢çš„æ ·å­ï¼š</p><p><img src="https://s2.loli.net/2023/03/14/cf3PZHu95JKTjDk.png"></p><h4 id="chat-GPT-çš„å›å¤"><a href="#chat-GPT-çš„å›å¤" class="headerlink" title="chat-GPT çš„å›å¤"></a>chat-GPT çš„å›å¤</h4><p><img src="https://s2.loli.net/2023/03/15/Lw9ROv68p7HuFQZ.png"></p><h2 id="3-é—®é¢˜è§£å†³"><a href="#3-é—®é¢˜è§£å†³" class="headerlink" title="3.é—®é¢˜è§£å†³"></a>3.é—®é¢˜è§£å†³</h2><p>é‚£å†å›åˆ°æˆ‘ä»¬çš„é—®é¢˜æœ¬èº«ï¼Œå‰ç«¯åŒå­¦ä½¿ç”¨ Axios é»˜è®¤çš„é…ç½®, å› ä¸ºå¼€å¯äº†<code>withCredentials: true</code>, æ‰€ä»¥ä¹Ÿé»˜è®¤åŠ ä¸Š csrf çš„é€‰é¡¹ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>  withCredentials<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// `xsrfCookieName` is the name of the cookie to use as a value for xsrf token</span>  xsrfCookieName<span class="token punctuation">:</span> <span class="token string">'csrftoken'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// `xsrfHeaderName` is the name of the http header that carries the xsrf token value</span>  xsrfHeaderName<span class="token punctuation">:</span> <span class="token string">'X-CSRFToken'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">createRequest</span><span class="token punctuation">(</span>baseURL<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åç«¯åŒå­¦ä½¿ç”¨æ˜¯å…¬å¸çš„å†…éƒ¨ Golang æ¡†æ¶ï¼Œè¯¥æ¡†æ¶é›†æˆäº† <a href="https://github.com/gorilla/csrf">go-csrf</a> çš„èƒ½åŠ›ï¼Œé»˜è®¤æ˜¯å¼€å¯çš„ï¼Œä½†æ˜¯å¦‚æœæƒ³è¦ä½¿ç”¨ csrf-token çš„èƒ½åŠ›ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œé…ç½®ã€‚</p><pre class=" language-go"><code class="language-go"><span class="token keyword">var</span> demoKey <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"secrect-key"</span><span class="token punctuation">)</span>p <span class="token operator">:=</span> csrf<span class="token punctuation">.</span><span class="token function">Protect</span><span class="token punctuation">(</span>demoKey<span class="token punctuation">,</span>  csrf<span class="token punctuation">.</span><span class="token function">MaxAge</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>MaxAge<span class="token punctuation">)</span><span class="token punctuation">,</span> csrf<span class="token punctuation">.</span><span class="token function">Domain</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>Domain<span class="token punctuation">)</span><span class="token punctuation">,</span> csrf<span class="token punctuation">.</span><span class="token function">Path</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>Path<span class="token punctuation">)</span><span class="token punctuation">,</span>  csrf<span class="token punctuation">.</span><span class="token function">HttpOnly</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>HttpOnly<span class="token punctuation">)</span><span class="token punctuation">,</span> csrf<span class="token punctuation">.</span><span class="token function">Secure</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>Secure<span class="token punctuation">)</span><span class="token punctuation">,</span> csrf<span class="token punctuation">.</span><span class="token function">SameSite</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>SameSite<span class="token punctuation">)</span><span class="token punctuation">,</span>  csrf<span class="token punctuation">.</span><span class="token function">RequestHeader</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>RequestHeader<span class="token punctuation">)</span><span class="token punctuation">,</span> csrf<span class="token punctuation">.</span><span class="token function">FieldName</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>FieldName<span class="token punctuation">)</span><span class="token punctuation">,</span>  csrf<span class="token punctuation">.</span><span class="token function">ErrorHandler</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>ErrorHandler<span class="token punctuation">)</span><span class="token punctuation">,</span> csrf<span class="token punctuation">.</span><span class="token function">CookieName</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>CookieName<span class="token punctuation">)</span><span class="token punctuation">,</span>  csrf<span class="token punctuation">.</span><span class="token function">TrustedOrigins</span><span class="token punctuation">(</span>csrfConf<span class="token punctuation">.</span>TrustedOrigins<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cp<span class="token punctuation">)</span>p<span class="token punctuation">.</span><span class="token function">ServeHTTP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cp<span class="token punctuation">,</span> req<span class="token punctuation">)</span></code></pre><p>æ‰€ä»¥é—®é¢˜å‡ºç°çš„åŸå› æ˜¯ï¼š<strong>å‰åç«¯åŒå­¦å¿½è§†äº†é¡¹ç›®ä¸­çš„é»˜è®¤é…ç½®ï¼Œå¯¹äºè¿™ä¸ª csrf-token æ²¡æœ‰å¾ˆå¥½çš„çº¦å®šï¼Œå¯¼è‡´ csrf-token æ ¡éªŒå¤±è´¥ã€‚</strong></p><p>æƒ³è§£å†³è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§æ–¹å¼ã€‚</p><h3 id="3-1ä¸ä½¿ç”¨-csrf-token-çš„æ ¡éªŒ"><a href="#3-1ä¸ä½¿ç”¨-csrf-token-çš„æ ¡éªŒ" class="headerlink" title="3.1ä¸ä½¿ç”¨ csrf-token çš„æ ¡éªŒ"></a>3.1ä¸ä½¿ç”¨ csrf-token çš„æ ¡éªŒ</h3><p>å°† Axios çš„é»˜è®¤é…ç½®ä¿®æ”¹ä¸ºä¸ä¼ é€’ csrf-token ï¼Œé‚£ä¹ˆå°±ä¸ä¼šè§¦å‘ csrf-token çš„æ ¡éªŒã€‚ä½†è¿™ç§æ–¹å¼ä»…ä¸ºä¸´æ—¶è§£å†³ï¼Œå¹¶ä¸èƒ½è§£å†³æœ¬èº«çš„å®‰å…¨é—®é¢˜ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>  withCredentials<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">createRequest</span><span class="token punctuation">(</span>baseURL<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="3-2å¼€å¯-csrf-token-çš„æ£€éªŒï¼Œåç«¯é…åˆä¿®æ”¹"><a href="#3-2å¼€å¯-csrf-token-çš„æ£€éªŒï¼Œåç«¯é…åˆä¿®æ”¹" class="headerlink" title="3.2å¼€å¯ csrf-token çš„æ£€éªŒï¼Œåç«¯é…åˆä¿®æ”¹"></a>3.2å¼€å¯ csrf-token çš„æ£€éªŒï¼Œåç«¯é…åˆä¿®æ”¹</h3><p>å‰åç«¯çº¦å®šå¥½ csrf-token çš„å–å€¼ä¼ é€’ï¼Œåšå¥½ csrf-token çš„ä¸€è‡´æ€§æ ¡éªŒï¼Œè¿™ç§æ–¹å¼èƒ½æœ€å¤§ç¨‹åº¦çš„ä¿®å¤å®‰å…¨æ¼æ´ï¼Œæ¨èä½¿ç”¨è¿™ç§æ–¹å¼ã€‚</p><h2 id="4-æ€è€ƒ"><a href="#4-æ€è€ƒ" class="headerlink" title="4.æ€è€ƒ"></a>4.æ€è€ƒ</h2><p>è¿™ä¸ªé—®é¢˜å‡ºç°çš„åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå°‘è§çš„ï¼Œå› ä¸ºä¸ºäº†è§£å†³ä¸€ä¸ªè·¨åŸŸé—®é¢˜ï¼Œæˆ‘ä»¬ä¸ºäº†çœäº‹è€Œè¦æ±‚åç«¯å¼€å¯<code>Access-Control-Allow-Origin: *</code>ï¼Œè¿™ç§æ–¹å¼æ˜¯å­˜åœ¨å®‰å…¨æ¼æ´çš„ï¼Œè€Œä¸”ä¸­é—´é“¾è·¯ä¸é€æ˜ï¼Œä¸åˆ©äºæˆ‘ä»¬çš„é—®é¢˜æ’æŸ¥ã€‚</p><p>å¯¹äºå¸¸è§çš„è·¨åŸŸé—®é¢˜ï¼Œå¦‚æœèµ„æºçš„è°ƒç”¨åœ¨åŒä¸€ä¸ªä¸šåŠ¡å›¢é˜Ÿï¼Œæ¨èä½¿ç”¨ å‰ç«¯BFFä»£ç†çš„æ–¹å¼è¿›è¡Œä¸­è½¬ï¼Œä»£ç†çš„é€»è¾‘å‰ç½®æœ‰ç›Šäºé—®é¢˜çš„æ’æŸ¥ï¼ˆå› ä¸ºè·¨åŸŸé—®é¢˜åªå‘ç”Ÿåœ¨æµè§ˆå™¨ï¼Œæ‰€ä»¥åç«¯åŒå­¦å¯èƒ½æ¯”è¾ƒé™Œç”Ÿï¼‰ã€‚</p><p>åŒæ—¶ï¼Œå¦‚æœå¿…é¡»è¦ä½¿ç”¨ <code>Access-Control-Allow-Origin: *</code>è¿™ç§æ–¹å¼ï¼Œä¹Ÿå°½é‡åœ¨ Nginx ä»£ç†å±‚ç”±è¿ç»´åŒå­¦ä¿®æ”¹ï¼Œè¿™æ ·çµæ´»æ€§ä¹Ÿå¯ä»¥æå‡å¾ˆå¤šã€‚</p><h2 id="5-å‚è€ƒ"><a href="#5-å‚è€ƒ" class="headerlink" title="5.å‚è€ƒ"></a>5.å‚è€ƒ</h2><ul><li><a href="https://www.cnblogs.com/fulu/p/13879080.html">Sec-Fetch-*è¯·æ±‚å¤´ï¼Œäº†è§£ä¸‹?</a></li><li><a href="https://tech.meituan.com/2018/10/11/fe-security-csrf.html">å‰ç«¯å®‰å…¨ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šå¦‚ä½•é˜²æ­¢CSRFæ”»å‡»ï¼Ÿ</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> é—®é¢˜æ’æŸ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€è¡Œä»£ç ä¸ºé¡¹ç›®çš„ commit å¸¦ä¸Š jira number</title>
      <link href="/2023/01/11/"/>
      <url>/2023/01/11/</url>
      
        <content type="html"><![CDATA[<h2 id="å¸¸è§„ä½¿ç”¨æ–¹å¼"><a href="#å¸¸è§„ä½¿ç”¨æ–¹å¼" class="headerlink" title="å¸¸è§„ä½¿ç”¨æ–¹å¼"></a>å¸¸è§„ä½¿ç”¨æ–¹å¼</h2><pre class=" language-shell"><code class="language-shell">echo '# add jira number# $1 and $2 defined by GitCOMMIT_MSG_FILE=$1COMMIT_TYPE=$2# You can update this variable to your JIRA projects in REGEXP format.JIRA_PROJECT="(SPXFM|SPSERP)"CURRENT_BRANCH=$(git symbolic-ref --short -q HEAD)                     # Get current branch nameJIRA_TAG=$(echo ${CURRENT_BRANCH} | egrep -o "${JIRA_PROJECT}-[0-9]+") # Parse JIRA ID from branch name# Write JIRA ID as the prefix of the first line of commit message.if [ -n "${JIRA_TAG}" ]; then  if ! head -1 ${COMMIT_MSG_FILE} | egrep -i "${JIRA_TAG}" >/dev/null; then # Not write JIRA ID if already has.    sed -in-place -e "1s/^/[${JIRA_TAG}] /1" "${COMMIT_MSG_FILE}"  fifi' >> ./.git/hooks/prepare-commit-msg</code></pre><p>ç›´æ¥å¤åˆ¶ä¸Šé¢çš„å‘½ä»¤åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œã€‚å°†ä¸ºé¡¹ç›®ä¸­çš„æ¯ä¸ª commit è‡ªåŠ¨å¸¦ä¸Š jira å·ã€‚</p><p>commit çš„æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="https://s2.loli.net/2023/03/03/yr3x81UaKZ6vSA2.png" alt="git-hooks-jira-screenshot.png"></p><h2 id="ä½¿ç”¨-submodules-çš„æ–¹å¼"><a href="#ä½¿ç”¨-submodules-çš„æ–¹å¼" class="headerlink" title="ä½¿ç”¨ submodules çš„æ–¹å¼"></a>ä½¿ç”¨ submodules çš„æ–¹å¼</h2><pre class=" language-sh"><code class="language-sh">echo '# add jira number# $1 and $2 defined by GitCOMMIT_MSG_FILE=$1COMMIT_TYPE=$2# You can update this variable to your JIRA projects in REGEXP format.JIRA_PROJECT="(SPXFM|SPSERP)"CURRENT_BRANCH=$(git symbolic-ref --short -q HEAD)                     # Get current branch nameJIRA_TAG=$(echo ${CURRENT_BRANCH} | egrep -o "${JIRA_PROJECT}-[0-9]+") # Parse JIRA ID from branch name# Write JIRA ID as the prefix of the first line of commit message.if [ -n "${JIRA_TAG}" ]; then  if ! head -1 ${COMMIT_MSG_FILE} | egrep -i "${JIRA_TAG}" >/dev/null; then # Not write JIRA ID if already has.    sed -in-place -e "1s/^/[${JIRA_TAG}] /1" "${COMMIT_MSG_FILE}"  fifi' >> ./.git/modules/line-haul/hooks/prepare-commit-msg</code></pre><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>æŸäº›é¡¹ç›®å¯èƒ½æœ¬èº«ä¸å­˜åœ¨ prepare-commit-msg æ–‡ä»¶ï¼Œè¿™æ—¶ä½¿ç”¨ä¸Šè¿°å‘½ä»¤ä¼šæ–°å¢ä¸€ä¸ª prepare-commit-msg æ–‡ä»¶ï¼Œä½ éœ€è¦ä¿®æ”¹è¯¥æ–‡ä»¶çš„æ‰§è¡Œæƒé™ã€‚</p><p><img src="https://s2.loli.net/2023/03/03/7tNqsE3aI2bTzLk.png" alt="git-hooks-error.png"></p><blockquote><p>hint: The â€˜.git&#x2F;hooks&#x2F;prepare-commit-msgâ€™ hook was ignored because itâ€™s not set as executable.<br>hint: You can disable this warning with <code>git config advice.ignoredHook false</code>.</p></blockquote><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä¿®æ”¹æƒé™</p><pre class=" language-bash"><code class="language-bash"><span class="token function">chmod</span> +x ./.git/hooks/prepare-commit-msg</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git é»˜è®¤ track åŸç”Ÿåˆ†æ”¯ï¼Œgit push ä¸æ‰“æ–­</title>
      <link href="/2023/01/09/"/>
      <url>/2023/01/09/</url>
      
        <content type="html"><![CDATA[<p>æ¯æ¬¡ checkout ä¸€ä¸ªæ–°åˆ†æ”¯æ—¶ï¼Œgit push æ€»ä¼šæç¤ºç±»ä¼¼ä¸‹é¢çš„æç¤ºï¼Œç•¥å¾®éš¾å—</p><p><img src="https://s2.loli.net/2023/03/03/TCusdqBpWeb3U7l.png" alt="git-track-demo.png"></p><p>åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ååº”è¯¥æ˜¯ä¸€è‡´çš„ï¼ˆè¿™ä¹Ÿæ–¹ä¾¿ä½ ç®¡ç†éœ€æ±‚ï¼‰ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è®¾ç½®é»˜è®¤ track</p><pre class=" language-sh"><code class="language-sh">git config --global --replace-all push.default currentgit config --global --replace-all push.autoSetupRemote true</code></pre><p>æ›´å¤šé…ç½®çœ‹è¿™é‡Œâ†“ï¼š</p><p><a href="https://git-scm.com/docs/git-config">https://git-scm.com/docs/git-config</a></p><p><img src="https://s2.loli.net/2023/03/03/TKVL8Y69tZkvM13.png" alt="git-push-doc.png"></p><p>æŸäº›æƒ…å†µä¸‹ï¼Œä½ éœ€è¦ä¿®æ”¹ä½ çš„éœ€æ±‚åˆ†æ”¯åï¼Œåœ¨ä¿®æ”¹åˆ†æ”¯åç§°åï¼Œä½ å…ˆä¿®æ”¹äº†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯çš„æ˜ å°„ï¼Œä½† <code>git push</code> åå‘ç°è¿˜æ˜¯ä¼šæ˜ å°„åˆ°æ—§åˆ†æ”¯åã€‚è¿™æ—¶å¯ä»¥å°è¯•ç›´æ¥ä¿®æ”¹æœ¬åœ°çš„ cache ã€‚</p><pre><code>vi ~/.git/config</code></pre><p><img src="https://s2.loli.net/2023/03/03/ksN3B8DdGojLYvX.png" alt="git-track-config.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ cz-git ä¸ºä½ çš„æäº¤å¸¦ä¸Š jira å·</title>
      <link href="/2022/07/21/"/>
      <url>/2022/07/21/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li>åœ¨å¼€å‘è§„èŒƒé‡Œå…¶å®æ˜¯æœ‰è¦æ±‚å¸¦ä¸Š jira å·çš„ï¼Œä½†æ˜¯ç›®å‰å¤§éƒ¨åˆ† commit éƒ½æ²¡æœ‰å¸¦ï¼Œå› ä¸ºè¾“å…¥èµ·æ¥æ¯”è¾ƒéº»çƒ¦</li><li>å¦‚æœå¯ä»¥åœ¨ commit ä¿¡æ¯ä¸­å¸¦ä¸Šä¸€äº›ä¸šåŠ¡æ¨¡å—çš„ä¿¡æ¯ï¼Œä¹Ÿæ¯”è¾ƒæ–¹ä¾¿æ’æŸ¥é—®é¢˜</li></ol><h2 id="cz-git-ä»‹ç»"><a href="#cz-git-ä»‹ç»" class="headerlink" title="cz-git ä»‹ç»"></a>cz-git ä»‹ç»</h2><p>ä¸€å¥è¯ï¼Œå¯ä»¥å¸®åŠ©ä½ è§„èŒƒ commit æäº¤ã€‚</p><p>è¯¦ç»†ä»‹ç»å¯ä»¥å‚è€ƒ <a href="https://cz-git.qbb.sh/zh/guide/introduction.html#%E4%BB%8B%E7%BB%8D">cz-git ä»‹ç»</a></p><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><h3 id="å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰"><a href="#å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰" class="headerlink" title="å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰"></a>å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰</h3><p>æ¨èå…¨å±€å®‰è£…æ­¤å‘½ä»¤ï¼Œå¥½å¤„æ˜¯ï¼š</p><ul><li>ä¸ä¾µå…¥ä¸šåŠ¡ä»“åº“ï¼Œä¸šåŠ¡ä»“åº“æ›´å¹²å‡€</li><li>ä¸ä¼šå½±å“å…¶ä»–äººçš„æäº¤ï¼Œå¦‚æœåç»­ä½œä¸ºå¼ºåˆ¶ commit è§„èŒƒï¼Œå¯åœ¨å·¥ç¨‹å†…éƒ¨å®‰è£…</li></ul><h4 id="step-1-ä¸‹è½½å…¨å±€ä¾èµ–"><a href="#step-1-ä¸‹è½½å…¨å±€ä¾èµ–" class="headerlink" title="step 1: ä¸‹è½½å…¨å±€ä¾èµ–"></a>step 1: ä¸‹è½½å…¨å±€ä¾èµ–</h4><pre class=" language-sh"><code class="language-sh">npm install -g cz-git commitizen</code></pre><h4 id="step-2-å…¨å±€é…ç½®é€‚é…å™¨ç±»å‹"><a href="#step-2-å…¨å±€é…ç½®é€‚é…å™¨ç±»å‹" class="headerlink" title="step 2: å…¨å±€é…ç½®é€‚é…å™¨ç±»å‹"></a>step 2: å…¨å±€é…ç½®é€‚é…å™¨ç±»å‹</h4><pre><code>echo &#39;&#123; &quot;path&quot;: &quot;cz-git&quot;, &quot;useEmoji&quot;: true &#125;&#39; &gt; ~/.czrc</code></pre><h4 id="step-3-è‡ªå®šä¹‰é…ç½®ï¼Œæ”¯æŒ-jira-å·"><a href="#step-3-è‡ªå®šä¹‰é…ç½®ï¼Œæ”¯æŒ-jira-å·" class="headerlink" title="step 3: è‡ªå®šä¹‰é…ç½®ï¼Œæ”¯æŒ jira å·"></a>step 3: è‡ªå®šä¹‰é…ç½®ï¼Œæ”¯æŒ jira å·</h4><p>step 3: æ·»åŠ è‡ªå®šä¹‰é…ç½®(å¯é€‰ï¼Œä½¿ç”¨é»˜è®¤é…ç½®)</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// .commitlintrc.js</span><span class="token comment" spellcheck="true">/** @type {import('cz-git').UserConfig} */</span><span class="token keyword">const</span> <span class="token punctuation">{</span> execSync <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// @tip: git branch name = feature/SPXFM-12345   =>    auto get feature = #SPXFM-12345</span><span class="token keyword">const</span> branch <span class="token operator">=</span> <span class="token function">execSync</span><span class="token punctuation">(</span><span class="token string">'git rev-parse --abbrev-ref HEAD'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> feature <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>branch<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'feature/SPXFM'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> content <span class="token operator">=</span> branch<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> splitArr <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  feature <span class="token operator">=</span> <span class="token template-string"><span class="token string">` </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>splitArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>splitArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> `</span></span><span class="token punctuation">}</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// @see: https://commitlint.js.org/#/reference-rules</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  prompt<span class="token punctuation">:</span> <span class="token punctuation">{</span>    messages<span class="token punctuation">:</span> <span class="token punctuation">{</span>      type<span class="token punctuation">:</span> <span class="token string">"Select the type of change that you're committing:"</span><span class="token punctuation">,</span>      scope<span class="token punctuation">:</span> <span class="token string">"Denote the SCOPE of this change (optional):"</span><span class="token punctuation">,</span>      customScope<span class="token punctuation">:</span> <span class="token string">"Denote the SCOPE of this change:"</span><span class="token punctuation">,</span>      subject<span class="token punctuation">:</span> <span class="token string">"Write a SHORT, IMPERATIVE tense description of the change:\n"</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token string">'Provide a LONGER description of the change (optional). Use "|" to break new line:\n'</span><span class="token punctuation">,</span>      breaking<span class="token punctuation">:</span> <span class="token string">'List any BREAKING CHANGES (optional). Use "|" to break new line:\n'</span><span class="token punctuation">,</span>      footerPrefixsSelect<span class="token punctuation">:</span> <span class="token string">"Select the ISSUES type of changeList by this change (optional):"</span><span class="token punctuation">,</span>      customFooterPrefixs<span class="token punctuation">:</span> <span class="token string">"Input ISSUES Prefix:"</span><span class="token punctuation">,</span>      footer<span class="token punctuation">:</span> <span class="token string">"List any ISSUES by this change. E.g.: #31, #34, #I972S:\n"</span><span class="token punctuation">,</span>      confirmCommit<span class="token punctuation">:</span> <span class="token string">"Are you sure you want to proceed with the commit above ?"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    types<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"feat"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"feat:     âœ¨  A new feature"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":sparkles:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"fix"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"fix:      ğŸ›  A bug fix"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":bug:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"docs"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"docs:     ğŸ“  Documentation only changes"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":memo:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"style"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"style:    ğŸ’„  Changes that do not affect the meaning of the code"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":lipstick:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"refactor"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"refactor: â™»ï¸   A code change that neither fixes a bug nor adds a feature"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":recycle:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"perf"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"perf:     âš¡ï¸  A code change that improves performance"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":zap:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"test"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"test:     âœ…  Adding missing tests or correcting existing tests"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":white_check_mark:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"build"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"build:    ğŸ—ï¸   Changes that affect the build system or external dependencies"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":building_construction:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"ci"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"ci:       ğŸ’š  Changes to our CI configuration files and scripts"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":green_heart:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"chore"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"chore:    ğŸ”¨  Other changes that don't modify src or test files"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":hammer:"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"revert"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"revert:   âªï¸  Reverts a previous commit"</span><span class="token punctuation">,</span> emoji<span class="token punctuation">:</span> <span class="token string">":rewind:"</span> <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    useEmoji<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    scopes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    allowCustomScopes<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    allowEmptyScopes<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    customScopesAlign<span class="token punctuation">:</span> <span class="token string">"bottom"</span><span class="token punctuation">,</span>    customScopesAlias<span class="token punctuation">:</span> <span class="token string">"custom"</span><span class="token punctuation">,</span>    emptyScopesAlias<span class="token punctuation">:</span> <span class="token string">"empty"</span><span class="token punctuation">,</span>    upperCaseSubject<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    allowBreakingChanges<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'feat'</span><span class="token punctuation">,</span> <span class="token string">'fix'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    breaklineNumber<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>    breaklineChar<span class="token punctuation">:</span> <span class="token string">"|"</span><span class="token punctuation">,</span>    skipQuestions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'scope'</span><span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'breaking'</span><span class="token punctuation">,</span> <span class="token string">'footer'</span><span class="token punctuation">,</span> <span class="token string">'footerPrefix'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    issuePrefixs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">"closed"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"closed:   ISSUES has been processed"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    customIssuePrefixsAlign<span class="token punctuation">:</span> <span class="token string">"top"</span><span class="token punctuation">,</span>    emptyIssuePrefixsAlias<span class="token punctuation">:</span> <span class="token string">"skip"</span><span class="token punctuation">,</span>    customIssuePrefixsAlias<span class="token punctuation">:</span> <span class="token string">"custom"</span><span class="token punctuation">,</span>    confirmColorize<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    maxHeaderLength<span class="token punctuation">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>    maxSubjectLength<span class="token punctuation">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>    minSubjectLength<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    scopeOverrides<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>    defaultBody<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    defaultIssues<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    defaultScope<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    defaultSubject<span class="token punctuation">:</span> feature  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4 id="step4-ä½¿ç”¨-cz-æ›¿ä»£-git-commit"><a href="#step4-ä½¿ç”¨-cz-æ›¿ä»£-git-commit" class="headerlink" title="step4 : ä½¿ç”¨ cz æ›¿ä»£ git commit"></a>step4 : ä½¿ç”¨ cz æ›¿ä»£ git commit</h4><p>åªéœ€è¦å°†è¿‡å»çš„ <code>git commit -m &#39;aaaa&#39;</code> æ›¿æ¢ä¸º <code>cz</code>å³å¯ï¼Œ å…¶ä»–äººä½¿ç”¨æ­£å¸¸çš„ <code>git commit</code> ä¹Ÿä¸ä¼šå—å½±å“ã€‚</p><h3 id="é¡¹ç›®å†…å®‰è£…"><a href="#é¡¹ç›®å†…å®‰è£…" class="headerlink" title="é¡¹ç›®å†…å®‰è£…"></a>é¡¹ç›®å†…å®‰è£…</h3><p>å¦‚æœéœ€è¦åœ¨æŸä¸ªé¡¹ç›®å†…å®‰è£…ï¼Œåªéœ€è¦æŠŠ  <code>.commitlintrc.js</code> å¤åˆ¶åˆ°æ‰§è¡Œé¡¹ç›®æ ¹ç›®å½•å³å¯ã€‚ è¯¦ç»†çš„æ­¥éª¤å¯ä»¥å‚è€ƒ <a href="https://cz-git.qbb.sh/zh/guide/#%E5%85%A8%E5%B1%80%E4%BD%BF%E7%94%A8">å¿«é€Ÿå¼€å§‹</a> ï¼Œè¿™é‡Œä¸å†å•ç‹¬ä»‹ç»ã€‚</p><h2 id="å·²çŸ¥é—®é¢˜"><a href="#å·²çŸ¥é—®é¢˜" class="headerlink" title="å·²çŸ¥é—®é¢˜"></a>å·²çŸ¥é—®é¢˜</h2><p>ä¸€ä¸ªå·²çŸ¥çš„é—®é¢˜ï¼šæäº¤å†å²ä¸èƒ½è¢« <code>zsh-autosuggestions</code> å·¥å…·æ£€æµ‹åˆ°ï¼Œæ‰€ä»¥å­˜åœ¨ä¸‹é¢çš„é—®é¢˜ï¼š<br>åœ¨ commit æ—¶é‡åˆ° eslint error, æ— æ³•æç¤ºåˆ°ä¸Šä¸€æ¬¡çš„ commit ä¿¡æ¯ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>esbuid ç¼–è¯‘é—®é¢˜æ’æŸ¥</title>
      <link href="/2022/04/19/"/>
      <url>/2022/04/19/</url>
      
        <content type="html"><![CDATA[<h2 id="1-èƒŒæ™¯"><a href="#1-èƒŒæ™¯" class="headerlink" title="1.èƒŒæ™¯"></a>1.èƒŒæ™¯</h2><p>åœ¨ä½¿ç”¨ Esbuild æ›¿ä»£ Babel transformÂ  ä»£ç æ—¶ï¼Œä»£ç å¯ä»¥æˆåŠŸç¼–è¯‘ï¼Œä½†æ˜¯ä¼šå‡ºç°ä¸€äº›è¿è¡Œæ—¶é”™è¯¯ã€‚å‡ºç°çš„é”™è¯¯æ¯”è¾ƒè¯¡å¼‚ï¼Œæ’æŸ¥è¿‡ç¨‹ä¹Ÿé‡åˆ°äº†ä¸€äº›å›°éš¾ï¼Œå› æ­¤è®°å½•ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p>é¦–å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ esbuildÂ  çš„å‡ ä¸ªæ˜¾è‘—ç‰¹ç‚¹ï¼Œæ”¯æŒå°†</p><ul><li>ä»£ç ç¼–è¯‘ä¸º es6+;</li><li>ä½¿ç”¨ go ç¼–å†™ï¼Œå¾ˆå¿«;</li><li>transform + minify;</li></ul><h2 id="2-é—®é¢˜å®šä½"><a href="#2-é—®é¢˜å®šä½" class="headerlink" title="2.é—®é¢˜å®šä½"></a>2.é—®é¢˜å®šä½</h2><p>å› ä¸ºè¿™æ˜¯åœ¨ä»£ç æ‰“åŒ…ä¹‹åæ‰ä¼šé‡åˆ°çš„é”™è¯¯ï¼ˆå…¶å® dev ç¯å¢ƒä¹Ÿå¯ä»¥é‡åˆ°ï¼Œä½† dev ç¯å¢ƒä½¿ç”¨äº† cache-loader ï¼Œä¸‰æ–¹å› ç´ è¾ƒå¤šä¸ä¾¿äºæ’æŸ¥é—®é¢˜ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿æ’æŸ¥é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å…³é—­ webpack çš„ä»£ç å‹ç¼©å’Œæ··æ·†åŠŸèƒ½ã€‚</p><p>å…³é—­æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åœ¨ webpack.config.js  ä¸­å…³é—­ä»£ç å‹ç¼©ï¼ŒåŒæ—¶æ˜¾ç¤º moduleId</span>optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>     minimize<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    moduleIds<span class="token punctuation">:</span> <span class="token string">'named'</span><span class="token punctuation">,</span>    chunkIds<span class="token punctuation">:</span> <span class="token string">'named'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// å…³é—­ webpack.prod.js HashedModuleIdsPluginï¼Œ ç›´æ¥æ³¨é‡Šè¯¥ plugins</span><span class="token comment" spellcheck="true">// new webpack.ids.HashedModuleIdsPlugin()</span></code></pre><p>é‡æ–°ç¼–è¯‘ä»£ç å¯åŠ¨ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„é”™è¯¯ï¼š</p><p><img src="https://s2.loli.net/2023/03/03/u7GQC2UeqN6fr5M.png" alt="esbuild-debug-issue1.png"></p><p>æˆ‘ä»¬çŸ¥é“ï¼Œwebpack åœ¨å¤„ç†æ¨¡å—åŒ–æ—¶ï¼Œæ˜¯å°†æ¯ä¸ªæ¨¡å—åˆ†è§£ä¸ºä¸€ä¸ªä¸ªçš„é—­åŒ…å‡½æ•°å¤„ç†çš„ã€‚è¿™é‡Œçš„ __spreadValues æ˜¯ esbuild åœ¨æ¯ä¸ªé—­åŒ…å‡½æ•°ä¸­æ³¨å…¥çš„è¿è¡Œæ—¶ä»£ç ï¼Œä¸»è¦æ˜¯ä¸€äº›esæ–°ç‰¹æ€§çš„ polyfillï¼Œä¹Ÿå¯ä»¥ç±»æ¯”ä¸º babel-runtime çš„ä¸€äº› helper æ–¹æ³•ã€‚</p><p><img src="https://s2.loli.net/2023/03/03/E1tUMiVkPKOljfb.png" alt="esbuild-debug-issue2.png"></p><p>ç»è¿‡æŸ¥çœ‹ï¼Œé—­åŒ…é‡Œç¡®å®æ˜¯æœ‰è¿™ä¸ªå‡½æ•°æ³¨å…¥çš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè®¿é—®æ—¶ç¡®å® undefined å‘¢ï¼Ÿ</p><p>é€šè¿‡æŸ¥çœ‹é”™è¯¯çš„å †æ ˆï¼ˆä¸‹å›¾ï¼‰ï¼Œå‘ç°äº†ä¸€äº›ç«¯å€ªã€‚Â </p><p><img src="https://s2.loli.net/2023/03/03/RjiAFYIXHJtoGfw.png" alt="esbuild-debug-issue3.png"></p><p>åœ¨å…¥å£æ–‡ä»¶ main.js ä¸­ï¼Œå½“å‰æ–‡ä»¶çš„æ‰€æœ‰å¼•å…¥ï¼Œwebpack éƒ½ä¼šåŠ è½½å¯¹åº”çš„åŒ…ï¼Œ<strong>webpack__require</strong> ä¼šæŸ¥çœ‹å½“å‰ä¾èµ–çš„æ¨¡å—æ˜¯å¦åœ¨ç¼“å­˜ä¸­å‡ºç°ï¼ŒåŒæ—¶æ‰§è¡Œæ¨¡å—çš„å†…éƒ¨æ–¹æ³•ã€‚</p><p>æŸ¥çœ‹ä¸‹å›¾ä¸­çš„æ–‡ä»¶ä¾èµ–å…³ç³»ï¼Œå¾ˆæ˜æ˜¾çš„å‘ç°ï¼Œè¿™äº›æ–‡ä»¶ä¸­å­˜åœ¨ç€ å¾ªç¯å¼•ç”¨ï¼Œå¹¶ä¸”å±‚çº§å¾ˆæ·±ã€‚å› ä¸ºåœ¨ commonjsÂ  è§„èŒƒä¸­ï¼Œå¦‚æœæ¨¡å—é—´å­˜åœ¨å¾ªç¯å¼•ç”¨ï¼Œå°±åªè¾“å‡ºå·²ç»æ‰§è¡Œçš„éƒ¨åˆ†ï¼Œè¿˜æœªæ‰§è¡Œçš„éƒ¨åˆ†ä¸ä¼šè¾“å‡º.Â </p><p>æ€ä¹ˆç†è§£å‘¢ï¼Œ æ¯”å¦‚ A ä¾èµ– B ï¼ŒB åˆä¾èµ– Aï¼Œ é‚£ä¹ˆçœŸå®çš„æ‰§è¡Œè¿‡ç¨‹å…¶å®æ˜¯ï¼Œåœ¨ A ä¸­æ£€æµ‹åˆ° B çš„ä¾èµ–ï¼Œä¼šå…ˆå»æ‰§è¡Œ B ï¼Œç„¶åè¿™ä¸ªæ—¶å€™ B æ–‡ä»¶å¦‚æœä¾èµ–äº† Aï¼Œä¼šç›´æ¥ä» requiire.cache ä¸­æ‹¿ A å·²ç»æ‰§è¡Œçš„éƒ¨åˆ†ï¼Œè¿™é‡Œ A ä¸­æš´éœ²å‡ºå»çš„æœªæ‰§è¡Œçš„æ¨¡å—å˜é‡å°±å¾ˆå¯èƒ½æ˜¯ undefined.Â  è¿™é‡Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹ä¸‹ï¼š<a href="https://www.ruanyifeng.com/blog/2015/11/circular-dependency.html">https://www.ruanyifeng.com/blog/2015/11/circular-dependency.html</a></p><p><strong>äºæ˜¯çŒœæµ‹ï¼šåœ¨å¤„ç†æ¨¡å—ä¾èµ–æ—¶ï¼Œå› ä¸ºå­˜åœ¨å¾ªç¯å¼•ç”¨ï¼Œæ‰€ä»¥æŸäº›æ¨¡å—å¹¶æ²¡æœ‰çœŸæ­£çš„è¢«åŠ è½½ï¼Œæ‰€ä»¥å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯</strong></p><p>é‚£ä¹ˆï¼Œæ€ä¹ˆéªŒè¯è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿé€šè¿‡å¯¹æ¯” esbuild å’Œ babel çš„ helper æ–¹æ³•çš„ä½ç½®å‘ç°ï¼Œ esbuild çš„ helper æ–¹æ³•æ˜¯æ”¾åœ¨ä¾èµ–æ–‡ä»¶çš„åé¢çš„ï¼Œé‚£ä¹ˆæˆ‘åªéœ€è¦æŠŠ helper æ–‡ä»¶æ”¾åˆ°ä¾èµ–æ–‡ä»¶ä¹‹å‰æ˜¯ä¸æ˜¯å°±å¯ä»¥äº†ã€‚</p><p><img src="https://s2.loli.net/2023/03/03/S8xNObWavj9qtRX.png" alt="esbuild-debug-issue4.png"></p><p><img src="https://s2.loli.net/2023/03/03/fVrGhEw56Uevpdu.png" alt="esbuild-debug-issue5.png"></p><p>æœä¸å…¶ç„¶ï¼Œé”™è¯¯æ¶ˆå¤±äº†ï¼Œä½†åŒæ—¶ä¹Ÿå‡ºç°äº†ä¸‹é¢çš„æŠ¥é”™ï¼Œå‡ºç°é”™è¯¯çš„åŸå› åŒæ ·æ˜¯å…¶ä»–æ–‡ä»¶çš„å¾ªç¯ä¾èµ–ã€‚</p><p>æˆ‘å°è¯•åœ¨ä¸€ä¸ªæœ€ç®€å•çš„å¾ªç¯ä¾èµ– demo ä¸­ç”¨ esbuild å»ç¼–è¯‘ï¼Œåœ¨ node çš„è¿è¡Œæ—¶ä¼šæŠ¥ undefinedï¼Œåœ¨æµè§ˆå™¨çš„è¿è¡Œæ—¶åŒæ ·æœ‰æ­¤æŠ¥é”™ã€‚æ‰€ä»¥ï¼Œé—®é¢˜åŸºæœ¬å¯ä»¥å®šä½ï¼Œç¡®å®æ˜¯å› ä¸ºç³»ç»Ÿå†…éƒ¨è¿‡æ·±çš„å¾ªç¯ä¾èµ–ã€‚</p><p><img src="https://s2.loli.net/2023/03/03/M1ayLqi8ZSf9TsK.png" alt="esbuild-debug-issue6.png"></p><h2 id="3-å¦‚ä½•è§£å†³"><a href="#3-å¦‚ä½•è§£å†³" class="headerlink" title="3.å¦‚ä½•è§£å†³"></a>3.å¦‚ä½•è§£å†³</h2><p>é‚£ä¹ˆé—®é¢˜çš„åŸå› çŸ¥é“äº†ï¼Œè¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</p><h3 id="3-1-è§£å†³å®Œé¡¹ç›®å†…éƒ¨æ‰€æœ‰çš„å¾ªç¯ä¾èµ–"><a href="#3-1-è§£å†³å®Œé¡¹ç›®å†…éƒ¨æ‰€æœ‰çš„å¾ªç¯ä¾èµ–" class="headerlink" title="3.1 è§£å†³å®Œé¡¹ç›®å†…éƒ¨æ‰€æœ‰çš„å¾ªç¯ä¾èµ–"></a>3.1 è§£å†³å®Œé¡¹ç›®å†…éƒ¨æ‰€æœ‰çš„å¾ªç¯ä¾èµ–</h3><p>æƒ³æ³•å¾ˆç¾å¥½ï¼Œå®ç°å¾ˆå›°éš¾ã€‚é€šè¿‡ä½¿ç”¨Â circular-dependency-plugin å¯ä»¥æ£€æµ‹å‡ºç›®å‰é¡¹ç›®ä¸­çš„å¾ªç¯ä¾èµ–ï¼Œç›®å‰é¡¹ç›®ä¸­æœ‰è¿‘ 400 å¤„çš„å¾ªç¯ä¾èµ–ã€‚</p><p><img src="https://s2.loli.net/2023/03/03/ypSMa38PYdcsKD7.png" alt="esbuild-debug-issue7.png"></p><p>æ‰€ä»¥æ”¹åŠ¨æ˜¯éå¸¸å›°éš¾çš„ã€‚</p><h3 id="3-2-ä¸ºä»€ä¹ˆä½¿ç”¨-babel-loader-ä¸ºä»€ä¹ˆä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ"><a href="#3-2-ä¸ºä»€ä¹ˆä½¿ç”¨-babel-loader-ä¸ºä»€ä¹ˆä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ" class="headerlink" title="3.2 ä¸ºä»€ä¹ˆä½¿ç”¨ babel-loader ä¸ºä»€ä¹ˆä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ"></a>3.2 ä¸ºä»€ä¹ˆä½¿ç”¨ babel-loader ä¸ºä»€ä¹ˆä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ</h3><p>fms ä½¿ç”¨çš„ babel é¢„è®¾æ˜¯Â <a href="https://www.npmjs.com/package/babel-preset-vue-app">babel-preset-vue-app</a>ï¼Œ é€šè¿‡å…¶<a href="https://github.com/vuejs/babel-preset-vue-app/blob/master/src/index.js">æºç </a>çœ‹å‡ºç›®å‰çš„ç¼–è¯‘é¢„è®¾æ˜¯ ie9ï¼Œ ä¹Ÿå°±æ˜¯è¯´ç›®å‰fms ç¼–è¯‘åçš„ä»£ç æ˜¯ es5 è§„èŒƒçš„ã€‚ä½†æ˜¯ esbuildÂ  ä¸æ”¯æŒå°†èµ„æºç¼–è¯‘åˆ° es6 ä»¥ä¸‹ã€‚</p><p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¯¹äºä¸‹é¢çš„ä»£ç ï¼Œä¸‹å›¾åˆ†åˆ«æ˜¯æºä»£ç åœ¨ esbuildÂ  ä¸ babel ç¼–è¯‘åçš„ä»£ç å¯¹æ¯”</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></pre><p>é€šè¿‡ esbuild ç¼–è¯‘</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...some runtime code</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">__toCommonJs</span><span class="token punctuation">(</span>stdin_exports<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>é€šè¿‡ babel ç¼–è¯‘</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>Â  Â  Â  </p><p>å› æ­¤é—®é¢˜æ˜¾è€Œæ˜“è§ï¼Œåœ¨ es5 çš„ç‰ˆæœ¬ä¸­ï¼Œå­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥å³ä½¿å‡ºç°å¾ªç¯ä¾èµ–ï¼Œä¹Ÿä¸ä¼šå‡ºç° undefined ç±»ä¼¼çš„è¿è¡Œæ—¶é”™è¯¯ã€‚</p><p>å½“ç„¶ es5 â†’ es6 è¿˜æœ‰éå¸¸å¤šæ–°çš„ç‰¹æ€§ï¼ˆ<a href="http://es6-features.org/#Constants%EF%BC%89%EF%BC%8C%E5%9B%A0%E6%AD%A4%E4%B9%9F%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%9C%89%E6%9B%B4%E5%A4%9A%E6%96%B0%E7%9A%84%E9%97%AE%E9%A2%98%E3%80%82">http://es6-features.org/#Constantsï¼‰ï¼Œå› æ­¤ä¹Ÿå¯èƒ½ä¼šæœ‰æ›´å¤šæ–°çš„é—®é¢˜ã€‚</a></p><h3 id="3-3-esbuild-å¯å¦æ”¯æŒåˆ°-es5"><a href="#3-3-esbuild-å¯å¦æ”¯æŒåˆ°-es5" class="headerlink" title="3.3 esbuild å¯å¦æ”¯æŒåˆ° es5"></a>3.3 esbuild å¯å¦æ”¯æŒåˆ° es5</h3><p>ä¸å¤ªå¹¸è¿çš„æ˜¯ï¼Œ å®˜æ–¹çš„æ€åº¦æ˜¯ä¸ä¼šå»æ”¯æŒ es5ã€‚ è¿™é‡Œæœ‰ä¸ªè®¨è®ºå¯ä»¥çœ‹ä¸‹ï¼š <a href="https://github.com/evanw/esbuild/issues/297">https://github.com/evanw/esbuild/issues/297</a></p><p>ç¤¾åŒºæœ‰äº›æ–¹æ¡ˆåŸºæœ¬è¿˜æ˜¯ç”¨ä¸Šäº† babel å»åšè½¬åŒ–ï¼Œ ä½†æ˜¯æ—¢ç„¶ä½¿ç”¨ esbuild å†ç”¨ä¸€æ¬¡ babel å°±æœ‰äº›å¤šæ­¤ä¸€ä¸¾äº†ã€‚</p><h3 id="3-4-å°è¯•ä½¿ç”¨-swc-loader"><a href="#3-4-å°è¯•ä½¿ç”¨-swc-loader" class="headerlink" title="3.4 å°è¯•ä½¿ç”¨ swc-loader"></a>3.4 å°è¯•ä½¿ç”¨ swc-loader</h3><p>å¯¹äºä¸Šé¢çš„é—®é¢˜ï¼Œä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆæ˜¯ï¼Œä½¿ç”¨ swc-loaderÂ  æ›¿ä»£ babel å°†ä»£ç ç¼–è¯‘ä¸º es5 ç‰ˆæœ¬ï¼Œä½¿ç”¨ esbuildMinifyPluginÂ  æ›¿ä»£ Terser å‹ç¼©ä»£ç ã€‚</p><p>ä½†æ˜¯åœ¨ä½¿ç”¨ swc-loader æ—¶ï¼Œå‘ç°å…¶å¯¹ vue ä¸­çš„ jsxÂ  è¯­æ³•æ”¯æŒæ€§ä¸å¥½ã€‚</p><h2 id="4-åæ€"><a href="#4-åæ€" class="headerlink" title="4.åæ€"></a>4.åæ€</h2><p>åœ¨ä¸€ç³»åˆ—æ’æŸ¥åï¼Œå…³äºä½¿ç”¨ esbuild-loader æ›¿æ¢ babel-loader è¿˜æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªå®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚ç›®å‰ä»…ä½¿ç”¨åˆ°äº† esbuild çš„ <code>esbuildMinifyPlugin</code> ï¼ˆä»£ç å‹ç¼©ï¼‰ã€‚<br>æ–°é¡¹ç›®çš„å†å²è´Ÿæ‹…è¾ƒå°ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ esbuild ã€‚å¦‚æœæ˜¯å†…éƒ¨é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨ esm ï¼Œå°±ä¸å¿…å¤„ç† <code>tree-shaking / split-chunk</code>Â ç›¸å…³çš„å†…å®¹äº†ã€‚<br>æˆ‘ä»¬ä¹ æƒ¯äº†å°†ä»£ç ç¼–è¯‘æ›´å…·å…¼å®¹æ€§çš„ es5, æ‰€ä»¥æˆ‘ä»¬å¸¸å¸¸å¿½è§†å¾ªç¯ä¾èµ–çš„å‰¯ä½œç”¨ã€‚ä½†æ˜¯ä¾ç„¶æ¨èæ‰“å¼€ eslint çš„ å¾ªç¯ä¾èµ–æ£€æµ‹ï¼š<code>&quot;import/no-cycle&quot;: [2, &#123; maxDepth: 2 &#125;]</code> ï¼Œ æˆ‘ä»¬åº”è¯¥é¿å…å†™å‡ºå¾ªç¯ä¾èµ–è¿‡æ·±çš„ä»£ç ã€‚<br>esbuildÂ  åŒ…æ‹¬ swcÂ  å¯¹ css çš„ç¼–è¯‘æ”¯æŒåº¦éƒ½ä¸å¤ªé«˜ï¼Œå› ä¸ºä¾ç„¶éœ€è¦ <code>vue-loader/less-loader</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> é—®é¢˜æ’æŸ¥ </tag>
            
            <tag> vite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Go å®è·µè¸©å‘è®°å½•</title>
      <link href="/2022/02/23/"/>
      <url>/2022/02/23/</url>
      
        <content type="html"><![CDATA[<p>è®°å½•FE å¼€å‘ Go ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼š</p><h2 id="1-context-WithValue-çš„-key-ä¸å…è®¸ä½¿ç”¨-built-in-ç±»å‹ï¼ˆgo-static-checkï¼‰"><a href="#1-context-WithValue-çš„-key-ä¸å…è®¸ä½¿ç”¨-built-in-ç±»å‹ï¼ˆgo-static-checkï¼‰" class="headerlink" title="1. context.WithValue çš„ key ä¸å…è®¸ä½¿ç”¨ built-in ç±»å‹ï¼ˆgo-static-checkï¼‰"></a>1. context.WithValue çš„ key ä¸å…è®¸ä½¿ç”¨ built-in ç±»å‹ï¼ˆgo-static-checkï¼‰</h2><p>è§£å†³åŠæ³•ï¼š<a href="https://stackoverflow.com/questions/40891345/fix-should-not-use-basic-type-string-as-key-in-context-withvalue-golint">https://stackoverflow.com/questions/40891345/fix-should-not-use-basic-type-string-as-key-in-context-withvalue-golint</a></p><h2 id="2-golangçš„æ•°æ®ç±»å‹ä¸mysqlçš„æ•°æ®ç±»å‹å¯¹åº”çš„å…³ç³»"><a href="#2-golangçš„æ•°æ®ç±»å‹ä¸mysqlçš„æ•°æ®ç±»å‹å¯¹åº”çš„å…³ç³»" class="headerlink" title="2. golangçš„æ•°æ®ç±»å‹ä¸mysqlçš„æ•°æ®ç±»å‹å¯¹åº”çš„å…³ç³»"></a>2. golangçš„æ•°æ®ç±»å‹ä¸mysqlçš„æ•°æ®ç±»å‹å¯¹åº”çš„å…³ç³»</h2><p><a href="https://gobea.cn/blog/detail/j5ynaOod.html">https://gobea.cn/blog/detail/j5ynaOod.html</a></p><h2 id="3-æœ‰å…³-go-çš„é›¶å€¼é—®é¢˜"><a href="#3-æœ‰å…³-go-çš„é›¶å€¼é—®é¢˜" class="headerlink" title="3. æœ‰å…³ go çš„é›¶å€¼é—®é¢˜"></a>3. æœ‰å…³ go çš„é›¶å€¼é—®é¢˜</h2><p><a href="https://youwu.today/skill/backend/golang-zero-value-and-reference-and-null-value-testing/">https://youwu.today/skill/backend/golang-zero-value-and-reference-and-null-value-testing/</a></p><h2 id="4-æŸ¥çœ‹å¼•ç”¨-ä¼šæ‰“å¼€è¶…é“¾æ¥"><a href="#4-æŸ¥çœ‹å¼•ç”¨-ä¼šæ‰“å¼€è¶…é“¾æ¥" class="headerlink" title="4. æŸ¥çœ‹å¼•ç”¨ ä¼šæ‰“å¼€è¶…é“¾æ¥"></a>4. æŸ¥çœ‹å¼•ç”¨ ä¼šæ‰“å¼€è¶…é“¾æ¥</h2><p>åœ¨ç”¨æˆ·é…ç½®ä¸­ç¦ç”¨</p><pre class=" language-json"><code class="language-json"><span class="token property">"[go]"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token property">"editor.links"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h2 id="5-ä½¿ç”¨-wire-å£°æ˜ä»£ç é‡åˆ°-no-provider-found-xxx-ç±»ä¼¼çš„é”™è¯¯"><a href="#5-ä½¿ç”¨-wire-å£°æ˜ä»£ç é‡åˆ°-no-provider-found-xxx-ç±»ä¼¼çš„é”™è¯¯" class="headerlink" title="5.ä½¿ç”¨ wire å£°æ˜ä»£ç é‡åˆ° no provider found xxx ç±»ä¼¼çš„é”™è¯¯"></a>5.ä½¿ç”¨ wire å£°æ˜ä»£ç é‡åˆ° no provider found xxx ç±»ä¼¼çš„é”™è¯¯</h2><p>å› ä¸º wire æ˜¯ä¸€ä¸ªä¾èµ–æ³¨å…¥çš„æ¡†æ¶ï¼Œæ‰€ä»¥ä½ éœ€è¦æå‰å£°æ˜ï¼Œé‡åˆ°è¿™ç±»é—®é¢˜ï¼Œå¯è‡ªè¡Œæ£€æŸ¥</p><p>view &amp; server ä½¿ç”¨åˆ°çš„ä¸€äº›æ–¹æ³•æ˜¯å¦åœ¨ wire_set æ–‡ä»¶ä½œå£°æ˜ï¼ˆç±»ä¼¼ View.NewConfigServiceï¼‰<br>ä¸€äº› facade æ¥å£ï¼Œæ¥å£çš„å®šä¹‰å’Œå®ç°æ˜¯å¦ä¸€è‡´</p><h2 id="6-Goæœ¬åœ°è°ƒç”¨-pythonæœåŠ¡çš„æŠ›å‡º-400-é”™è¯¯"><a href="#6-Goæœ¬åœ°è°ƒç”¨-pythonæœåŠ¡çš„æŠ›å‡º-400-é”™è¯¯" class="headerlink" title="6. Goæœ¬åœ°è°ƒç”¨ pythonæœåŠ¡çš„æŠ›å‡º 400 é”™è¯¯"></a>6. Goæœ¬åœ°è°ƒç”¨ pythonæœåŠ¡çš„æŠ›å‡º 400 é”™è¯¯</h2><p>åœ¨ç”¨ go è°ƒç”¨ python çš„æœåŠ¡æ—¶ï¼Œæœ¬åœ°è”è°ƒè¿‡ç¨‹ï¼ˆç›´æ¥è®¿é—® BE çš„ IPï¼‰å‘ç°æœåŠ¡ä¼šèµ°ä¸é€š, æŠ¥ 400 å’Œä¸€å †ä¹±ç é”™è¯¯ï¼Œä½†æ˜¯éƒ¨ç½²äº†æµ‹è¯•ç¯å¢ƒå´å¯ä»¥æ­£å¸¸è®¿é—®ã€‚ç›®å‰åªèƒ½æ˜¯ BE éƒ¨ç½²äº†æµ‹è¯•ç¯å¢ƒå†è¿›è¡Œè”è°ƒï¼Œæ¯”è¾ƒå½±å“æ•ˆç‡</p><p>è§£å†³åŠæ³•ï¼š ä½¿ç”¨ IP è®¿é—®æ—¶ï¼Œåº”ä½¿ç”¨ HTTP åè®®ï¼Œé HTTPS åè®® å‚è€ƒï¼š <a href="https://stackoverflow.com/questions/49389535/problems-with-flask-and-bad-request">https://stackoverflow.com/questions/49389535/problems-with-flask-and-bad-request</a></p><h2 id="7-Goproxy-æŠ¥é”™"><a href="#7-Goproxy-æŠ¥é”™" class="headerlink" title="7. Goproxy æŠ¥é”™"></a>7. Goproxy æŠ¥é”™</h2><p>ä¿®æ”¹ GOProxy åœ°å€ï¼Œé‡æ–°è¿›å…¥é¡¹ç›®å³å¯</p><p>å‚è€ƒï¼š<a href="https://townsyio.medium.com/how-to-configure-your-go-modules-proxy-in-vscode-fa41f29192fe">https://townsyio.medium.com/how-to-configure-your-go-modules-proxy-in-vscode-fa41f29192fe</a></p><p><img src="https://s2.loli.net/2023/03/03/xTzlR5yFEDmgfNr.png" alt="go-proxy-error.png"></p><h2 id="8-grpc-å±€é™"><a href="#8-grpc-å±€é™" class="headerlink" title="8. grpc å±€é™"></a>8. grpc å±€é™</h2><p>ç”±äºæ³¨å†Œä¸­å¿ƒçš„é™åˆ¶ï¼Œåªæœ‰ç›¸åŒç¯å¢ƒæ‰èƒ½è°ƒç”¨ grpcã€‚ç”±äºå†…éƒ¨ç³»ç»Ÿåªæœ‰ä¸¤ä¸ªç¯å¢ƒ test å’Œ liveï¼Œåœ¨ä¸¤ä¸ªç¯å¢ƒä¸‹ï¼Œèƒ½åˆ†åˆ«è°ƒç”¨ test å’Œ live ç¯å¢ƒä¸‹çš„grpcã€‚ç”±äºæ²¡æœ‰ uat ç¯å¢ƒï¼Œæ‰€ä»¥æ— æ³•è®¿é—® uat æœåŠ¡ï¼Œè¦ç”¨ grpc è¯·è€ƒè™‘ç¯å¢ƒæ˜¯å¦åŒ¹é…ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>chrome 97 ç¯å¢ƒä¸‹ vue2 + ts + class component é—®é¢˜åˆ†æ</title>
      <link href="/2022/01/19/"/>
      <url>/2022/01/19/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h2><p>2022 å¹´çš„ 1æœˆ 4 æ—¥ï¼ŒChrome æµè§ˆå™¨å‘å¸ƒäº†æ–°å¹´çš„ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ 97.0.4692.71ï¼Œ ä¸ºæˆ‘ä»¬å¸¦æ¥äº† WebTransport &#x2F; Dev Tool Recorder ç­‰<a href="https://chromestatus.com/features">æœ‰è¶£çš„ç‰¹æ€§</a>(ps:è¿™äº›ç‰¹æ€§è·Ÿä»Šå¤©è¦è®²çš„é—®é¢˜æ²¡æœ‰åŠæ¯›é’±å…³ç³»)ï¼Œä½†åŒæ—¶ä¹Ÿä¸ºæˆ‘çš„å¼€å‘å·¥ä½œå¸¦æ¥äº†ä¸€ç‚¹å°å°çš„å›°æ‰°ã€‚</p><h2 id="äºŒã€ç°è±¡"><a href="#äºŒã€ç°è±¡" class="headerlink" title="äºŒã€ç°è±¡"></a>äºŒã€ç°è±¡</h2><p>æŸæ—¥åœ¨å‡çº§æœ€æ–°çš„ chrome 97 ç‰ˆæœ¬åï¼Œæ‰“å¼€ç†Ÿæ‚‰çš„é¡¹ç›®ï¼Œæœ¬åœ°å¯åŠ¨ä¼šæŠ¥å¤§é‡çš„ç±»ä¼¼ä¸‹é¢çš„ props è­¦å‘Šï¼Œä»è€Œå¯¼è‡´ä¸‹é¢è¡Œä¸ºå¼‚å¸¸ï¼š</p><blockquote><p>â€œAvoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the propâ€™s value. Prop being mutated:â€¦.â€</p></blockquote><p>å…·ä½“çš„å¼‚å¸¸è¡Œä¸ºè¡¨ç°ä¸ºï¼šæ¥æ”¶ props çš„ç»„ä»¶ä¸èƒ½æ­£å¸¸æ¸²æŸ“ï¼Œé¡µé¢ç™½å±ï¼Œéœ€æ‰‹åŠ¨è§¦å‘æ‰èƒ½æ‹¿åˆ° propsã€‚</p><p><img src="https://s2.loli.net/2023/03/03/NAGuOI1rRsWzQlV.png" alt="error-demo.png"></p><p>åœ¨æ’é™¤äº†ä¸€äº›ç¼“å­˜ã€é‡å¯ç±»ä¼¼çš„çš„é—®é¢˜åï¼Œæœ€åå®šä½åˆ°:</p><p>åœ¨ä½¿ç”¨äº† chrome 97 + å¼€å‘æ¨¡å¼ + vue2 + vite + ts + class component çš„æƒ…å†µä¸‹ï¼Œå¯ç¨³å®šå¤ç°æ­¤é—®é¢˜ã€‚å…¶ä»–é chromium å†…æ ¸çš„æµè§ˆå™¨æˆ–è€…ä½ç‰ˆæœ¬çš„ chrome æ— æ­¤é—®é¢˜ã€‚</p><p>é™„ä¸Šä¸€äº›ä½¿ç”¨çš„åº“ç‰ˆæœ¬ï¼š</p><ul><li>vue2 : <a href="mailto:&#118;&#x75;&#101;&#64;&#x32;&#x2e;&#54;&#46;&#x31;&#x34;">&#118;&#x75;&#101;&#64;&#x32;&#x2e;&#54;&#46;&#x31;&#x34;</a></li><li>vite: <a href="mailto:&#118;&#105;&#116;&#x65;&#x40;&#x32;&#x2e;&#55;&#46;&#x31;&#x30;">&#118;&#105;&#116;&#x65;&#x40;&#x32;&#x2e;&#55;&#46;&#x31;&#x30;</a></li><li>vuex: <a href="mailto:&#118;&#x75;&#101;&#120;&#64;&#51;&#x2e;&#x36;&#46;&#50;">&#118;&#x75;&#101;&#120;&#64;&#51;&#x2e;&#x36;&#46;&#50;</a></li><li>typescript: <a href="mailto:&#116;&#x79;&#112;&#101;&#115;&#99;&#114;&#105;&#112;&#116;&#x40;&#52;&#46;&#x35;&#46;&#52;">&#116;&#x79;&#112;&#101;&#115;&#99;&#114;&#105;&#112;&#116;&#x40;&#52;&#46;&#x35;&#46;&#52;</a></li><li>vue-property-decorator: <a href="mailto:&#x76;&#x75;&#101;&#x2d;&#x70;&#114;&#x6f;&#x70;&#x65;&#114;&#116;&#x79;&#x2d;&#x64;&#x65;&#x63;&#x6f;&#114;&#x61;&#116;&#x6f;&#114;&#64;&#x39;&#x2e;&#x31;&#46;&#x32;">&#x76;&#x75;&#101;&#x2d;&#x70;&#114;&#x6f;&#x70;&#x65;&#114;&#116;&#x79;&#x2d;&#x64;&#x65;&#x63;&#x6f;&#114;&#x61;&#116;&#x6f;&#114;&#64;&#x39;&#x2e;&#x31;&#46;&#x32;</a></li><li>chrome: <a href="mailto:&#99;&#x68;&#x72;&#x6f;&#x6d;&#x65;&#64;&#57;&#x37;&#x2e;&#x30;&#x2e;&#52;&#x36;&#57;&#x32;&#x2e;&#x37;&#x31;">&#99;&#x68;&#x72;&#x6f;&#x6d;&#x65;&#64;&#57;&#x37;&#x2e;&#x30;&#x2e;&#52;&#x36;&#57;&#x32;&#x2e;&#x37;&#x31;</a></li></ul><h2 id="ä¸‰ã€è¿‡ç¨‹"><a href="#ä¸‰ã€è¿‡ç¨‹" class="headerlink" title="ä¸‰ã€è¿‡ç¨‹"></a>ä¸‰ã€è¿‡ç¨‹</h2><p>ä¸ç”¨è¯»ç³»åˆ—ï¼šä»¥ä¸‹æ˜¯åœ¨æ’æŸ¥é—®é¢˜æ—¶çš„å›é¡¾ï¼Œä¹Ÿå¯ä¸ºè‡ªå·±åç»­æ’æŸ¥é—®é¢˜æä¾›ä¸€äº›åæ€</p><p>é¦–å…ˆï¼Œæ€€ç–‘æ˜¯ node_modules æˆ–è€… vite ç‰ˆæœ¬é—®é¢˜ï¼Œåˆ é™¤äº†ç›¸å…³ cache ã€lock æ–‡ä»¶ é—®é¢˜ä¾ç„¶å­˜åœ¨ åæ€ï¼šé‡åˆ°é—®é¢˜æ—¶çš„å¸¸è§„æ€è·¯å°±æ˜¯é‡å¯å¤§æ³•ï¼Œåªè§£å†³çœ¼å‰é—®é¢˜ï¼Œç¼ºä¹æ’é”™æ€ç»´</p><p>ç¡®å®šå‡ºé”™è¡Œä¸ºï¼Œåˆæ­¥æ’æŸ¥æ˜¯ chrome 97 ç‰ˆæœ¬ + å¼€å‘æ¨¡å¼ä¸‹å‡ºé”™ï¼Œå¹¶åœ¨ demo å·¥ç¨‹ä¸­ç¨³å®šå¤ç° åæ€ï¼šæ’é™¤ä¸€åˆ‡å˜é‡ï¼Œç¡®å®šé—®é¢˜çœŸæ­£å­˜åœ¨ã€‚æˆ‘å¦ç™½ï¼Œè¿›è¡Œåˆ°è¿™ä¸€æ­¥æ—¶ï¼Œæˆ‘å·²ç»æœ‰äº†ä¸€ç§é¢„æ„Ÿï¼šæˆ‘å‘ç°äº† Chrome çš„ bug!!!</p><p>å›å½’é”™è¯¯æœ¬èº«ï¼Œåˆ†æå‡ºé”™å†…å®¹ï¼Œè§£å†³é—®é¢˜ åæ€ï¼šå‡ºé”™çš„åŸå› å¾ˆç®€å•ï¼Œå°±æ˜¯ props çš„åˆå§‹åŒ–æ²¡æœ‰ç”Ÿæ•ˆã€‚åœ¨å°è¯•äº†å‡ ç§æ€è·¯ï¼Œå¾ˆå®¹æ˜“æµ‹è¯•å‡ºäº† å››ä¸­çš„è§£æ³•</p><p>åˆ†ææ·±å±‚æ¬¡çš„åŸå› ï¼Œæ±‚è¯ åæ€ï¼šåœ¨è¿™ä¸€æ­¥ï¼Œæ€€ç–‘æ˜¯ chrome 97 åœ¨å¤„ç† æœªå£°æ˜çš„å˜é‡æ—¶ åšäº†ä¸€äº›ç‰¹æ®Šå¤„ç†å¯¼è‡´ vue åœ¨å¤„ç†æ—¶å½“ä½œäº†ä¸€ä¸ª undefined çš„ data å±æ€§å»å¤„ç†ã€‚</p><p>è¿™é‡Œæ„Ÿè°¢æ¯å¤©ç¿»è§„èŒƒçš„ä¼Ÿè‰¯å¤§ä½¬ï¼Œæä¾›äº†ä¸€äº›è®ºæ®ã€‚å…·ä½“çš„é—®é¢˜åˆ†æåœ¨ä¸‹æ–‡ã€‚</p><h2 id="å››ã€è§£æ³•"><a href="#å››ã€è§£æ³•" class="headerlink" title="å››ã€è§£æ³•"></a>å››ã€è§£æ³•</h2><h3 id="è§£æ³•é›¶ï¼š-æ›´æ–°æœ€æ–°çš„-Chrome-ç‰ˆæœ¬"><a href="#è§£æ³•é›¶ï¼š-æ›´æ–°æœ€æ–°çš„-Chrome-ç‰ˆæœ¬" class="headerlink" title="è§£æ³•é›¶ï¼š æ›´æ–°æœ€æ–°çš„ Chrome ç‰ˆæœ¬"></a>è§£æ³•é›¶ï¼š æ›´æ–°æœ€æ–°çš„ Chrome ç‰ˆæœ¬</h3><p>æ›´æ–°ï¼šå°† Chrome æ›´æ–°è‡³æœ€æ–°å·²æ— æ­¤é—®é¢˜ã€‚</p><p>æœ€æ–°ç‰ˆæœ¬ï¼Œå¯¹äºä¸Šé¢å‡ºç°çš„é—®é¢˜ï¼Œchrome ä¼šæç¤ºä¸€ä¸ªè­¦å‘Šï¼šCannot redefine property: msgã€‚ ä½†æ˜¯ä¸ä¼šé˜»å¡Js ä»»åŠ¡</p><h3 id="è§£æ³•ä¸€ï¼štsconfig-ä¸ä½¿ç”¨-esnext"><a href="#è§£æ³•ä¸€ï¼štsconfig-ä¸ä½¿ç”¨-esnext" class="headerlink" title="è§£æ³•ä¸€ï¼štsconfig ä¸ä½¿ç”¨ esnext"></a>è§£æ³•ä¸€ï¼štsconfig ä¸ä½¿ç”¨ esnext</h3><p>å¦‚æœä½¿ç”¨äº† typescript, ä½¿ç”¨ vue-cli ç”Ÿæˆçš„ tsconfig.json å…¶ä¸­çš„ target å’Œ module é»˜è®¤æ˜¯ esnext, è¿™ç§æ–¹å¼åœ¨ chrome 97 ä¸‹å­˜åœ¨é—®é¢˜ã€‚å°† target å’Œ module çš„é€‰é¡¹ä¿®æ”¹ä¸º é esnext çš„é€‰é¡¹å‡å¯ã€‚</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span>    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span>    // â€¦â€¦  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="è§£æ³•äºŒï¼šä¿®æ”¹-class-component-props-çš„ä½¿ç”¨æ–¹å¼"><a href="#è§£æ³•äºŒï¼šä¿®æ”¹-class-component-props-çš„ä½¿ç”¨æ–¹å¼" class="headerlink" title="è§£æ³•äºŒï¼šä¿®æ”¹ class component props çš„ä½¿ç”¨æ–¹å¼"></a>è§£æ³•äºŒï¼šä¿®æ”¹ class component props çš„ä½¿ç”¨æ–¹å¼</h3><p>ä½¿ç”¨ vue2 + class ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸æœ‰ä»¥ä¸‹ä¸¤ç§å†™æ³•</p><p><strong>æ–¹å¼1ï¼š ä½¿ç”¨ Vue.extendç»§æ‰¿</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue-property-decorator"</span><span class="token punctuation">;</span><span class="token keyword">const</span> HelloWorldProps <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>    msg<span class="token punctuation">:</span> String<span class="token punctuation">,</span>    data<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>    listData<span class="token punctuation">:</span> Array<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>@Component<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">HelloWorldProps</span> <span class="token punctuation">{</span>  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listData<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æ–¹å¼2ï¼š ä½¿ç”¨ vue-property-decoratoræä¾›çš„ @props èƒ½åŠ›</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue-property-decorator"</span><span class="token punctuation">;</span>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>    msg<span class="token punctuation">:</span> String<span class="token punctuation">,</span>    data<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>    listData<span class="token punctuation">:</span> Array<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// æˆ‘ä»¬å¸¸ä¼šå£°æ˜å‡ ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡ï¼Œæ˜¯ä¸ºäº†è§£å†³ ts this çš„æŠ¥é”™é—®é¢˜</span>  <span class="token comment" spellcheck="true">// è¿˜æœ‰ä¸€ç§ç›´æ¥å¼•å…¥ @props() è£…é¥°å™¨çš„å†™æ³•ï¼Œå’Œæœ¬æ–¹æ³•å†…éƒ¨è¡Œä¸ºä¸€è‡´ï¼Œå½’ä¸ºä¸€ç§</span>  msg<span class="token operator">!</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>  data<span class="token operator">!</span><span class="token punctuation">:</span> any<span class="token punctuation">;</span>  listData<span class="token operator">!</span><span class="token punctuation">:</span> any<span class="token punctuation">;</span>  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listData<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä½¿ç”¨ æ–¹å¼1 ä¸ä¼šå­˜åœ¨é—®é¢˜ï¼Œä½†åœ¨ä½¿ç”¨ æ–¹å¼2 æ—¶ï¼Œéœ€æ³¨é‡Šæ‰é‚£äº›æœªå£°æ˜çš„å˜é‡ï¼ˆè¿™ä¼šå¸¦æ¥ ts é”™è¯¯è­¦å‘Šï¼Œå¯å¿½ç•¥ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue-property-decorator"</span><span class="token punctuation">;</span>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>    msg<span class="token punctuation">:</span> String<span class="token punctuation">,</span>    data<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>    listData<span class="token punctuation">:</span> Array<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listData<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="äº”ã€åŸå› "><a href="#äº”ã€åŸå› " class="headerlink" title="äº”ã€åŸå› "></a>äº”ã€åŸå› </h2><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€æ®µæµ‹è¯•ä»£ç ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>    constructor <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>  msg<span class="token punctuation">;</span>  init <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'msg'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>        <span class="token keyword">set</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'msg set: '</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        configurable<span class="token punctuation">:</span> <span class="token boolean">true</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¸Šé¢çš„è¿™æ®µä»£ç ï¼Œåœ¨é chrome97 çš„æµè§ˆå™¨ï¼Œæœªåˆå§‹åŒ–çš„å±æ€§ä¸ä¼šè§¦å‘ set æ–¹æ³•ï¼Œ ä½†æ˜¯æ–°ç‰ˆæœ¬çš„ä¼šè§¦å‘ã€‚</p><p>æ‰€ä»¥ï¼Œå¯¹åº”åˆ°ä¸Šé¢çš„é—®é¢˜ï¼Œåœ¨è¿‡å»æˆ‘ä»¬ä½¿ç”¨ props æ—¶ï¼Œé€šå¸¸ä¼šæœ‰ <code>@Prop(&#123; type: String, default: &quot;&quot; &#125;) msg!: string;</code> ç±»ä¼¼çš„å†™æ³•ã€‚è¿™ç§æ–¹å¼åœ¨æ—§ç‰ˆæœ¬é‡Œï¼Œmsg å¹¶ä¸ä¼šè§¦å‘ set æ–¹æ³•ï¼Œvue ä¹Ÿå¹¶ä¸ä¼šå°†å…¶çœ‹åšæ˜¯ä¸€ä¸ªå“åº”å¼çš„å±æ€§ã€‚ä½†æ˜¯åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œmsg è§¦å‘ set æ–¹æ³•ï¼Œvue å°†å…¶çœ‹ä½œæ˜¯ä¸€ä¸ª undefined çš„å˜é‡å¤„ç†äº†ï¼Œæ‰€ä»¥åœ¨é¡µé¢åˆæ¬¡æ¸²æŸ“ï¼Œæ‹¿åˆ° props å°†æ°¸è¿œéƒ½æ˜¯ undefined, ä»è€Œäº§ç”Ÿå¼‚å¸¸è¡Œä¸ºã€‚</p><p><img src="https://s2.loli.net/2023/03/03/KROt7aUeAmgy3Gp.png" alt="chrome-tsc-desc.png"></p><p>è¿™é‡Œè¿˜æœ‰å‡ ä¸ªç›¸å…³çš„ issue(å‚è€ƒé“¾æ¥ 3ï¼Œ4):</p><p>tsc repo: <a href="https://github.com/tc39/proposal-class-fields#public-fields-created-with-objectdefineproperty">https://github.com/tc39/proposal-class-fields#public-fields-created-with-objectdefineproperty</a></p><p><img src="https://s2.loli.net/2023/03/03/lcMeiZIGUFgdkQT.png" alt="chrome-97-tsc.png"></p><p>ä¸‹é¢è¿™ä¸ª bug å·²ç»ä¿®å¤ï¼š</p><ul><li>bugï¼š <a href="https://bugs.chromium.org/p/v8/issues/detail?id=12421&q=%5B%5BSet%5D%5D%20type=Bug&can=2">https://bugs.chromium.org/p/v8/issues/detail?id=12421&amp;q=%5B%5BSet%5D%5D%20type%3DBug&amp;can=2</a></li><li>v8 changes: <a href="https://chromium.googlesource.com/v8/v8/+/e81ef8be9c59d2f37bb7b61183d3c2ee9d67158a">https://chromium.googlesource.com/v8/v8/+/e81ef8be9c59d2f37bb7b61183d3c2ee9d67158a</a></li></ul><p><img src="https://s2.loli.net/2023/03/03/nBL8a4QzDq3fuCY.png" alt="bug-report.png"></p><h2 id="å…­ã€å‚è€ƒé“¾æ¥"><a href="#å…­ã€å‚è€ƒé“¾æ¥" class="headerlink" title="å…­ã€å‚è€ƒé“¾æ¥"></a>å…­ã€å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://github.com/Michaelooo/chrome-97-vue-ts-issue">é‡ç°ä»“åº“</a></li><li><a href="https://github.com/tc39/proposal-class-fields#public-fields-created-with-objectdefineproperty">tsc</a></li><li><a href="https://bugs.chromium.org/p/v8/issues/detail?id=12421&q=%5B%5BSet%5D%5D%20type=Bug&can=2">v8 bug</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> é—®é¢˜æ’æŸ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è·³è¿‡ Gitlab çš„æƒé™æ‹‰ä»£ç </title>
      <link href="/2022/01/11/"/>
      <url>/2022/01/11/</url>
      
        <content type="html"><![CDATA[<div class="admonition note"><p class="admonition-title">å£°æ˜ï¼Œè¿™åªèƒ½å½“ä½œä¸€ä¸ªä¸´æ—¶æ–¹æ¡ˆï¼Œå»ºè®®è¿˜æ˜¯ç”³è¯·æƒé™è¿›è¡Œä»£ç è·å–ã€‚</p></div><p>èµ·å› ï¼šæœ‰ä¸ªåŒäº‹é—®æˆ‘å‚è€ƒä¸€ä¸ªé¡¹ç›®çš„å·¥ç¨‹ç»“æ„ï¼Œä½†æ˜¯å› ä¸ºä¸€äº›åŸå› ï¼Œä»–æ²¡æœ‰è¯¥å·¥ç¨‹çš„æƒé™ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰å¤§çš„å¿…è¦å»ç”³è¯·<code>Developer</code>çš„æƒé™ã€‚</p><p>ä¸€å¼€å§‹æˆ‘æ˜¯è¿™ä¹ˆåšçš„ï¼š</p><ol><li>å¤‡ä»½æˆ‘çš„å·¥ç¨‹æ–‡ä»¶åˆ° file_bak</li><li>å»é™¤æ‰ node_modules &amp; dist ä¹‹ç±»çš„åŒ…å’Œæ„å»ºæ–‡ä»¶</li><li>æ‰“åŒ… zip ç„¶åé€‰æ‹©æ–‡ä»¶å‘é€</li></ol><p>è²Œä¼¼è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†ï¼š<strong>æˆ‘çš„å·¥ç¨‹å˜åŒ–å¾ˆå¤§ï¼Œä»–æ— æ³•åŠæ—¶æ‹‰å–æˆ‘çš„å˜æ›´</strong>ã€‚æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼å‘¢ï¼Ÿ</p><p>äºæ˜¯æƒ³åˆ°ï¼ŒGit ä¸æ˜¯å®£ç§°å»ä¸­å¿ƒåŒ–å—ï¼Œç„¶åæˆ‘ä»¬è¿˜æ˜¯åœ¨ä¸€ä¸ªå±€åŸŸç½‘ç¯å¢ƒï¼Œé‚£ç†è®ºä¸Šæˆ‘ä»¬æ˜¯å¯ä»¥äº’ç›¸ clone çš„ï¼Œå‚è€ƒä¸‹é¢çš„æ“ä½œï¼š</p><p>é¦–å…ˆæŠŠæˆ‘ä»¬æƒ³è¦åˆ†äº«çš„ç›®å½•æš´éœ²å‡ºæ¥ï¼Œ æˆ‘çš„å·¥ä½œç›®å½•æ˜¯ <code>~/Documents/company_name</code>ï¼Œé‚£ä¹ˆæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><pre class=" language-sh"><code class="language-sh">cd ~/Documents/company_namegit daemon --verbose --export-all --base-path=.</code></pre><p>ç„¶åå…¶ä»–äººå°±å¯ä»¥ç›´æ¥ clone äº†,æ‰¾åˆ°ä½ çš„æœ¬æœº IP </p><pre class=" language-sh"><code class="language-sh">git clone git://your-host-ip/dev-help-portal-fe new-project-name</code></pre><p>æ‰§è¡Œ <code>git remote show origin</code> çœ‹ä¸‹ï¼Œä»¥ä¸‹ä¸ºç¤ºä¾‹</p><pre class=" language-sh"><code class="language-sh">* remote origin  Fetch URL: git://10.12.188.229/dev-help-portal-fe  Push  URL: git://10.12.188.229/dev-help-portal-fe  HEAD branch: master  Remote branches:    feature/SPXFM-17075-init                        tracked    feature/SPXFM-19666-login-page                  tracked    feature/SPXFM-20841-add-bundle-analysis-support tracked    master                                          tracked  Local branch configured for 'git pull':    master rebases onto remote master  Local ref configured for 'git push':    master pushes to master (up to date)</code></pre><p>å¦å¤–ï¼Œä½ å¯ä»¥ç¬¬ä¸€æ­¥çš„å¯åŠ¨æœåŠ¡å°±ä½œä¸ºä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹å¼€æœºå¯åŠ¨ï¼ˆè¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼‰ï¼Œé‚£ä¹ˆåˆ«äººå°±å¯ä»¥éšæ—¶éšåœ°çš„æ‹‰å–å˜æ›´äº†ï¼Œä½†æ˜¯<strong>å»ºè®®è¿˜æ˜¯ç”¨å®Œå°± <code>ctrl + C</code>ä¸­æ­¢æ‰æœåŠ¡</strong>ã€‚</p><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.zhihu.com/question/54672976/answer/406797841">git å±€åŸŸç½‘ ä¸¤ä¸ªå®¢æˆ·ç«¯ä¹‹é—´åŒæ­¥? - çŸ¥ä¹</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å°†åšå®¢å‡çº§http2</title>
      <link href="/2018/09/08/"/>
      <url>/2018/09/08/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘æœ‰åœ¨å­¦ä¹  http2 çš„ç›¸å…³çŸ¥è¯†ï¼Œå°±æƒ³ç€é¡ºä¾¿æŠŠè‡ªå·±çš„åšå®¢å‡çº§ä¸€ä¸‹ï¼Œå…¶å®å‡çº§åå¹¶ä¸ä¼šå¸¦æ¥å¾ˆå¤§çš„æ€§èƒ½æå‡ï¼Œä¸è¿‡å½“åšå­¦ä¹ ç”¨çš„ä¸ªäººå®è·µä¹Ÿæ˜¯ä¸é”™çš„ã€‚</p><h2 id="æ€ä¹ˆå‡çº§-http2"><a href="#æ€ä¹ˆå‡çº§-http2" class="headerlink" title="æ€ä¹ˆå‡çº§ http2 ?"></a>æ€ä¹ˆå‡çº§ http2 ?</h2><h3 id="å‡çº§-https"><a href="#å‡çº§-https" class="headerlink" title="å‡çº§ https"></a>å‡çº§ https</h3><p>å‡çº§çš„è¿‡ç¨‹å…¶å®æ˜¯å¾ˆç®€å•ï¼Œä½†æ˜¯å› ä¸º http2 å¿…é¡»éœ€è¦ https çš„æ”¯æŒï¼Œæ‰€ä»¥è¦æƒ³ç”¨åˆ° http2 ï¼Œå¿…é¡»è¦å…ˆä½¿ç”¨ httpsï¼Œ ä½¿ç”¨ https çš„è¯å°±éœ€è¦ç”Ÿæˆè¯ä¹¦ï¼Œæ‰€ä»¥å…¶å®è¿™ä¸ªæ­¥éª¤æ‰æ˜¯å‡çº§è¿‡ç¨‹ä¸­ç•¥æ˜¾å¤æ‚çš„ä¸€ç¯ã€‚</p><h3 id="ç”Ÿæˆ-https-è¯ä¹¦"><a href="#ç”Ÿæˆ-https-è¯ä¹¦" class="headerlink" title="ç”Ÿæˆ https è¯ä¹¦"></a>ç”Ÿæˆ https è¯ä¹¦</h3><p>è¯ä¹¦çš„è¯ï¼Œå› ä¸ºåªæ˜¯ä¸ªç®€å•çš„ä¸ªäººç½‘ç«™ï¼Œåœ¨å®‰å…¨æ€§ä¸Šä¹Ÿå¹¶æ²¡æœ‰å¤ªå¤§çš„è¦æ±‚ï¼Œæ‰€ä»¥è¯ä¹¦çš„é¢å‘æœºæ„é‡‡ç”¨å¤§å®¶éƒ½å–œæ¬¢ç”¨çš„å¼€æºè¯ä¹¦é¢å‘æœºæ„ <a href="https://letsencrypt.org/">letâ€™s encrypt</a> å°±è¡Œäº†ï¼Œ å…³äºè¿™ä¸ªè¯ä¹¦çš„ç”Ÿæˆå°±ä½¿ç”¨å¤§å®¶éƒ½å–œæ¬¢çš„ <a href="https://certbot.eff.org/lets-encrypt/centos6-nginx">cerbot ç”Ÿæˆå·¥å…·</a> å°±è¡Œäº†ã€‚æ¨èä½¿ç”¨å®˜ç½‘æ¨èçš„ cerbot-auto è„šæœ¬çš„æ–¹å¼æ¥ç”Ÿæˆè¯ä¹¦ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯å¡«å†™é‚®ç®±å’Œä½ çš„åŸŸåä¹‹ç±»çš„æ“ä½œã€‚</p><p>è¿™ä¸ªç”Ÿæˆçš„è¿‡ç¨‹ä¼šæœ‰ä¸€äº›å°å‘ï¼Œæˆ‘åœ¨ä¸‹é¢çš„ <strong>è¸©å‘æ€»ç»“ï¼š ä½¿ç”¨ cerbot-auto ç”Ÿæˆ Letâ€™s Encrypt è¯ä¹¦é‡åˆ°çš„é—®é¢˜</strong> æœ‰æåŠã€‚ç”Ÿæˆä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ <code>./certbot-auto certificates</code> æŸ¥çœ‹ä½ ç”Ÿæˆçš„è¯ä¹¦çš„ä½ç½®ã€‚å¦å¤–æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡ä¸Šé¢çš„è¿™ç§æ–¹å¼ç”Ÿæˆçš„è¯ä¹¦çš„æœ‰æ•ˆæœŸæ˜¯ 90 å¤©ï¼Œæ‰€ä»¥åˆ°æ—¶é—´äº†è¦è®°å¾—è‡ªå·±å»é‡æ–°ç”Ÿæˆã€‚</p><h3 id="é…ç½®-nginx"><a href="#é…ç½®-nginx" class="headerlink" title="é…ç½® nginx"></a>é…ç½® nginx</h3><p>å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ Nginx æœåŠ¡å™¨ï¼Œæ‰€ä»¥åªéœ€è¦ç®€å•çš„é…ç½®å°±å¯ä»¥ä½¿ç”¨ https ï¼Œ é…ç½®çš„å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š</p><pre class=" language-nginx"><code class="language-nginx"><span class="token keyword">server</span> <span class="token punctuation">{</span>    <span class="token keyword">listen</span> <span class="token number">443</span> <span class="token keyword">ssl</span><span class="token punctuation">;</span>    <span class="token keyword">listen</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token number">443</span> <span class="token keyword">ssl</span> ipv6only<span class="token operator">=</span>on<span class="token punctuation">;</span>    <span class="token keyword">server_name</span> www<span class="token punctuation">.</span>chengpengfei<span class="token punctuation">.</span>com<span class="token punctuation">;</span>    <span class="token keyword">ssl_certificate</span> <span class="token operator">/</span>etc<span class="token operator">/</span>letsencrypt<span class="token operator">/</span>live<span class="token operator">/</span>www<span class="token punctuation">.</span>chengpengfei<span class="token punctuation">.</span>com<span class="token operator">/</span>fullchain<span class="token punctuation">.</span>pem<span class="token punctuation">;</span>    <span class="token keyword">ssl_certificate_key</span> <span class="token operator">/</span>etc<span class="token operator">/</span>letsencrypt<span class="token operator">/</span>live<span class="token operator">/</span>www<span class="token punctuation">.</span>chengpengfei<span class="token punctuation">.</span>com<span class="token operator">/</span>privkey<span class="token punctuation">.</span>pem<span class="token punctuation">;</span>    ssl_trusted_certificate <span class="token operator">/</span>etc<span class="token operator">/</span>letsencrypt<span class="token operator">/</span>live<span class="token operator">/</span>www<span class="token punctuation">.</span>chengpengfei<span class="token punctuation">.</span>com<span class="token operator">/</span>chain<span class="token punctuation">.</span>pem<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå†é…ç½®å¥½ web ç›®å½•ï¼Œ é‡å¯ Nginx å°±å¯ä»¥äº†å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ã€‚ä½†æ˜¯å› ä¸ºæˆ‘ä½¿ç”¨äº† docker ï¼Œæ‰€ä»¥è¿˜ä¸è¡Œï¼Œè¯·æ¥ç€å¾€ä¸‹çœ‹ã€‚</p><h3 id="åœ¨-docker-ä¸­ä½¿ç”¨-Nginx"><a href="#åœ¨-docker-ä¸­ä½¿ç”¨-Nginx" class="headerlink" title="åœ¨ docker ä¸­ä½¿ç”¨ Nginx"></a>åœ¨ docker ä¸­ä½¿ç”¨ Nginx</h3><p>å› ä¸ºæˆ‘æ˜¯ç›´æ¥åœ¨ docker ä¸­ä½¿ç”¨çš„ Nginxï¼Œæˆ‘éœ€è¦è®©<strong>æˆ‘çš„è¯ä¹¦ä»¥åŠæˆ‘å®šä¹‰çš„ Nginx é…ç½®</strong>å¯¹ docker å®¹å™¨å¯è§ã€‚åœ¨è¿™é‡Œæˆ‘ä¸€å¼€å§‹çš„æ€è·¯æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€æ˜¯é€šè¿‡ Dockerfile æ¥æŒ‡å®š volume ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªæ–°çš„é•œåƒï¼Œå¹¶æ„å»ºå®¹å™¨ï¼Œä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨ docker run -v çš„å½¢å¼å»æ„å»ºå®¹å™¨ã€‚</p><p>è¡¨é¢ä¸Šçœ‹èµ·æ¥ç¬¬ä¸€ç§çš„æ–¹å¼æ›´ä¸ºä¼˜é›…äº›ï¼Œä½†æ˜¯åœ¨æˆ‘çš„å®è·µä¸­å‘ç°ï¼Œç¬¬ä¸€ç§æ–¹å¼å¹¶ä¸å¯è¡Œï¼Œæ— æ³•æŒ‚è½½åˆ°æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„ï¼ŒæŸ¥é˜…äº†ç›¸å…³èµ„æ–™å‘ç°ï¼Œ<strong>å½“ä½ è¦é‡æ–°æ„å»ºä¸€ä¸ªdockerçš„imageæ—¶ï¼Œåœ¨Dockerfile é‡ŒæŒ‡å®šçš„ volume æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸º image åº”æ˜¯çº¯å‡€çš„ï¼Œä¸åŒ…å«æœ‰æŒ‡å®šè·¯å¾„çš„ã€‚</strong> æ‰€ä»¥æœ€åæˆ‘é€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼ï¼Œå…·ä½“çš„å‘½ä»¤å¤§è‡´å¦‚ä¸‹ï¼š</p><pre class=" language-shell"><code class="language-shell">docker run -d \-p 80:80 \-p 443:443 \--name nginx-blog \-v "$PWD/html":/usr/share/nginx/html \-v /var/www/blog/:/var/www/blog/ \-v /var/www/my_resume/:/var/www/my_resume/ \-v /home/blog_nginx/:/etc/nginx/ \nginx</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œç›´æ¥è¾“å…¥å‘½ä»¤çš„æ–¹å¼å¯èƒ½ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œä½†æ˜¯å´æœ‰æ•ˆã€‚ä¸è¿‡æœ‰ä¸€ä¸ªæ¨èçš„åšæ³•å°±æ˜¯å°†å‘½ä»¤ä¿å­˜åˆ°ä¸€ä¸ªè„šæœ¬æ–‡ä»¶é‡Œé¢ï¼Œé€šè¿‡è„šæœ¬æ¥æ„å»ºä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><p>å®¹å™¨æ„å»ºæˆåŠŸï¼Œå°±å¯ä»¥è®¿é—®ç½‘ç«™æ¥æŸ¥çœ‹æ•ˆæœäº†ã€‚ä¸‹é¢æ˜¯æˆ‘çš„ç½‘ç«™æ›´æ¢çš„æ•ˆæœï¼Œç”± <strong>ä¸å®‰å…¨ å˜æˆäº† å¹¶éå®Œå…¨å®‰å…¨</strong>ğŸ˜‚</p><p><img src="https://i.imgur.com/DASIzJQ.jpg" alt="Imgur"></p><h3 id="é…ç½®-http2"><a href="#é…ç½®-http2" class="headerlink" title="é…ç½® http2"></a>é…ç½® http2</h3><p>é…ç½® http2 çš„æ–¹å¼æ›´åŠ ç®€å•ï¼Œç›´æ¥åœ¨ Nginx çš„é…ç½®é‡Œæ›´æ”¹å°±å¯ä»¥äº†ï¼ˆæˆ‘ç”¨çš„æ˜¯æœ€æ–°ç‰ˆçš„ nginx ï¼Œæ‰€ä»¥æ˜¯æ”¯æŒ http2 çš„ï¼Œåˆ«ç”¨å¤ªè€çš„ç‰ˆæœ¬éƒ½æ”¯æŒçš„ï¼‰ã€‚</p><pre class=" language-nginx"><code class="language-nginx"><span class="token keyword">server</span> <span class="token punctuation">{</span>    <span class="token keyword">listen</span> <span class="token number">443</span> http2 <span class="token keyword">ssl</span><span class="token punctuation">;</span>    <span class="token keyword">listen</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token number">443</span> http2 <span class="token keyword">ssl</span> ipv6only<span class="token operator">=</span>on<span class="token punctuation">;</span>    â€¦â€¦<span class="token punctuation">}</span></code></pre><p>ä¹‹åé‡æ–°æ„å»ºä¸€ä¸ªå®¹å™¨å³å¯ï¼Œæ¥çœ‹ä¸ªå¼€å¯äº† http2 ä¹‹åçš„æ•ˆæœã€‚</p><p>è¿™ä¸ªæ˜¯ä¹‹å‰çš„ï¼š</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fv27gvnz6yj22tu0hmgtd.jpg"></p><p>è¿™ä¸ªæ˜¯ ä½¿ç”¨ http2 ä¹‹åçš„ï¼š</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fv27gvjv0pj22vo0b2djw.jpg"></p><h2 id="è¸©å‘æ€»ç»“ï¼š-ä½¿ç”¨-cerbot-auto-ç”Ÿæˆ-Letâ€™s-Encrypt-è¯ä¹¦é‡åˆ°çš„é—®é¢˜"><a href="#è¸©å‘æ€»ç»“ï¼š-ä½¿ç”¨-cerbot-auto-ç”Ÿæˆ-Letâ€™s-Encrypt-è¯ä¹¦é‡åˆ°çš„é—®é¢˜" class="headerlink" title="è¸©å‘æ€»ç»“ï¼š ä½¿ç”¨ cerbot-auto ç”Ÿæˆ Letâ€™s Encrypt è¯ä¹¦é‡åˆ°çš„é—®é¢˜"></a>è¸©å‘æ€»ç»“ï¼š ä½¿ç”¨ cerbot-auto ç”Ÿæˆ Letâ€™s Encrypt è¯ä¹¦é‡åˆ°çš„é—®é¢˜</h2><h3 id="1-æç¤º-Problems-with-Python-virtual-environment-ï¼Ÿ"><a href="#1-æç¤º-Problems-with-Python-virtual-environment-ï¼Ÿ" class="headerlink" title="1. æç¤º Problems with Python virtual environment ï¼Ÿ"></a>1. <strong>æç¤º Problems with Python virtual environment ï¼Ÿ</strong></h3><p>å®˜æ–¹ç»™å‡ºçš„è§£é‡Šæ˜¯ <a href="https://certbot.eff.org/docs/install.html#id7">ä½å†…å­˜çš„æœºå™¨ä¼šå‡ºç°ç±»ä¼¼çš„é—®é¢˜</a> ï¼Œä½†æ˜¯æŒ‰ç…§å®˜æ–¹ç»™å‡ºçš„ <strong>åˆ›å»ºä¸€ä¸ªä¸´æ—¶ swap æ–‡ä»¶</strong>çš„æ–¹æ¡ˆå¹¶æ²¡æœ‰è§£å†³ã€‚åæ¥æŸ¥é˜…èµ„æ–™ç¡®è®¤æ˜¯å›½å†… Python mirror çš„é—®é¢˜ï¼Œå› ä¸ºæˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘æä¾›çš„ vps ï¼Œä½†æ˜¯é˜¿é‡Œçš„Python mirror åŒæ­¥ä¸åŠæ—¶ï¼Œæ‰€ä»¥é€ æˆå®‰è£…å¤±è´¥ã€‚åªéœ€è¦ä¿®æ”¹ <code>/root/.pip/pip.conf</code> çš„é…ç½®å³å¯ï¼Œå¯ä»¥æ”¹ä¸ºå…¶ä»–å¯ç”¨çš„ mirror (æ¨èæ¸…åå¤§å­¦çš„ pypi é•œåƒ â€” <a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a>) ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ³¨é‡Šæ‰ä½¿ç”¨åŸç‰ˆçš„ã€‚</p><h3 id="2-ç”Ÿæˆè¯ä¹¦æ—¶ï¼Œä½¿ç”¨äº†-docker-éƒ¨ç½²-nginxï¼Œ-ä½†æ˜¯æœ¬æœºå¹¶æœªå®‰è£…-nginx"><a href="#2-ç”Ÿæˆè¯ä¹¦æ—¶ï¼Œä½¿ç”¨äº†-docker-éƒ¨ç½²-nginxï¼Œ-ä½†æ˜¯æœ¬æœºå¹¶æœªå®‰è£…-nginx" class="headerlink" title="2.ç”Ÿæˆè¯ä¹¦æ—¶ï¼Œä½¿ç”¨äº† docker éƒ¨ç½² nginxï¼Œ ä½†æ˜¯æœ¬æœºå¹¶æœªå®‰è£… nginx ?"></a><strong>2.ç”Ÿæˆè¯ä¹¦æ—¶ï¼Œä½¿ç”¨äº† docker éƒ¨ç½² nginxï¼Œ ä½†æ˜¯æœ¬æœºå¹¶æœªå®‰è£… nginx ?</strong></h3><p>cerbot ç»™å‡ºäº†ä¸¤ç§æ–¹æ¡ˆæ¥ç”Ÿæˆè¯ä¹¦ï¼Œä¸€ç§æ˜¯ webroot ï¼Œè¿™ç§ä¹Ÿæ˜¯æ™®éæ¨èçš„ä¸€ç§ï¼Œå› ä¸ºä¸éœ€è¦åœæ­¢ä½ çš„æœåŠ¡ï¼Œåªéœ€è¦åœ¨ nginx é…ç½®é‡Œåšäº›æ›´æ”¹å³å¯ï¼Œç”Ÿæˆæ–¹å¼å¯ä»¥çœ‹<a href="https://certbot.eff.org/docs/using.html#id12">è¿™é‡Œ</a>ï¼Œä½†æ˜¯å› ä¸ºæˆ‘ç”¨çš„æ˜¯ docker éƒ¨ç½²ï¼Œæœ¬æœºå¹¶æ²¡æœ‰å®‰è£… nginx ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼å¯¹æˆ‘æ¥è¯´å¹¶ä¸é€‚ç”¨ã€‚å¦ä¸€ç§æ˜¯ standalone ï¼Œè¿™ç§æ–¹å¼ä¼šåœ¨æœ¬æœºä¸´æ—¶å»ºç«‹ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½†æ˜¯ä¼šé»˜è®¤å ç”¨ä½ çš„ 80 ç«¯å£æˆ–è€… 443 ç«¯å£ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼éœ€è¦å…ˆè§£é™¤æ‰ 80 æˆ–è€… 443 ç«¯å£çš„å ç”¨ï¼Œ ä½¿ç”¨ docker çš„è¯ç”¨è¿™ç§æ–¹å¼å°±å¾ˆæ–¹ä¾¿ï¼Œç›´æ¥ <code>docker stop containerId</code> åœæ­¢æ‰å®¹å™¨å³å¯ï¼Œç­‰åˆ°è¯ä¹¦ç”Ÿæˆå®Œæˆï¼Œé‡æ–°å¯åŠ¨å³å¯ã€‚</p><p>ä½†è¿™é‡Œæœ‰ä¸€ä¸ªå¤§å‘æ˜¯ï¼š<strong>å°½é‡ä¸è¦å»æ‰‹åŠ¨çš„ kill æ‰ 80 ç«¯å£çš„ pid</strong> ï¼Œå› ä¸ºå…³æ‰å®¹æ˜“ï¼Œä½†æ˜¯ä¸ç†Ÿæ‚‰ Linux çš„è¯ï¼Œå¼€å¯å°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘çš„ é˜¿é‡Œäº‘ ECS æ˜¯ centos 7 çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ centos 6 å’Œ 7å¼€å¯ç«¯å£çš„æ–¹å¼è¿˜æ˜¯æœ‰å¾ˆå¤§çš„å·®å¼‚çš„ã€‚</p><p>ä»¥ä¸Šï¼</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> nginx </tag>
            
            <tag> http2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®švscodeé…ç½®</title>
      <link href="/2018/08/27/"/>
      <url>/2018/08/27/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š-vscode-é…ç½®"><a href="#æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š-vscode-é…ç½®" class="headerlink" title="æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š vscode é…ç½®"></a>æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š vscode é…ç½®</h2><blockquote><p>å†™è¿™ä¸ªæ€»ç»“çš„ç›®çš„æ˜¯å› ä¸ºå‘ç°å¾ˆå¤šåŒå­¦å¹¶ä¸æ˜¯å¾ˆäº†è§£ vscode çš„éšè—åŠŸèƒ½ã€‚å› ä¸ºä¹‹å‰è‡ªå·±ç»å¸¸æ¢ç”µè„‘ï¼Œæ¢å‡ºå¿ƒå¾—äº†å·²ç»ï¼Œé‚æ€»ç»“ä¸‹ã€‚</p></blockquote><p>ç›¸ä¿¡å¤§å®¶éƒ½æ›¾æœ‰æ›´æ¢æ–°ç”µè„‘çš„ç»å†ï¼Œæ¢æ–°ç”µè„‘è‚¯å®šæ˜¯ä»¶å¼€å¿ƒçš„äº‹ï¼Œä½†æ˜¯æ¯æ¬¡æ¢æ–°ç”µè„‘åå¤æ‚çš„è½¯ä»¶é…ç½®å’Œæ•°æ®åŒæ­¥å´æ˜¯ä»¶å¾ˆä»¤äººå¤´ç—›çš„äº‹æƒ…ã€‚</p><p>åŒæ ·çš„ï¼Œä½œä¸ºä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œ<code>vscode</code> å¯èƒ½æ˜¯å¤§éƒ¨åˆ†å¼€å‘è€…çš„çµé­‚ä¼´ä¾£ï¼Œä½†æ˜¯è¿™ä¸ªä¼´ä¾£åœ¨æœ‰äº›äº‹æƒ…ä¸Šå´å¹¶ä¸æ˜¯é‚£ä¹ˆå¦‚æ„ï¼Œçµæ´»çš„é…ç½®å’Œä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€æ˜¯ <code>vscode</code> å—åˆ°å¤§å®¶å–œçˆ±çš„æ ¹æœ¬ï¼Œä½†æ˜¯åœ¨æ›´æ¢æ–°ç”µè„‘çš„æ—¶å€™ï¼Œ <code>vscode</code> å¯¹äºæ’ä»¶çš„ç®¡ç†çš„å¤‡ä»½å´æœ‰ç‚¹æ‰è¥Ÿè§è‚˜ï¼ˆå¦‚æœ <code>vscode</code> å¯ä»¥é›†æˆå¾®è½¯çš„è´¦å·åŒæ­¥æœåŠ¡é‚£ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªå¼€æºè½¯ä»¶ï¼Œå¾®è½¯å¹¶ä¸ä¼šè¿™ä¹ˆå¹²ï¼‰ã€‚æ‰€å¹¸çš„æ˜¯ <code>vscode</code> æ˜¯åŸºäºé…ç½®çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡<strong>æ‹·è´ä½ çš„æ’ä»¶é…ç½®æ–‡ä»¶</strong>æ¥è¾¾åˆ°æ–°ç”µè„‘åŒæ­¥çš„ç›®çš„ï¼Œä½†æ˜¯è¿™æ ·ä¸€æ ·å­˜åœ¨é…ç½®ä¸¢å¤±çš„é£é™©ï¼Œå¹¶ä¸”æ“ä½œä¹Ÿç•¥æ˜¾å¤æ‚ã€‚ä¸è¿‡æ˜¾ç„¶ä¼šæœ‰å¦å¤–ä¸€ç§æ¯”è¾ƒä¼˜é›…çš„æ–¹å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ <code>Setting Sync</code> æ¥åŒæ­¥é…ç½®ã€‚</p><h3 id="Setting-Sync"><a href="#Setting-Sync" class="headerlink" title="Setting Sync"></a>Setting Sync</h3><p><code>Setting Sync</code> ä¹Ÿæ˜¯ <code>vscode</code> çš„ä¸€ä¸ªæ’ä»¶ï¼Œä»–åˆ©ç”¨ <code>github</code> çš„ <code>gist</code> ä½œä¸ºä½ çš„é…ç½®æ–‡ä»¶çš„å­˜å‚¨è½½ä½“ï¼Œæ‰€ä»¥ç†è®ºä¸Šåªè¦ä½ çš„ github è´¦æˆ·ä¸ä¸¢å¤±ï¼Œä½ çš„é…ç½®æ–‡ä»¶å°±ä¸ä¼šä¸¢å¤±ã€‚åŒæ—¶å€¼å¾—ä¸€æçš„å°±æ˜¯ï¼Œä½ çš„è¿™äº›é…ç½®æ–‡ä»¶è¿˜å…·æœ‰ç‰ˆæœ¬ç®¡ç†çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä½ å¯¹é…ç½®æ–‡ä»¶æ‰€åšçš„å˜æ›´éƒ½ä¸€æ¸…äºŒæ¥šã€‚</p><p>åºŸè¯å°±ä¸å¤šè¯´äº†ï¼Œç°åœ¨æ¥è¯´æ€ä¹ˆä½¿ç”¨å§ã€‚</p><h4 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h4><p>é¦–å…ˆï¼Œä½ å¾—æœ‰ä¸€ä¸ª <code>github</code> çš„è´¦æˆ·ï¼ˆåˆ«è¯´ä½ æ²¡æœ‰ï¼‰ï¼Œå¦‚æœä½ å·²ç»æœ‰äº†è´¦æˆ·ï¼Œé‚£ä¹ˆ <code>github</code> å°±ä¼šè‡ªåŠ¨ç»™ä½ åˆ›å»º <code>gist</code> è´¦æˆ·ï¼Œç®€å•çš„ç†è§£å°±æ˜¯ <strong>github ä¹‹äº é¡¹ç›®ä»£ç  çŠ¹å¦‚ gist ä¹‹äº ä»£ç æ®µ</strong>ã€‚ä½ å¯ä»¥éšæ„çš„æ–°å»ºä½ çš„ä»£ç æ®µï¼Œæ¯”å¦‚è¿™æ˜¯ <a href="https://gist.github.com/Michaelooo">æˆ‘çš„ä»£ç æ®µ</a> ã€‚</p><h4 id="å¦‚ä½•ä½¿ç”¨ï¼Ÿ"><a href="#å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h4><p>å› ä¸ºæ¯ä¸ªäººçš„ä½¿ç”¨æ–¹å¼éƒ½ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸‹é¢æ¶‰åŠçš„æ“ä½œæˆ‘å°½é‡ä¸ä½¿ç”¨ å¿«æ·é”® æ¥æç¤ºã€‚</p><ol><li><p><strong>å®‰è£… Setting Sync æ’ä»¶</strong></p><p>ç›´æ¥åœ¨ vscode æ’ä»¶é¢æ¿è¾“å…¥ Setting Syncä¸‹è½½å®‰è£…å³å¯ã€‚</p></li><li><p><strong>æ–°å»ºä¸€ä¸ª token</strong></p><p>ä¸ºä»€ä¹ˆéœ€è¦ token ï¼Œå› ä¸ºä½ éœ€è¦ æˆæƒ Setting Sync ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥è®¿é—®å¹¶åˆ›å»º gistã€‚ </p><p>å®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦<a href="https://github.com/settings/tokens">æ–°å»ºä¸€ä¸ª token </a>ï¼Œç„¶åå‹¾é€‰çš„æƒé™åªç»™ä¸€ä¸ª gist å°±å¯ä»¥äº†ï¼Œ<strong>generate token</strong> ä¹‹åå¤åˆ¶ç”Ÿæˆçš„ tokenã€‚<img src="https://shanalikhan.github.io/img/github2.PNG"></p><p><strong>ç”Ÿæˆçš„ token ä¸ç”¨æ‹…å¿ƒä¸¢å¤±ï¼Œå¦‚æœä¸è®°å¾—äº†ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªå³å¯ï¼Œä½†æ˜¯ä¸è¦æŠŠ token éšä¾¿ç»™åˆ«äººã€‚</strong></p></li><li><p><strong>æ–°å»ºæˆ–è€…é…ç½® gist æ–‡ä»¶</strong></p><p>ä½ å¯ä»¥è°ƒå‡º vscode çš„å¿«æ·å‘½ä»¤çª—å£ <code>cmd + shift + P</code>ï¼Œé”®å…¥ sync æ¥è¿›è¡Œ <strong>ä¸Šä¼ è®¾ç½®</strong> æ“ä½œã€‚<strong>éœ€è¦æ³¨æ„ä¸ git çš„å‘½ä»¤åŒºåˆ†</strong>ã€‚</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fumzabi2bej20f708tdir.jpg"></p><p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œé‚£ä¹ˆä¼šæç¤ºä½ è¾“å…¥ä¸Šä¸ªæ­¥éª¤ç”Ÿæˆçš„ token ï¼Œç²˜è´´å›è½¦ï¼Œç¬¬ä¸€æ¬¡ä¸Šä¼ è®¾ç½®ä¼šè‡ªåŠ¨æ–°å¢ä¸€ä¸ª gist çš„é…ç½®ï¼Œç”ŸæˆæˆåŠŸä¹‹åä¼šæœ‰æˆåŠŸçš„æç¤º:</p><p><img src="http://shanalikhan.github.io/img/upload2.png"></p><p><strong>ç”Ÿæˆçš„ gistID ä¸€å®šè¦è®°ä½ï¼Œæœ€å¥½å¯ä»¥ä¿å­˜ä¸‹æ¥ï¼Œå¦‚æœå®åœ¨è®°ä¸ä½ï¼Œå¯ä»¥å»ä¸ªäººçš„ gist åˆ—è¡¨é‡Œå¼€å¯åŒç›®æ‰«ææŸ¥æ‰¾</strong>ã€‚ä¾‹å¦‚è¿™æ˜¯ <a href="https://gist.github.com/Michaelooo">æˆ‘çš„ gist åˆ—è¡¨</a> ã€‚</p></li><li><p><strong>åŒæ­¥&#x2F;ä¸‹è½½ é…ç½®</strong></p><p>ä»¥ä¸Šçš„æ­¥éª¤åšå®Œï¼Œå°±ä»£è¡¨ä½ çš„ Setting Sync å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œé€šå¸¸ï¼Œä½ åªéœ€è¦ è°ƒå‡ºå¿«æ·å‘½ä»¤çª—å£ï¼Œç„¶åè¾“å…¥ sync å°±å¯ä»¥æŸ¥çœ‹å¹¶ä½¿ç”¨ Setting Sync çš„åŒæ­¥æˆ–è€…ä¸‹è½½é…ç½®äº†ï¼ˆä½¿ç”¨å¿«æ·é”®ä¼šæ›´æ–¹ä¾¿ï¼‰ã€‚</p><p>å³ä½¿ä½ æ›´æ¢äº†æ–°ç”µè„‘ï¼Œåªè¦ä½ è®°å¾—ç¬¬ä¸‰ä¸ªæ­¥éª¤é‡Œä¿å­˜çš„ tokenï¼ŒåŒæ­¥ä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ï¼ˆä¸è®°å¾—ä¹Ÿæ²¡å…³ç³»ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªå°±å¥½ï¼‰ã€‚ä½ å¯ä»¥é€šè¿‡ <code>cmd + shift + P</code>  â€“&gt; <code>sync é«˜çº§é€‰é¡¹</code> â€“&gt; <code>ç¼–è¾‘æœ¬åœ°æ‰©å±•è®¾ç½®</code> ï¼Œå°†ä½ çš„ token ç²˜è´´åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œç„¶åå†æ‰§è¡ŒåŒæ­¥&#x2F;ä¸‹è½½çš„é…ç½®å³å¯ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"ignoreUploadFiles"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"projects.json"</span><span class="token punctuation">,</span> <span class="token string">"projects_cache_vscode.json"</span><span class="token punctuation">,</span> <span class="token string">"projects_cache_git.json"</span><span class="token punctuation">,</span> <span class="token string">"projects_cache_svn.json"</span><span class="token punctuation">,</span> <span class="token string">"gpm_projects.json"</span><span class="token punctuation">,</span> <span class="token string">"gpm-recentItems.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"ignoreUploadFolders"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"workspaceStorage"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"ignoreExtensions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"replaceCodeSettings"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"gistDescription"</span><span class="token operator">:</span> <span class="token string">"Visual Studio Code Settings Sync Gist"</span><span class="token punctuation">,</span>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>  <span class="token property">"token"</span><span class="token operator">:</span> <span class="token string">"put token in there"</span><span class="token punctuation">,</span>  <span class="token property">"downloadPublicGist"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"supportedFileExtensions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"json"</span><span class="token punctuation">,</span> <span class="token string">"code-snippets"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"openTokenLink"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span></code></pre></li><li><p><strong>æ–°å»ºç”¨æˆ·é…ç½®çš„gist</strong></p><p>å› ä¸º Setting Sync æ˜¯é’ˆå¯¹æ’ä»¶çš„åŒæ­¥ï¼Œæ‰€ä»¥ä½ è¿˜å¯ä»¥å°†ä½ çš„ç”¨æˆ·é…ç½®æ–‡ä»¶æ”¾åˆ° gist ä¸Šï¼Œç­‰åˆ°æ›´æ¢æ–°ç”µè„‘çš„æ—¶å€™å–å›å³å¯ã€‚</p></li></ol><h3 id="æ’ä¸ªå˜´"><a href="#æ’ä¸ªå˜´" class="headerlink" title="æ’ä¸ªå˜´"></a>æ’ä¸ªå˜´</h3><p>å…¶å® vscode è¿˜æœ‰ä¸€ä¸ªå¾ˆå¥½ç”¨ä½†æ˜¯å¾ˆå°‘äººç”¨çš„åŠŸèƒ½å°±æ˜¯<strong>å·¥ä½œåŒº</strong>å•Šï¼Œæ„Ÿè§‰æˆ‘ ä¸€ã€äºŒåä¸ªé¡¹ç›®ä»£ç æ²¡æœ‰è¿™ä¸ªä¼šç–¯æ‰çš„ã€‚å½“ç„¶è¿™ä¸ªåŠŸèƒ½å¥½åƒæ‰€æœ‰çš„ IDE éƒ½æœ‰ï¼Œä¸è¿‡ä¸ºå•¥å°±æ˜¯å¾ˆå°‘äººç”¨å‘¢ã€‚</p><p>ä»¥ä¸Šï¼</p><h2 id="æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š-vscode-é…ç½®-1"><a href="#æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š-vscode-é…ç½®-1" class="headerlink" title="æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š vscode é…ç½®"></a>æ¢æ–°ç”µè„‘ä¸ç”¨æ…Œ-è½»æ¾æå®š vscode é…ç½®</h2><blockquote><p>å†™è¿™ä¸ªæ€»ç»“çš„ç›®çš„æ˜¯å› ä¸ºå‘ç°å¾ˆå¤šåŒå­¦å¹¶ä¸æ˜¯å¾ˆäº†è§£ vscode çš„éšè—åŠŸèƒ½ã€‚å› ä¸ºä¹‹å‰è‡ªå·±ç»å¸¸æ¢ç”µè„‘ï¼Œæ¢å‡ºå¿ƒå¾—äº†å·²ç»ï¼Œé‚æ€»ç»“ä¸‹ã€‚</p></blockquote><p>ç›¸ä¿¡å¤§å®¶éƒ½æ›¾æœ‰æ›´æ¢æ–°ç”µè„‘çš„ç»å†ï¼Œæ¢æ–°ç”µè„‘è‚¯å®šæ˜¯ä»¶å¼€å¿ƒçš„äº‹ï¼Œä½†æ˜¯æ¯æ¬¡æ¢æ–°ç”µè„‘åå¤æ‚çš„è½¯ä»¶é…ç½®å’Œæ•°æ®åŒæ­¥å´æ˜¯ä»¶å¾ˆä»¤äººå¤´ç—›çš„äº‹æƒ…ã€‚</p><p>åŒæ ·çš„ï¼Œä½œä¸ºä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œ<code>vscode</code> å¯èƒ½æ˜¯å¤§éƒ¨åˆ†å¼€å‘è€…çš„çµé­‚ä¼´ä¾£ï¼Œä½†æ˜¯è¿™ä¸ªä¼´ä¾£åœ¨æœ‰äº›äº‹æƒ…ä¸Šå´å¹¶ä¸æ˜¯é‚£ä¹ˆå¦‚æ„ï¼Œçµæ´»çš„é…ç½®å’Œä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€æ˜¯ <code>vscode</code> å—åˆ°å¤§å®¶å–œçˆ±çš„æ ¹æœ¬ï¼Œä½†æ˜¯åœ¨æ›´æ¢æ–°ç”µè„‘çš„æ—¶å€™ï¼Œ <code>vscode</code> å¯¹äºæ’ä»¶çš„ç®¡ç†çš„å¤‡ä»½å´æœ‰ç‚¹æ‰è¥Ÿè§è‚˜ï¼ˆå¦‚æœ <code>vscode</code> å¯ä»¥é›†æˆå¾®è½¯çš„è´¦å·åŒæ­¥æœåŠ¡é‚£ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªå¼€æºè½¯ä»¶ï¼Œå¾®è½¯å¹¶ä¸ä¼šè¿™ä¹ˆå¹²ï¼‰ã€‚æ‰€å¹¸çš„æ˜¯ <code>vscode</code> æ˜¯åŸºäºé…ç½®çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡<strong>æ‹·è´ä½ çš„æ’ä»¶é…ç½®æ–‡ä»¶</strong>æ¥è¾¾åˆ°æ–°ç”µè„‘åŒæ­¥çš„ç›®çš„ï¼Œä½†æ˜¯è¿™æ ·ä¸€æ ·å­˜åœ¨é…ç½®ä¸¢å¤±çš„é£é™©ï¼Œå¹¶ä¸”æ“ä½œä¹Ÿç•¥æ˜¾å¤æ‚ã€‚ä¸è¿‡æ˜¾ç„¶ä¼šæœ‰å¦å¤–ä¸€ç§æ¯”è¾ƒä¼˜é›…çš„æ–¹å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ <code>Setting Sync</code> æ¥åŒæ­¥é…ç½®ã€‚</p><h3 id="Setting-Sync-1"><a href="#Setting-Sync-1" class="headerlink" title="Setting Sync"></a>Setting Sync</h3><p><code>Setting Sync</code> ä¹Ÿæ˜¯ <code>vscode</code> çš„ä¸€ä¸ªæ’ä»¶ï¼Œä»–åˆ©ç”¨ <code>github</code> çš„ <code>gist</code> ä½œä¸ºä½ çš„é…ç½®æ–‡ä»¶çš„å­˜å‚¨è½½ä½“ï¼Œæ‰€ä»¥ç†è®ºä¸Šåªè¦ä½ çš„ github è´¦æˆ·ä¸ä¸¢å¤±ï¼Œä½ çš„é…ç½®æ–‡ä»¶å°±ä¸ä¼šä¸¢å¤±ã€‚åŒæ—¶å€¼å¾—ä¸€æçš„å°±æ˜¯ï¼Œä½ çš„è¿™äº›é…ç½®æ–‡ä»¶è¿˜å…·æœ‰ç‰ˆæœ¬ç®¡ç†çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä½ å¯¹é…ç½®æ–‡ä»¶æ‰€åšçš„å˜æ›´éƒ½ä¸€æ¸…äºŒæ¥šã€‚</p><p>åºŸè¯å°±ä¸å¤šè¯´äº†ï¼Œç°åœ¨æ¥è¯´æ€ä¹ˆä½¿ç”¨å§ã€‚</p><h4 id="å‰ç½®æ¡ä»¶-1"><a href="#å‰ç½®æ¡ä»¶-1" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h4><p>é¦–å…ˆï¼Œä½ å¾—æœ‰ä¸€ä¸ª <code>github</code> çš„è´¦æˆ·ï¼ˆåˆ«è¯´ä½ æ²¡æœ‰ï¼‰ï¼Œå¦‚æœä½ å·²ç»æœ‰äº†è´¦æˆ·ï¼Œé‚£ä¹ˆ <code>github</code> å°±ä¼šè‡ªåŠ¨ç»™ä½ åˆ›å»º <code>gist</code> è´¦æˆ·ï¼Œç®€å•çš„ç†è§£å°±æ˜¯ <strong>github ä¹‹äº é¡¹ç›®ä»£ç  çŠ¹å¦‚ gist ä¹‹äº ä»£ç æ®µ</strong>ã€‚ä½ å¯ä»¥éšæ„çš„æ–°å»ºä½ çš„ä»£ç æ®µï¼Œæ¯”å¦‚è¿™æ˜¯ <a href="https://gist.github.com/Michaelooo">æˆ‘çš„ä»£ç æ®µ</a> ã€‚</p><h4 id="å¦‚ä½•ä½¿ç”¨ï¼Ÿ-1"><a href="#å¦‚ä½•ä½¿ç”¨ï¼Ÿ-1" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h4><p>å› ä¸ºæ¯ä¸ªäººçš„ä½¿ç”¨æ–¹å¼éƒ½ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸‹é¢æ¶‰åŠçš„æ“ä½œæˆ‘å°½é‡ä¸ä½¿ç”¨ å¿«æ·é”® æ¥æç¤ºã€‚</p><ol><li><p><strong>å®‰è£… Setting Sync æ’ä»¶</strong></p><p>ç›´æ¥åœ¨ vscode æ’ä»¶é¢æ¿è¾“å…¥ Setting Syncä¸‹è½½å®‰è£…å³å¯ã€‚</p></li><li><p><strong>æ–°å»ºä¸€ä¸ª token</strong></p><p>ä¸ºä»€ä¹ˆéœ€è¦ token ï¼Œå› ä¸ºä½ éœ€è¦ æˆæƒ Setting Sync ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥è®¿é—®å¹¶åˆ›å»º gistã€‚ </p><p>å®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦<a href="https://github.com/settings/tokens">æ–°å»ºä¸€ä¸ª token </a>ï¼Œç„¶åå‹¾é€‰çš„æƒé™åªç»™ä¸€ä¸ª gist å°±å¯ä»¥äº†ï¼Œ<strong>generate token</strong> ä¹‹åå¤åˆ¶ç”Ÿæˆçš„ tokenã€‚<img src="https://shanalikhan.github.io/img/github2.PNG"></p><p><strong>ç”Ÿæˆçš„ token ä¸ç”¨æ‹…å¿ƒä¸¢å¤±ï¼Œå¦‚æœä¸è®°å¾—äº†ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªå³å¯ï¼Œä½†æ˜¯ä¸è¦æŠŠ token éšä¾¿ç»™åˆ«äººã€‚</strong></p></li><li><p><strong>æ–°å»ºæˆ–è€…é…ç½® gist æ–‡ä»¶</strong></p><p>ä½ å¯ä»¥è°ƒå‡º vscode çš„å¿«æ·å‘½ä»¤çª—å£ <code>cmd + shift + P</code>ï¼Œé”®å…¥ sync æ¥è¿›è¡Œ <strong>ä¸Šä¼ è®¾ç½®</strong> æ“ä½œã€‚<strong>éœ€è¦æ³¨æ„ä¸ git çš„å‘½ä»¤åŒºåˆ†</strong>ã€‚</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fumzabi2bej20f708tdir.jpg"></p><p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œé‚£ä¹ˆä¼šæç¤ºä½ è¾“å…¥ä¸Šä¸ªæ­¥éª¤ç”Ÿæˆçš„ token ï¼Œç²˜è´´å›è½¦ï¼Œç¬¬ä¸€æ¬¡ä¸Šä¼ è®¾ç½®ä¼šè‡ªåŠ¨æ–°å¢ä¸€ä¸ª gist çš„é…ç½®ï¼Œç”ŸæˆæˆåŠŸä¹‹åä¼šæœ‰æˆåŠŸçš„æç¤º:</p><p><img src="http://shanalikhan.github.io/img/upload2.png"></p><p><strong>ç”Ÿæˆçš„ gistID ä¸€å®šè¦è®°ä½ï¼Œæœ€å¥½å¯ä»¥ä¿å­˜ä¸‹æ¥ï¼Œå¦‚æœå®åœ¨è®°ä¸ä½ï¼Œå¯ä»¥å»ä¸ªäººçš„ gist åˆ—è¡¨é‡Œå¼€å¯åŒç›®æ‰«ææŸ¥æ‰¾</strong>ã€‚ä¾‹å¦‚è¿™æ˜¯ <a href="https://gist.github.com/Michaelooo">æˆ‘çš„ gist åˆ—è¡¨</a> ã€‚</p></li><li><p><strong>åŒæ­¥&#x2F;ä¸‹è½½ é…ç½®</strong></p><p>ä»¥ä¸Šçš„æ­¥éª¤åšå®Œï¼Œå°±ä»£è¡¨ä½ çš„ Setting Sync å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œé€šå¸¸ï¼Œä½ åªéœ€è¦ è°ƒå‡ºå¿«æ·å‘½ä»¤çª—å£ï¼Œç„¶åè¾“å…¥ sync å°±å¯ä»¥æŸ¥çœ‹å¹¶ä½¿ç”¨ Setting Sync çš„åŒæ­¥æˆ–è€…ä¸‹è½½é…ç½®äº†ï¼ˆä½¿ç”¨å¿«æ·é”®ä¼šæ›´æ–¹ä¾¿ï¼‰ã€‚</p><p>å³ä½¿ä½ æ›´æ¢äº†æ–°ç”µè„‘ï¼Œåªè¦ä½ è®°å¾—ç¬¬ä¸‰ä¸ªæ­¥éª¤é‡Œä¿å­˜çš„ tokenï¼ŒåŒæ­¥ä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ï¼ˆä¸è®°å¾—ä¹Ÿæ²¡å…³ç³»ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªå°±å¥½ï¼‰ã€‚ä½ å¯ä»¥é€šè¿‡ <code>cmd + shift + P</code>  â€“&gt; <code>sync é«˜çº§é€‰é¡¹</code> â€“&gt; <code>ç¼–è¾‘æœ¬åœ°æ‰©å±•è®¾ç½®</code> ï¼Œå°†ä½ çš„ token ç²˜è´´åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œç„¶åå†æ‰§è¡ŒåŒæ­¥&#x2F;ä¸‹è½½çš„é…ç½®å³å¯ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"ignoreUploadFiles"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"projects.json"</span><span class="token punctuation">,</span> <span class="token string">"projects_cache_vscode.json"</span><span class="token punctuation">,</span> <span class="token string">"projects_cache_git.json"</span><span class="token punctuation">,</span> <span class="token string">"projects_cache_svn.json"</span><span class="token punctuation">,</span> <span class="token string">"gpm_projects.json"</span><span class="token punctuation">,</span> <span class="token string">"gpm-recentItems.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"ignoreUploadFolders"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"workspaceStorage"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"ignoreExtensions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"replaceCodeSettings"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"gistDescription"</span><span class="token operator">:</span> <span class="token string">"Visual Studio Code Settings Sync Gist"</span><span class="token punctuation">,</span>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>  <span class="token property">"token"</span><span class="token operator">:</span> <span class="token string">"put token in there"</span><span class="token punctuation">,</span>  <span class="token property">"downloadPublicGist"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"supportedFileExtensions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"json"</span><span class="token punctuation">,</span> <span class="token string">"code-snippets"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"openTokenLink"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span></code></pre></li><li><p><strong>æ–°å»ºç”¨æˆ·é…ç½®çš„gist</strong></p><p>å› ä¸º Setting Sync æ˜¯é’ˆå¯¹æ’ä»¶çš„åŒæ­¥ï¼Œæ‰€ä»¥ä½ è¿˜å¯ä»¥å°†ä½ çš„ç”¨æˆ·é…ç½®æ–‡ä»¶æ”¾åˆ° gist ä¸Šï¼Œç­‰åˆ°æ›´æ¢æ–°ç”µè„‘çš„æ—¶å€™å–å›å³å¯ã€‚</p></li></ol><h3 id="æ’ä¸ªå˜´-1"><a href="#æ’ä¸ªå˜´-1" class="headerlink" title="æ’ä¸ªå˜´"></a>æ’ä¸ªå˜´</h3><p>å…¶å® vscode è¿˜æœ‰ä¸€ä¸ªå¾ˆå¥½ç”¨ä½†æ˜¯å¾ˆå°‘äººç”¨çš„åŠŸèƒ½å°±æ˜¯<strong>å·¥ä½œåŒº</strong>å•Šï¼Œæ„Ÿè§‰æˆ‘ ä¸€ã€äºŒåä¸ªé¡¹ç›®ä»£ç æ²¡æœ‰è¿™ä¸ªä¼šç–¯æ‰çš„ã€‚å½“ç„¶è¿™ä¸ªåŠŸèƒ½å¥½åƒæ‰€æœ‰çš„ IDE éƒ½æœ‰ï¼Œä¸è¿‡ä¸ºå•¥å°±æ˜¯å¾ˆå°‘äººç”¨å‘¢ã€‚</p><p>ä»¥ä¸Šï¼</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gitå¼€å‘è§„èŒƒ</title>
      <link href="/2018/08/15/"/>
      <url>/2018/08/15/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œå›¢é˜Ÿåä½œæ˜¯æ¯”åŸ‹å¤´ç¼–ç¨‹æ›´å€¼å¾—å»æ·±å…¥çš„ä¸œè¥¿ã€‚ä¸€å¥—å¥½çš„å¼€å‘æµç¨‹ï¼ˆè§„èŒƒï¼‰å¯ä»¥é¿å…å¾ˆå¤šä¸å¿…è¦çš„éº»çƒ¦ï¼Œç°åœ¨å¤§éƒ¨åˆ†çš„å…¬å¸éƒ½ä½¿ç”¨ git æ¥è¿›è¡Œä»£ç ç®¡ç†ï¼Œè¿™é‡Œç»“åˆä¸ªäººå·¥ä½œä¸­çš„æ‰€å¾—ä»¥åŠä¸ªäººä½¿ç”¨ä¸­ç»å¸¸é‡åˆ°çš„å‘ï¼Œåšä¸ªç®€å•çš„æ€»ç»“ã€‚</p><p>å¯¹äº git çš„ç¼–ç¨‹è§„èŒƒæ¥è¯´ï¼Œå…¶å® <strong><a href="https://www.git-tower.com/learn/git/ebook/cn/command-line/advanced-topics/git-flow">git-flow</a></strong>  å°±æ˜¯ä¸€å¥—å¥½çš„ç¼–ç¨‹è§„èŒƒï¼Œå®ƒå¯¹å·¥ä½œä¸­çš„ git äº‹åŠ¡æ€§çš„æ“ä½œåšäº†ä¸€ä¸ªå°è£…ï¼Œåœ¨å›¢é˜Ÿè¿˜ä¸å…·æœ‰ä¸€å®šçš„è§„æ¨¡åŒ–çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <strong>git-flow</strong> æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚å¦‚å…³äºå¸¸ç”¨åˆ†æ”¯çš„å®šä¹‰ï¼Œå°±å¯ä»¥å‚è€ƒ <strong>git-flow</strong> çš„æ€æƒ³ï¼š</p><blockquote><p> <strong>master</strong> åªèƒ½ç”¨æ¥åŒ…æ‹¬äº§å“ä»£ç ã€‚ä½ ä¸èƒ½ç›´æ¥å·¥ä½œåœ¨è¿™ä¸ª master åˆ†æ”¯ä¸Šï¼Œè€Œæ˜¯åœ¨å…¶ä»–æŒ‡å®šçš„ï¼Œç‹¬ç«‹çš„ç‰¹æ€§åˆ†æ”¯ä¸­ï¼ˆè¿™æ–¹é¢æˆ‘ä»¬ä¼šé©¬ä¸Šè°ˆåˆ°ï¼‰ã€‚ä¸ç›´æ¥æäº¤æ”¹åŠ¨åˆ° master åˆ†æ”¯ä¸Šä¹Ÿæ˜¯å¾ˆå¤šå·¥ä½œæµç¨‹çš„ä¸€ä¸ªå…±åŒçš„è§„åˆ™ã€‚</p></blockquote><blockquote><p><strong>develop</strong> æ˜¯ä½ è¿›è¡Œä»»ä½•æ–°çš„å¼€å‘çš„åŸºç¡€åˆ†æ”¯ã€‚å½“ä½ å¼€å§‹ä¸€ä¸ªæ–°çš„åŠŸèƒ½åˆ†æ”¯æ—¶ï¼Œå®ƒå°†æ˜¯ å¼€å‘ çš„åŸºç¡€ã€‚å¦å¤–ï¼Œè¯¥åˆ†æ”¯ä¹Ÿæ±‡é›†æ‰€æœ‰å·²ç»å®Œæˆçš„åŠŸèƒ½ï¼Œå¹¶ç­‰å¾…è¢«æ•´åˆåˆ° master åˆ†æ”¯ä¸­ã€‚</p></blockquote><p>ä½†æ˜¯å½“å›¢é˜Ÿæœ‰äº†ä¸€å®šçš„è§„æ¨¡åŒ–çš„æ—¶å€™ï¼Œè¦æ±‚æ‰€æœ‰æˆå‘˜å†å»å­¦ä¹  git-flow çš„ä½¿ç”¨ï¼Œè¿™æ ·çš„æˆæœ¬ä¹Ÿæ˜¯å¾ˆé«˜çš„ï¼Œæ‰€ä»¥è¿™æ—¶å€™æˆ‘ä»¬å€¾å‘äºä½¿ç”¨åŸç”Ÿçš„å‘½ä»¤æ¥æ“ä½œã€‚</p><p>ä¸‹é¢æ˜¯æˆ‘æ€»ç»“çš„åœ¨å·¥ä½œå¸¸ç”¨çš„åœºæ™¯ä¸‹ï¼Œå¯¹ git çš„ä¸€äº›æ“ä½œã€‚</p><h2 id="å¼€å‘ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ—¶"><a href="#å¼€å‘ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ—¶" class="headerlink" title="å¼€å‘ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ—¶"></a>å¼€å‘ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ—¶</h2><p>æ¯”è¾ƒå¥½çš„å¼€å‘è§„èŒƒå°±æ˜¯ï¼Œå½“ä½ å¼€å‘ä¸€ä¸ªæ–°çš„éœ€æ±‚æ—¶ï¼Œåº”è¯¥æŒ‰ç…§ä¸‹é¢çš„æµç¨‹è¿›è¡Œå¼€å‘ï¼š</p><p><strong>ç¬¬ä¸€æ­¥ï¼šåŸºäº develop æ–°å»ºä¸€ä¸ªäººåˆ†æ”¯</strong> </p><pre class=" language-shell"><code class="language-shell">git checkout -b "new-branch"</code></pre><p><strong>ç¬¬äºŒæ­¥ï¼šåŒæ­¥ä¸ªäººåˆ†æ”¯è‡³è¿œç¨‹ä»“åº“</strong></p><pre class=" language-shell"><code class="language-shell">git push --set-upstream origin "new-branch"</code></pre><p>ä½¿ç”¨ <code>--set-upstream</code> çš„ç›®çš„æ˜¯è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯ã€‚åé¢æ‰§è¡Œå‘½ä»¤æ—¶å¯ä»¥çœæ‰æŒ‡å®šæºçš„æ“ä½œï¼Œå¦‚ï¼š</p><pre class=" language-shell"><code class="language-shell">git pull origin test => git pull git push origin test => git push</code></pre><p><strong>ç¬¬ä¸‰æ­¥ï¼šåŠŸèƒ½å¼€å‘å®Œæˆåï¼Œå‘é€ merge è¯·æ±‚</strong></p><p><code>master</code> åˆ†æ”¯å’Œ <code>develop</code> åˆ†æ”¯åº”è¯¥è¢«ä¿æŠ¤ï¼Œåªæœ‰ç¨³å®šçš„ç‰ˆæœ¬æ‰å¯ä»¥å…è®¸åˆå¹¶æ“ä½œã€‚åˆå¹¶çš„æ–¹å¼å› å›¢é˜Ÿè€Œå¼‚ï¼Œå¸¸è§„çš„æµç¨‹æ˜¯æ‰¾åˆ°å…·æœ‰<code>develop</code> åˆ†æ”¯å¼€å‘æƒé™çš„æˆå‘˜ï¼Œæ‰§è¡Œï¼š</p><pre class=" language-shell"><code class="language-shell">git checkout developgit merge "new-branch"</code></pre><p>å¦‚æœä½ çš„å›¢é˜Ÿä½¿ç”¨ gitlab è¿›è¡Œç®¡ç†ï¼Œå°±å¯ä»¥å‘é€ä¸€ä¸ªç”± <code>new-branch</code> åˆ° <code>develop</code> åˆ†æ”¯çš„ <strong>merge request</strong> ã€‚</p><h2 id="å¦‚ä½•å†™å¥½ä¸€ä¸ª-git-comment"><a href="#å¦‚ä½•å†™å¥½ä¸€ä¸ª-git-comment" class="headerlink" title="å¦‚ä½•å†™å¥½ä¸€ä¸ª git comment"></a>å¦‚ä½•å†™å¥½ä¸€ä¸ª git comment</h2><p>ä¸åº”å½“å‡ºç°è¯­ä¹‰æ¨¡ç³Šæˆ–æ¯«æ— æ„ä¹‰çš„ comment æè¿°ã€‚æ¯ä¸ªå›¢é˜Ÿéƒ½è¦æœ‰è‡ªå·±çš„ comment è§„èŒƒï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ç”¨å¤§å®¶éƒ½å·²ç»æ¥å—äº†çš„</p><pre class=" language-shell"><code class="language-shell">featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰fixï¼šä¿®è¡¥bugdocsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰rebuildï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰testï¼šå¢åŠ æµ‹è¯•choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨config: é…ç½®example: git commit -m "[feat] æ–°åŠŸèƒ½"</code></pre><p>ä»¥ä¸Šæ€»ç»“è‡ªï¼š <a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html">é˜®ä¸€å³°ï¼š Commit message å’Œ Change log ç¼–å†™æŒ‡å—</a>]</p><p>å¦‚æœä½ å¾ˆçš®ï¼Œæƒ³åŠ ä¸ªå¼€æºåº“é‚£æ · comment çš„è¡¨æƒ…ï¼Œä½ å¯ä»¥æ‰§è¡Œï¼š</p><pre class=" language-shell"><code class="language-shell">git commit -m ':apple: i have a apple'</code></pre><p>è‹¹æœå°±å‡ºæ¥äº†ï¼Œæ›´å¤šè¡¨æƒ…ä»£ç å¯ä»¥ç‚¹ <a href="https://github.com/Michaelooo/just_write/blob/master/archived/%E5%85%B3%E4%BA%8Egit%2C%E4%BD%A0%E5%BA%94%E8%AF%A5%E7%9F%A5%E9%81%93%E7%9A%84%E6%93%8D%E4%BD%9C.md#git-comment-%E6%B7%BB%E5%8A%A0%E8%A1%A8%E6%83%85">è¿™é‡Œ</a>ã€‚</p><h2 id="åšä¸€ä¸ª-hotfix-æ—¶"><a href="#åšä¸€ä¸ª-hotfix-æ—¶" class="headerlink" title="åšä¸€ä¸ª hotfix æ—¶"></a>åšä¸€ä¸ª hotfix æ—¶</h2><p><strong>Hotfix</strong> æ˜¯ä¸ºäº†åº”å¯¹å·²ä¸Šçº¿çš„äº§å“ä»£ç å‡ºç°çš„é—®é¢˜å‡ºç°çš„ç´§æ€¥ä¿®å¤ï¼Œæ‰€ä»¥å’Œå¼€å‘æ–°åŠŸèƒ½çš„æµç¨‹ç•¥æœ‰ä¸åŒã€‚ <strong>Hotfix</strong> æ˜¾è€Œæ˜“è§æ˜¯åŸºäº <strong>master</strong> åˆ†æ”¯çš„ã€‚ä½†å®é™…çš„æ“ä½œæ­¥éª¤å’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p><h2 id="åˆ†æ”¯åˆ‡æ¢é‡åˆ°é—®é¢˜æ—¶"><a href="#åˆ†æ”¯åˆ‡æ¢é‡åˆ°é—®é¢˜æ—¶" class="headerlink" title="åˆ†æ”¯åˆ‡æ¢é‡åˆ°é—®é¢˜æ—¶"></a>åˆ†æ”¯åˆ‡æ¢é‡åˆ°é—®é¢˜æ—¶</h2><p>è¿™é‡Œçš„é—®é¢˜å¾€å¾€æ˜¯ï¼š<strong>ä½¿ç”¨ checkout åˆ‡æ¢åˆ†æ”¯æ—¶é‡åˆ°çš„å†²çª</strong>ï¼Œæˆ–è€…æ˜¯ <strong>åˆ†æ”¯åˆ‡æ¢çš„æ—¶å€™é‡åˆ°å°šæœªæ·»åŠ è‡³æš‚å­˜åŒºçš„ä»£ç </strong>ã€‚å¯¹äºè¿™ä¸¤ä¸ªé—®é¢˜ï¼Œå‰è€…å¾€å¾€å¾ˆå®¹æ˜“è§£å†³ï¼Œè§£å†³æ‰å†²çªï¼Œé‡æ–° checkout å°±å¥½ã€‚åè€…çš„è¯å°±æœ‰äº›å¤´ç–¼ï¼Œå‡å¦‚ä½ çš„æºåˆ†æ”¯å·²ç»æœ‰äº†è‡ªå·±å¤§é‡çš„ç¥ä»™é€»è¾‘ä»£ç ï¼Œæ‰€ä»¥ä½ ä¸æƒ³ä½¿ç”¨ <code>git add</code> å°†è¿™äº›æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œä½ ä¹Ÿä¸æƒ³ç”¨ <code>git reset</code> çš„æ–¹å¼å»å¤„ç†ï¼Œè¿™æ—¶ç›¸å¯¹æ¯”è¾ƒå¥½çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼:</p><pre class=" language-shell"><code class="language-shell">git stash -uæš‚å­˜ï¼ŒåŒºåˆ†ä¸ git add çš„æš‚å­˜git stash liståˆ—å‡ºæš‚å­˜å†…å®¹git stash pop å–å›æš‚å­˜</code></pre><p>è¿™æ ·å°±å¯ä»¥ç•…å¿«è‡ªå¦‚çš„åˆ‡æ¢åˆ†æ”¯äº†ã€‚å¾ˆæ˜¾ç„¶ï¼Œä½¿ç”¨ <code>git satge</code> çš„æ–¹å¼æ¡ç†ä¹Ÿä¼šæ›´åŠ æ¸…æ™°äº›ã€‚</p><h2 id="æ€ä¹ˆå»å¤„ç†æ„å»ºä»»åŠ¡æ—¶"><a href="#æ€ä¹ˆå»å¤„ç†æ„å»ºä»»åŠ¡æ—¶" class="headerlink" title="æ€ä¹ˆå»å¤„ç†æ„å»ºä»»åŠ¡æ—¶"></a>æ€ä¹ˆå»å¤„ç†æ„å»ºä»»åŠ¡æ—¶</h2><p>è¿™ä¸ªåœºæ™¯å¯èƒ½ä¸è¿™ç¯‡æ–‡ç« ä¸æ˜¯é‚£ä¹ˆç¬¦åˆã€‚</p><p>å¦‚ä¸Šæ‰€è¯´ï¼Œå¦‚æœä½¿ç”¨äº† <a href="https://about.gitlab.com/">gitlab</a> æ¥ç®¡ç†å›¢é˜Ÿä»£ç ï¼Œgitlab æ‰€é›†æˆçš„ CI&#x2F;CD ä¹Ÿæ˜¯å¾ˆä¸é”™çš„ devops çš„é€‰æ‹©ï¼Œç›®å‰çš„é¡¹ç›®å›¢é˜Ÿä¹Ÿåœ¨ä½¿ç”¨ï¼Œä½¿ç”¨å·¥ç¨‹åŒ–çš„ gitlab.ci é…ç½®æ–‡ä»¶ï¼Œæ¥è‡ªåŠ¨åŒ–æ‰§è¡Œæµ‹è¯•ã€ç¼–è¯‘ã€æ„å»ºã€éƒ¨ç½²ç­‰ä¸€ç³»åˆ—çš„å·¥ä½œï¼ŒåŸæ¥éƒ¨ç½²è¿‡ç¨‹ä¸­ç¹æ‚çš„å·¥ä½œå˜æˆäº† **<a href="https://docs.gitlab.com/ee/ci/quick_start/">å¦‚ä½•å»å†™å¥½ä¸€ä¸ª gitlab.ci æ–‡ä»¶ï¼Ÿ</a>**ã€‚</p><p>å¦‚æœæ²¡æœ‰ä½¿ç”¨ gitlabï¼Œ åŒæ ·çš„ï¼Œä½¿ç”¨ github + <a href="https://travis-ci.org/">travis.ci</a> ä¹Ÿæ˜¯æ¯”è¾ƒæµè¡Œçš„å¼€æºåº“çš„å®ç°æ–¹æ¡ˆã€‚</p><p>å¦å¤–ï¼Œåœ¨ä¹‹å‰çš„å·¥ä½œä¸­ï¼Œä¹Ÿæœ‰ä½¿ç”¨è¿‡ <a href="https://visualstudio.microsoft.com/zh-hans/tfs/?rr=https://www.google.com.hk/">TFS</a> çš„æ–¹å¼ï¼Œè¿™ä¸ªæ˜¯å¾®è½¯æä¾›çš„æœåŠ¡ï¼Œå›½å†…ç”¨çš„æ¯”è¾ƒå°‘ï¼ˆæ”¶è´¹ï¼Œä»·æ ¼è¿˜æŒºè´µï¼‰ï¼Œå›½å¤–å¾ˆæµè¡Œã€‚è¿™ä¸ªçš„æ„å»ºé…ç½®æ¯”èµ·ä¸Šé¢ä¸¤ä¸ªè¦å¤æ‚äº›ï¼Œä½†æ˜¯ä½¿ç”¨è¿‡ç¨‹è¿˜æ˜¯å¾ˆèˆ’ç•…çš„ã€‚</p><p><strong>ä»¥ä¸Šã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goå…¥é—¨è¸©å‘åŠç¯å¢ƒé…ç½®é—®é¢˜ç›¸å…³</title>
      <link href="/2018/08/09/"/>
      <url>/2018/08/09/</url>
      
        <content type="html"><![CDATA[<h1 id="go-å…¥é—¨è¸©å‘åŠç¯å¢ƒé…ç½®é—®é¢˜ç›¸å…³"><a href="#go-å…¥é—¨è¸©å‘åŠç¯å¢ƒé…ç½®é—®é¢˜ç›¸å…³" class="headerlink" title="go å…¥é—¨è¸©å‘åŠç¯å¢ƒé…ç½®é—®é¢˜ç›¸å…³"></a>go å…¥é—¨è¸©å‘åŠç¯å¢ƒé…ç½®é—®é¢˜ç›¸å…³</h1><h2 id="å­¦ä¹ ç½‘ç«™"><a href="#å­¦ä¹ ç½‘ç«™" class="headerlink" title="å­¦ä¹ ç½‘ç«™"></a>å­¦ä¹ ç½‘ç«™</h2><ul><li><a href="https://www.kancloud.cn/kancloud/the-way-to-go/72675"><strong>Go å…¥é—¨æŒ‡å—</strong></a></li><li><a href="https://www.kancloud.cn/kancloud/web-application-with-golang/44105"><strong>Go web ç¼–ç¨‹</strong></a></li><li><a href="https://golang.org/doc/"><strong>å®˜ç½‘</strong></a></li><li><a href="https://tiancaiamao.gitbooks.io/go-internals/content/zh/04.0.html"><strong>æ·±å…¥è§£æ Go</strong></a></li><li><a href="https://gowalker.org/search?q=gorepos"><strong>Go ä»“åº“å¤§å…¨</strong></a></li><li><a href="http://cngolib.com/"><strong>Go æ ‡å‡†åº“æŒ‡å—ï¼ˆä¸­æ–‡ï¼‰</strong></a></li><li><a href="https://github.com/avelino/awesome-go"><strong>awesome go</strong></a></li></ul><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£…"></a>1.å®‰è£…</h2><p>ç›´æ¥å»å®˜ç½‘ä¸‹è½½ <a href="https://golang.org/dl/">goçš„åŒ…</a>ï¼Œä¸‹è½½åè§£å‹å®‰è£…ã€‚</p><h3 id="é…ç½®-gopath"><a href="#é…ç½®-gopath" class="headerlink" title="é…ç½® gopath"></a>é…ç½® gopath</h3><p>gopath å¯ä»¥ç®€å•ç†è§£ä¸ºä½ çš„å·¥ä½œç›®å½•ï¼Œå¯ä»¥è‡ªå·±å®šä¹‰ä½ç½®ã€‚</p><pre><code>echo &#39;export GOPATH=$HOME/goPATH=$PATH:$HOME/.local/bin:$HOME/bin:$GOPATH/bin&#39; &gt;&gt; ~/.zshrc</code></pre><p>ä½¿é…ç½®ç”Ÿæ•ˆ</p><pre><code>source ~/.zshrc</code></pre><h3 id="ä½¿ç”¨-go-env-æŸ¥çœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆ"><a href="#ä½¿ç”¨-go-env-æŸ¥çœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="ä½¿ç”¨ go env æŸ¥çœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆ"></a>ä½¿ç”¨ <code>go env</code> æŸ¥çœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆ</h3><p>ä¸€èˆ¬ç›®å½•æ˜¯ä¸‹é¢çš„è¿™ä¸ªæ ·å­å°±æ˜¯å¯¹çš„ï¼Œ<code>GOPATH=&quot;/Users/xxx/go&quot;</code>ï¼Œxxx æ˜¯å½“å‰ç”¨æˆ·åç§°ã€‚</p><h2 id="2-é…ç½®-vscode-å¼€å‘ç¯å¢ƒ"><a href="#2-é…ç½®-vscode-å¼€å‘ç¯å¢ƒ" class="headerlink" title="2.é…ç½® vscode å¼€å‘ç¯å¢ƒ"></a>2.é…ç½® vscode å¼€å‘ç¯å¢ƒ</h2><h3 id="é…ç½®-debug-ç¯å¢ƒ"><a href="#é…ç½®-debug-ç¯å¢ƒ" class="headerlink" title="é…ç½® debug ç¯å¢ƒ"></a><strong>é…ç½® debug ç¯å¢ƒ</strong></h3><p>ä½¿ç”¨ vscode è°ƒè¯• go çš„è¯ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªgoçš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼š<a href="https://github.com/derekparker/delve">delve</a>ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š</p><pre><code>go get github.com/derekparker/delve/cmd/dlv</code></pre><p>å®‰è£…åå°±å¯ä»¥åœ¨ debug é¢æ¿æ·»åŠ  debug é…ç½®æ–‡ä»¶è°ƒè¯•äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code>&#123;  &quot;version&quot;: &quot;0.2.0&quot;,  &quot;configurations&quot;: [    &#123;      &quot;name&quot;: &quot;Launch&quot;,      &quot;type&quot;: &quot;go&quot;,      &quot;request&quot;: &quot;launch&quot;,      &quot;mode&quot;: &quot;debug&quot;,      &quot;remotePath&quot;: &quot;&quot;,      &quot;port&quot;: 7000,      &quot;host&quot;: &quot;0.0.0.0&quot;,      &quot;program&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,      &quot;env&quot;: &#123;        &quot;GOPATH&quot;: &quot;/Users/michael/Documents/go&quot;      &#125;,      &quot;args&quot;: [],      &quot;showLog&quot;: true    &#125;  ]&#125;</code></pre><p>å¦‚æœå¯åŠ¨åæŠ¥ä¸‹é¢çš„é”™è¯¯ï¼š</p><pre><code>lldb-server needs to be installed in $PATH</code></pre><p>å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„æ–¹æ³•è§£å†³ï¼š</p><p>æ‰§è¡Œ <code>xcode-select --install</code> è§£å†³ï¼Œ<a href="https://github.com/derekparker/delve/issues/986">åŸå› æœªçŸ¥</a>ã€‚</p><h3 id="é…ç½®å¼€å‘è¯­æ³•æç¤º"><a href="#é…ç½®å¼€å‘è¯­æ³•æç¤º" class="headerlink" title="é…ç½®å¼€å‘è¯­æ³•æç¤º"></a><strong>é…ç½®å¼€å‘è¯­æ³•æç¤º</strong></h3><p>éšä¾¿å»ºä¸€ä¸ª <code>.go</code> çš„æ–‡ä»¶ç”¨ vscode æ‰“å¼€ï¼Œä¼šè‡ªåŠ¨æç¤ºå®‰è£… go çš„ç›¸å…³æ’ä»¶ï¼Œä½†æ˜¯ä¸€èˆ¬ä¼šæœ‰ä¸€äº›æ’ä»¶å®‰è£…å¤±è´¥ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸‹é¢çš„å‡ ä¸ªï¼š</p><pre><code>Installing github.com/nsf/gocode SUCCEEDEDInstalling github.com/uudashr/gopkgs/cmd/gopkgs SUCCEEDEDInstalling github.com/ramya-rao-a/go-outline FAILEDInstalling github.com/acroca/go-symbols FAILEDInstalling golang.org/x/tools/cmd/guru FAILEDInstalling golang.org/x/tools/cmd/gorename FAILEDInstalling github.com/rogpeppe/godef SUCCEEDEDInstalling github.com/sqs/goreturns FAILEDInstalling github.com/golang/lint/golint FAILED</code></pre><p>å¯ä»¥å‚è€ƒè¿™ä¸ª<a href="https://cloud.tencent.com/developer/article/1013066">ä¿®æ”¹åŠæ³•: è®©ä½ æˆåŠŸå®‰è£…vscodeä¸­goçš„ç›¸å…³æ’ä»¶</a> ä¿®æ”¹ã€‚</p><h3 id="æ³¨æ„-å¦‚æœæ²¡é‡åˆ°å°±å¿½ç•¥"><a href="#æ³¨æ„-å¦‚æœæ²¡é‡åˆ°å°±å¿½ç•¥" class="headerlink" title="æ³¨æ„(å¦‚æœæ²¡é‡åˆ°å°±å¿½ç•¥)"></a><strong>æ³¨æ„(å¦‚æœæ²¡é‡åˆ°å°±å¿½ç•¥)</strong></h3><p>ä½†æ˜¯åœ¨æœ€è¿‘çš„æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå‘ç° golint ä¾ç„¶ä¼šæŠ¥å®‰è£…å¤±è´¥ï¼ŒåŸå› æ˜¯ <a href="https://github.com/golang/tools.git">https://github.com/golang/tools.git</a> è¿™ä¸ªä»“åº“é‡Œä¸åŒ…å«è¿™ä¸ª lint çš„å·¥å…·äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å•ç‹¬çš„å®‰è£…è¿™ä¸ªå·¥å…·åŒ…ã€‚</p><p>é€šè¿‡æŸ¥è¯¢æ­¤ <a href="https://github.com/golang/lint/issues/397">issue: Where did golint go?</a> è§£å†³</p><pre><code>mkdir -p $GOPATH/src/golang.org/x \  &amp;&amp; git clone https://github.com/golang/lint.git $GOPATH/src/golang.org/x/lint \  &amp;&amp; go get -u golang.org/x/lint/golint</code></pre><p>ä¸Šè¿°å‘½ä»¤å¯èƒ½ä¼šé‡åˆ°æ–‡ä»¶å¤¹å·²å­˜åœ¨çš„é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡ç¬¬ä¸€æ­¥æ–‡ä»¶å¤¹åˆ›å»ºçš„æ“ä½œå°±å¯ä»¥ã€‚</p><h2 id="3-ä½¿ç”¨ä¸€äº›åŒ…ç®¡ç†å·¥å…·æ¥ç®¡ç†ç¬¬ä¸‰æ–¹åŒ…"><a href="#3-ä½¿ç”¨ä¸€äº›åŒ…ç®¡ç†å·¥å…·æ¥ç®¡ç†ç¬¬ä¸‰æ–¹åŒ…" class="headerlink" title="3.ä½¿ç”¨ä¸€äº›åŒ…ç®¡ç†å·¥å…·æ¥ç®¡ç†ç¬¬ä¸‰æ–¹åŒ…"></a>3.ä½¿ç”¨ä¸€äº›åŒ…ç®¡ç†å·¥å…·æ¥ç®¡ç†ç¬¬ä¸‰æ–¹åŒ…</h2><p>å› ä¸º go å®˜æ–¹æ²¡æœ‰æä¾›è‡ªå·±çš„åŒ…ç®¡ç†æœºåˆ¶ï¼Œæ‰€ä»¥åŒ…çš„ç®¡ç†æ˜¯ä¸ªå‘ã€‚å¸‚é¢ä¸Šå„å®¶æä¾›çš„åŒ…ç®¡ç†éƒ½æ˜¯å„ç©å„çš„ï¼Œä½†ä¹Ÿæœ‰å¤§å®¶ç”¨çš„å¤šçš„ï¼Œå…³äº go æ¯”è¾ƒå¸¸ç”¨çš„åŒ…ç®¡ç†å·¥å…·ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ¨èçš„:</p><ul><li>godep : <a href="https://www.jianshu.com/p/db59b10c8c51">golang åŒ…ä¾èµ–ç®¡ç† godep ä½¿ç”¨</a></li><li>govendor : <a href="https://studygolang.com/articles/9785">go ä¾èµ–ç®¡ç†-govendor</a></li><li><strong>glide</strong> : <a href="https://github.com/Masterminds/glide">glide åŒ…ä¾èµ–ç®¡ç†</a></li></ul><p>ç›®å‰é¡¹ç›®ä¸­æ­£åœ¨ä½¿ç”¨ glideï¼Œ ä½¿ç”¨ glide ç®¡ç†åŒ…çš„è¯ï¼Œä¼šç”Ÿæˆä¸€ä¸ª venndor çš„ç›®å½•ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè·Ÿéšé¡¹ç›®çš„å±€éƒ¨ gopathï¼Œ è¿™æ ·å­åœ¨å¼•å…¥ç¬¬ä¸‰æ–¹åŒ…çš„æ—¶å€™ï¼Œå®é™…çš„è¯»å–é¡ºåºå°±æ˜¯ï¼š å±€éƒ¨ vendor -&gt; å…¨å±€ gopath ã€‚</p><p>å¦å¤–ï¼Œåœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„æ—¶å€™ï¼Œæœ‰äº›ç¬¬ä¸‰æ–¹åŒ…ä¼šæ‰˜ç®¡åœ¨ google çš„æœåŠ¡ä¸Šï¼Œå› ä¸ºå¢™çš„åŸå› ï¼Œæˆ‘ä»¬æ²¡æ³•æ–¹ä¾¿çš„æ‹¿ä¸‹æ¥ï¼Œç”šè‡³ä½ æ­äº†æ¢¯å­è¿˜æ˜¯å¾ˆè›‹ç–¼ã€‚æ‰€ä»¥æˆ‘ä»¬åªèƒ½è‡ªå·±é…ç½®é•œåƒæºäº†ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯ glide ï¼Œæ‰€ä»¥å°±æ‹¿ glide çš„æ¥åšä¾‹å­ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ <code>glide mirror set</code> å‘½ä»¤æ¥è®¾ç½®é•œåƒé…ç½®ï¼ˆ<a href="https://github.com/xkeyideal/glide/blob/master/README_CN.md">å‚è€ƒ</a>ï¼‰ï¼š </p><pre><code>glide mirror set https://golang.org/x/sys https://github.com/golang/sys</code></pre><h2 id="åç»­å¾…è¡¥â€¦â€¦"><a href="#åç»­å¾…è¡¥â€¦â€¦" class="headerlink" title="åç»­å¾…è¡¥â€¦â€¦"></a>åç»­å¾…è¡¥â€¦â€¦</h2>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ç”¨nodeå»æ­å»ºä¸€ä¸ªé¡¹ç›®å‘å¸ƒç³»ç»Ÿ</title>
      <link href="/2018/07/18/"/>
      <url>/2018/07/18/</url>
      
        <content type="html"><![CDATA[<h1 id="å¦‚ä½•ç”¨-node-å»æ­å»ºä¸€ä¸ªé¡¹ç›®å‘å¸ƒç³»ç»Ÿ"><a href="#å¦‚ä½•ç”¨-node-å»æ­å»ºä¸€ä¸ªé¡¹ç›®å‘å¸ƒç³»ç»Ÿ" class="headerlink" title="å¦‚ä½•ç”¨ node å»æ­å»ºä¸€ä¸ªé¡¹ç›®å‘å¸ƒç³»ç»Ÿ"></a>å¦‚ä½•ç”¨ node å»æ­å»ºä¸€ä¸ªé¡¹ç›®å‘å¸ƒç³»ç»Ÿ</h1><blockquote><p>æœ€è¿‘åœ¨å¤„ç†ä¸€ä¸ªé™æ€èµ„æºç³»ç»Ÿçš„å‘å¸ƒå¹³å°ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯å¯¹äºå¤šç¯å¢ƒçš„é™æ€é¡¹ç›®ï¼Œå¸Œæœ›å¯ä»¥é€šè¿‡ç³»ç»Ÿæ§åˆ¶æ¥æ”¹å˜è¿‡å»ç¹ççš„é¡¹ç›®çš„éƒ¨ç½²æ–¹å¼ï¼ŒåŒæ—¶å¯¹äºé™æ€é¡µé¢å¼•å…¥çš„ä¸€äº›æ¥å£è¯·æ±‚åˆ™é€šè¿‡å…¨å±€çš„ç½‘å…³æ¥æ§åˆ¶æ¥å¤„ç†è·¨åŸŸã€‚æƒè¡¡åˆ©å¼Šä¹‹åï¼Œé‡‡ç”¨æœ€ç†Ÿæ‚‰çš„ node æ¥å®ç°è¿™ä¹ˆä¸€ä¸ªåŠŸèƒ½ï¼Œåç«¯æ¡†æ¶é€‰ç”¨ koa@2 ï¼Œå‰ç«¯ä½¿ç”¨ react æ¥åšç®¡ç†ç•Œé¢ã€‚</p></blockquote><p>é¡¹ç›®çš„éƒ¨ç½²ä½œä¸ºè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„æœ€åä¸€ç¯ï¼Œå¾€å¾€ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹ã€‚æ‰€ä»¥ï¼Œä¸€å¥—ä¼˜é›…çš„éƒ¨ç½²æ–¹å¼ä»¥åŠä¸€å¥—å®Œå–„çš„éƒ¨ç½²ç›‘ç®¡å¯¹äºé¡¹ç›®çš„ç¨³å®šè¿è¡Œä¹Ÿæœ‰ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚å…³äºéƒ¨ç½²ï¼Œæœ‰å¾ˆå¤šå·²ç»æœ‰ä¸€å®šè§„æ¨¡çš„ç¬¬ä¸‰æ–¹ç®¡ç†å¹³å°ï¼Œæ¯”å¦‚ jerkinsã€travisï¼Œä»¥åŠå¾®è½¯çš„ TFS ç­‰ï¼Œéƒ½å·²ç»æ˜¯æœ‰ä¸€å¥—å®Œå–„çš„æœºåˆ¶ï¼ŒåŒæ—¶ä¹Ÿæœ‰åºå¤§çš„ç”¨æˆ·ç¾¤ã€‚ä¸è¿‡å¦ä¸€æ–¹é¢ï¼ŒæŠ€æœ¯æœåŠ¡äºä¸šåŠ¡éœ€æ±‚ï¼Œæ‰€ä»¥å„å®¶å…¬å¸å› ä¸ºéœ€æ±‚çš„ä¸ä¸€è‡´ï¼Œå¯¹ä»¥ä¸Šäº§å“çš„ä½¿ç”¨éš¾ä»¥åšåˆ°åˆé€‚çš„å®šåˆ¶åŒ–ï¼Œä¹Ÿä¼šé€‰æ‹©è‡ªç ”ä¸€äº›é¡¹ç›®å‘å¸ƒç³»ç»Ÿã€‚è½®å­è¯¥é€ è¿˜æ˜¯å¾—é€ çš„å˜›ï¼</p><p>æœ‰å…³é¡¹ç›®å‘å¸ƒç³»ç»Ÿï¼Œæœ¬è´¨ä¸Šæ˜¯è®¾è®¡å¤§äºå®ç°çš„ï¼Œä½†å…³äºç³»ç»Ÿçš„è®¾è®¡æˆ‘ä¹Ÿå¹¶ä¸èƒ½èŠä»€ä¹ˆï¼ŒåŸºæœ¬å¤§åŒå°å¼‚ï¼Œæˆ‘å°±èŠä¸‹å®ç°çš„è¿‡ç¨‹çš„é‡åˆ°çš„ä¸€äº›é—®é¢˜å¥½äº†ã€‚é¡¹ç›®æœ€é‡è¦çš„æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªå°±æ˜¯å…¨å±€çš„ç½‘å…³æ§åˆ¶ï¼Œå¦ä¸€ä¸ªå°±æ˜¯é¡¹ç›®çš„éƒ¨ç½²ã€‚æˆ‘å°±ä»è¿™ä¸¤ä¸ªå…¥æ‰‹å¥½äº†ã€‚</p><h2 id="ç½‘å…³æ§åˆ¶"><a href="#ç½‘å…³æ§åˆ¶" class="headerlink" title="ç½‘å…³æ§åˆ¶"></a>ç½‘å…³æ§åˆ¶</h2><p>åœ¨è¿‡å»çš„ä¸€äº›éƒ¨ç½²æ–¹æ¡ˆé‡Œï¼Œå¯¹äºä¸€äº›è½»é‡çš„é™æ€é¡µé¢ï¼Œå¦‚æœæ¶‰åŠåˆ°ä¸€äº›é¡µé¢çš„è·¨åŸŸè¯·æ±‚ï¼Œæˆ‘ä»¬é€šå¸¸çš„åšæ³•æ˜¯åšä¸€å±‚ Nginx ä»£ç†ï¼Œè¿™æ ·åšçš„åæœæ˜¯ï¼Œå½“é¡¹ç›®çš„å‘å¸ƒä¸€æ—¦è¾¾åˆ°ä¸€å®šæ•°é‡çº§ï¼Œé‚£ä¹ˆå°±è¦ä¸åœçš„å»æ›´æ–° Nginx çš„é…ç½®ï¼ŒåŒæ—¶è¿˜è¦é‡å¯ï¼Œè¿™æ ·çš„æ–¹å¼çš„ç¡®å¤ªä¸ä¼˜é›…äº†ã€‚</p><p>æ‰€ä»¥ä¸ºäº†æ›´æ–¹ä¾¿çš„ç®¡ç†ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¼€æºçš„ API gateway å·¥å…·æ¥æ§åˆ¶ã€‚å¦‚æœä¸äº†è§£ kong æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š <a href="http://www.chengpengfei.com/2018/06/29/">å¾®æœåŠ¡ api GateWay å·¥å…·ï¼š kong</a>ã€‚</p><p>kong çš„ä½¿ç”¨å¾ˆç®€å•ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å¤§çš„é—®é¢˜ï¼Œä½†æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯ kong çš„è¿­ä»£ç›®å‰æœ‰äº›å¿«ï¼Œæˆ‘ä½¿ç”¨çš„æ—¶å€™æ˜¯ 0.13ï¼Œä½†æ˜¯ç°åœ¨çœ‹å·²ç»æ˜¯ 0.14 äº†ï¼Œæ‰€ä»¥å¯èƒ½ä¼šæœ‰æ›´æ–°çš„å˜åŒ–éœ€è¦åšå…¼å®¹å¤„ç†ï¼Œå¦ä¸€ä¸ªå°±æ˜¯ï¼Œkong æä¾›çš„ admin æ¥å£åœ¨äº koa å®è·µçš„è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸æ˜¯é‚£ä¹ˆå¥‘åˆï¼Œç‰¹åˆ«æ˜¯åœ¨å¼‚å¸¸æ•æ‰è¿™é‡Œï¼Œä½ éœ€è¦å¯¹ kong çš„å¼‚å¸¸è¡Œä¸ºåœ¨ koa é‡Œé¢å•ç‹¬å¤„ç†ã€‚</p><h2 id="é¡¹ç›®çš„éƒ¨ç½²"><a href="#é¡¹ç›®çš„éƒ¨ç½²" class="headerlink" title="é¡¹ç›®çš„éƒ¨ç½²"></a>é¡¹ç›®çš„éƒ¨ç½²</h2><h3 id="æ–‡ä»¶çš„è§£å‹"><a href="#æ–‡ä»¶çš„è§£å‹" class="headerlink" title="æ–‡ä»¶çš„è§£å‹"></a>æ–‡ä»¶çš„è§£å‹</h3><p>å¯¹äºä¸Šä¼ çš„éƒ¨ç½²æ–‡ä»¶éƒ½æ˜¯ä»¥å‹ç¼©åŒ…çš„å½¢å¼å­˜åœ¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹é¡¹ç›®æ–‡ä»¶è¿›è¡Œè§£å‹ï¼Œè¿™é‡Œåœ¨æˆ‘çš„å®è·µæˆ‘è°ƒç ”äº†ä¸‰ä¸ªåº“</p><ul><li><a href="https://github.com/EvanOxfeld/node-unzip">node-unzip</a> ï¼šæ”¯æŒ stream çš„æ–¹å¼è¯»æ–‡ä»¶ï¼Œä½†æ–‡ä»¶è¿‡å¤§ï¼Œä¼šå¯¼è‡´æŠ¥é”™ <a href="https://github.com/EvanOxfeld/node-unzip/issues/110">Error: invalid signature: 0x6064b50</a></li><li><a href="https://github.com/kevva/decompress">decompress</a>ï¼šä¸æ”¯æŒ stream çš„æ–¹å¼è¯»æ–‡ä»¶ï¼Œæå–æ–‡ä»¶çš„è¿‡ç¨‹æ— æ³•æ•æ‰</li><li><a href="https://github.com/node-modules/compressing">compressing</a>ï¼šæ”¯æŒ stream çš„æ–¹å¼è¯»æ–‡ä»¶ï¼Œæå–æ–‡ä»¶è¿‡ç¨‹æ“ä½œæ–¹ä¾¿</li></ul><p>æœ€åæˆ‘é€‰æ‹©ä½¿ç”¨äº†ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œè¿‡ç¨‹ä¸­é‡åˆ°æœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœä½ è¦ä½¿ç”¨ä»¥ stream çš„æ–¹å¼è§£å‹æ–‡ä»¶ï¼Œè¿™ç§æ•ˆç‡æœ€å¿«ï¼Œä½†å½“ä½ ä½¿ç”¨ fs.createReadStream å»åˆ›å»ºä¸€ä¸ªåªè¯»æµï¼Œç„¶ååˆä½¿ç”¨ fs.createWriteStream åˆ›å»ºäº†å¤šä¸ªå†™å…¥æµï¼Œè¿™æ—¶å€™ä½ æ— æ³•æ— è·å–æœ€åä¸€ä¸ªå†™å…¥æµç»“æŸæ—¶çš„çŠ¶æ€ï¼Œè¿™ä¸ªé—®é¢˜è¿˜æ˜¯å›°æ‰°äº†æˆ‘ï¼Œæœ€åæˆ‘åªèƒ½ç”¨è¿™ç§æ–¹å¼ï¼Œä½¿ç”¨ setTimeout() å‡½æ•°æ¥â€œä¿è¯â€åœ¨å†™å…¥å®Œæˆä¹‹åæ‰å¯ä»¥è¿›è¡Œæ¥ä¸‹æ¥çš„æ“ä½œï¼Œå¤§è‡´çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>const compressingStream = async (ctx, source, target, options) =&gt; &#123;  return new Promise((resolve, reject) =&gt; &#123;    let isExist = fs.existsSync(source);    if (!isExist) &#123;      reject(new Error(&#39;file not exist&#39;))      return;    &#125;    let targetExist = fs.existsSync(target);    if (!targetExist) &#123;      mkdirp.sync(target);    &#125;    fs.createReadStream(source)      .on(&#39;error&#39;, function (error) &#123;        reject(error)      &#125;)      .pipe(new compressing.zip.UncompressStream())      .on(&#39;error&#39;, function (error) &#123;        reject(error)      &#125;)      .on(&quot;finish&quot;, function() &#123;        resolve(&quot;ok&quot;);      &#125;)      .on(&quot;entry&quot;, function(header, stream, next) &#123;        stream.on(&quot;end&quot;,next);        &lt;!--ä¸æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œè®¾ç½®å»¶æ—¶å‡½æ•°--&gt;        setTimeout(() =&gt; &#123;          resolve(&#39;ok&#39;);        &#125;, 2000);                let fileName = header.name;        let type = header.type;        if(options &amp;&amp; !/^__MACOSX\//.test(fileName))&#123;          fileName = path.join(options.prefix, fileName);        &#125;        let reg = /^\d|\s/;        if (reg.test(fileName)) &#123;          reject(new Error(fileName + &quot;æ–‡ä»¶åç§°ä¸åˆæ³•,ä¸å…è®¸ç©ºæ ¼æˆ–è€…æ•°å­—å¼€å¤´&quot;));        &#125;        if (!/^__MACOSX\//.test(fileName) &amp;&amp; type === &quot;file&quot;) &#123;          stream.pipe(fs.createWriteStream(path.join(target, fileName)));        &#125; else if (!/^__MACOSX\//.test(fileName) &amp;&amp; type === &quot;directory&quot;) &#123;          // directory          mkdirp(path.join(target, fileName), err =&gt; &#123;            if (err) return reject(err);            stream.resume();          &#125;);        &#125;      &#125;);  &#125;);&#125;;</code></pre><h3 id="CDN-çš„å¤„ç†"><a href="#CDN-çš„å¤„ç†" class="headerlink" title="CDN çš„å¤„ç†"></a>CDN çš„å¤„ç†</h3><p>æœ‰å…³äºé¡¹ç›®çš„éƒ¨ç½²ï¼Œå…¶å®åˆæœŸè®¾æƒ³ï¼Œå¤§éƒ¨åˆ†çš„èµ„æºéƒ½æ˜¯é™æ€èµ„æºï¼Œå¯¹äºä¸€äº›éœ€è¦ä½“ç§¯åå¤§éœ€è¦ç¼“å­˜çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸Šä¼ è¿™äº›æ–‡ä»¶å»åˆ°æˆ‘ä»¬çš„ CDN æœåŠ¡ã€‚è€Œå¯¹äºä¸€äº›ä¸éœ€è¦åšç¼“å­˜çš„æ–‡ä»¶ï¼Œæ¯”å¦‚é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŒæ­¥åˆ°æˆ‘ä»¬çš„èµ„æºæœºé‡Œé¢ã€‚</p><p>å¯¹äºç¬¬ä¸€ç‚¹ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å¼€æºçš„ <a href="https://github.com/noodny/node-ftp-client">node-ftp-client</a>ï¼Œè¿™ä¸ªå¹¶æ²¡æœ‰ä»€ä¹ˆæ“ä½œéš¾åº¦ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„å°±æ˜¯ node-ftp-client çš„æ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥ä¸ºäº†å…¼å®¹ koa@2 çš„ async&#x2F;await å†™æ³•ä»¥åŠä¿è¯ç¨‹åºçš„æ‰§è¡Œé¡ºåºï¼Œéœ€è¦å¯¹ node-ftp-client çš„æ–¹æ³•è¿›è¡Œä¸€æ¬¡ promise åŒ–ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>const test = async (ctx, source, target) =&gt; &#123;    let ftpConfig = &#123; &#125;;  let options = &#123;    logging: &#39;basic&#39;  &#125;;  let upOption = &#123;    baseDir: source,    overwrite: &#39;none&#39;  &#125;  let fct = new FtpClient(ftpConfig, options);  return new Promise((resolve, reject)=&gt; &#123;    fct.connect(()=&gt;&#123;      fct.upload(source, target, upOption, (r) =&gt; &#123;        console.log(source,target,r);        resolve(r);      &#125;)    &#125;)  &#125;)&#125;</code></pre><h3 id="åœ¨docker-ä¸­ä½¿ç”¨-rsync-æ¥è¿›è¡Œé¡¹ç›®å‘å¸ƒ"><a href="#åœ¨docker-ä¸­ä½¿ç”¨-rsync-æ¥è¿›è¡Œé¡¹ç›®å‘å¸ƒ" class="headerlink" title="åœ¨docker ä¸­ä½¿ç”¨ rsync æ¥è¿›è¡Œé¡¹ç›®å‘å¸ƒ"></a>åœ¨docker ä¸­ä½¿ç”¨ rsync æ¥è¿›è¡Œé¡¹ç›®å‘å¸ƒ</h3><p>è¿™ä¸ªå¤§æ¦‚æ˜¯è€½è¯¯æ—¶é—´æœ€å¤šçš„ä¸€ä¸ªæ“ä½œã€‚</p><p>æœ‰å…³äºå‘å¸ƒç³»ç»Ÿæœ€é‡è¦çš„ä¸€ç¯â€”â€”å‘å¸ƒæºç åˆ°ç›®æ ‡ä¸»æœºï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å¼€æºçš„ <a href="https://github.com/mattijs/node-rsync">node-rsync</a>ã€‚å…¶å®è¿™ä¸ªåº“åªæ˜¯å¯¹äº linux rsync å‘½ä»¤çš„ä¸€æ¬¡å°è£…ï¼Œ<strong>åº•å±‚éœ€è¦æ“ä½œä¸»æœºæ”¯æŒ rsync å‘½ä»¤</strong>ã€‚</p><p>å¬èµ·æ¥å¹¶ä¸æ˜¯ä»€ä¹ˆå¤æ‚çš„æ“ä½œï¼Œä½†æ˜¯åœ¨çœŸæ­£çš„æ‰§è¡Œçš„æ—¶å€™ï¼Œé—®é¢˜è¿˜æ˜¯æŒºå¤šçš„ï¼Œå› ä¸ºè¦å‘å¸ƒçš„ç›®æ ‡ä¸»æœºæ˜¯åœ¨ docker å†…éƒ¨ï¼Œå½“ç„¶è¿™ä¸æ˜¯æœ€å¤§çš„ç—›ç‚¹ï¼Œæœ€å¤§çš„ç—›ç‚¹æ˜¯æˆ‘è¦æ“ä½œçš„æœåŠ¡æœºå™¨æ²¡æœ‰å¤–ç½‘è®¿é—®æƒé™ã€‚ä¸‹é¢å°±å‡ ä¸ªé‡åˆ°çš„é—®é¢˜åšä¸€äº›åˆ†ææ€»ç»“ï¼š</p><p><strong>1. docker ä¸­ä¸å­˜åœ¨ rsync çš„å‘½ä»¤ï¼Ÿ</strong></p><p>çœ‹åˆ°è¿™ä¸ªï¼Œä½ å¯èƒ½ä¼šè§‰å¾—å¾ˆç®€å•ï¼Œæ²¡æœ‰ rsync çš„å‘½ä»¤ï¼Œä½¿ç”¨ linux çš„ apt-get æˆ–è€…ç±»ä¼¼çš„å·¥å…·å®‰è£…ä¸€ä¸‹å°±å¥½äº†å•Šã€‚ä½†æ˜¯å¦‚ä¸Šæ‰€è¯´ï¼Œæµ‹è¯•ä¸»æœºæ˜¯æ²¡æœ‰å¤–ç½‘è®¿é—®æƒé™çš„ï¼Œæ‰€ä»¥ç›´æ¥å®‰è£…è¿™ç§æ–¹æ³•æ˜¯ä¸å¯è¡Œçš„ã€‚</p><p>å½“ç„¶ï¼Œå³ä½¿æ²¡æœ‰å¤–ç½‘è®¿é—®æƒé™ï¼Œå¯¹äºä¸€äº›å¸¸ç”¨çš„åŒ…ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰ä¸€äº›ç±»ä¼¼çš„é•œåƒæºï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å®‰è£…çš„æ—¶å€™ä¿®æ”¹ä¸€ä¸‹è¿™ä¸ªæºå°±å¯ä»¥äº†ï¼Œè¿™ä¸ªåº”è¯¥å¤§éƒ¨åˆ†å…¬å¸éƒ½æ˜¯ä¸€æ ·çš„ã€‚è¿™ä¸ªæ–¹æ³•å½“ç„¶æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æ”¾å¼ƒäº†ã€‚å› ä¸ºé¡¹ç›®çš„è¿­ä»£æ€§æ¯”è¾ƒé«˜çš„è¯ï¼Œæˆ‘è®¤ä¸ºæ¯æ¬¡éƒ½åœ¨æ‰“åŒ…é•œåƒçš„æ—¶å€™ï¼Œå»ä¿®æ”¹ docker å†…éƒ¨ apt-get çš„æºå†å®‰è£…ï¼Œä¸æ˜¯å¾ˆä¼˜é›…çš„æ–¹å¼ã€‚æ‰€ä»¥ä¸ºäº†ä»¥åæ›´å¥½çš„æ‰§è¡Œç±»ä¼¼çš„æ“ä½œï¼Œæˆ‘é‡‡ç”¨æ„å»ºä¸€ä¸ª node+rsync ç²¾ç®€çš„åŸºç¡€é•œåƒï¼Œæ„å»ºæ–¹æ³•å¦‚ä¸‹ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼Œæ–°å»º Dockerfile, è¿™é‡Œæˆ‘ç”¨çš„åŸºç¡€ node é•œåƒæ˜¯ node:8-alpineï¼ŒDockerfile å†…å®¹å¦‚ä¸‹</p><pre><code>FROM node:8-alpineRUN apk add --no-cache rsync</code></pre><p>ç¬¬äºŒæ­¥ï¼Œè¿›å…¥åˆ° Dockerfile æ–‡ä»¶ç›®å½•ï¼Œæœ¬åœ°æ„å»ºé•œåƒ</p><pre><code>docker build -t xxxx.com/node-rsync .</code></pre><p>ç¬¬ä¸‰æ­¥ï¼Œæˆ–è€…éƒ¨ç½²åˆ°å†…éƒ¨ docker é•œåƒæœåŠ¡</p><pre><code>éƒ¨ç½²åˆ°å†…éƒ¨é•œåƒæœåŠ¡,ä¹Ÿå¯ä»¥æŒ‡å®šç‰ˆæœ¬ï¼Œé»˜è®¤ä¸º latestdocker push xxxx.com/node-rsync</code></pre><p>ç¬¬å››æ­¥ï¼Œæ— æ¨é€æƒé™çš„æƒ…å†µä¸‹ï¼Œæ¨é€åˆ°ç›®æ ‡ä¸»æœºï¼ˆéå¿…éœ€ï¼‰</p><pre><code>docker save -o node-rsync.docker xxx.com/node-rsync   //æ‰“åŒ…ç¦»çº¿dockeræ–‡ä»¶ï¼šnode-rsync.dockerrsync -cavzP ./xxxx.docker root@host:/path    //ä½¿ç”¨ rsync æ¨é€åˆ°ç›®æ ‡ä¸»æœºdocker load -i xxxx.docker   //æœ¬åœ°ç¦»çº¿å®‰è£…é•œåƒ</code></pre><p><strong>2. åœ¨ docker ä¸­ä½¿ç”¨ rsync ä¼ è¾“å…¬é’¥å¯†é’¥çš„é—®é¢˜</strong></p><p>å› ä¸ºä½¿ç”¨ rsync ä¼ è¾“éœ€è¦ä¸€æ¬¡å¯†ç è®¤è¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹ rsync åšä¸€æ¬¡å…å¯†è®¤è¯ã€‚è§£å†³æ€è·¯å°±æ˜¯åœ¨æ„å»ºçš„é•œåƒé‡Œç”Ÿæˆæœ¬æœºçš„å…¬é’¥ï¼Œç„¶åå°†å…¬é’¥æ·»åŠ åˆ°éƒ¨ç½²ä¸»æœºçš„ <code>~/.ssh/authorized_keys</code> ä¸­æ¥å®ç°å…å¯†ç™»é™†ã€‚å½“ç„¶æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æœæ¯æ¬¡æ„å»ºé•œåƒçš„æ—¶å€™éƒ½ç”Ÿæˆä¸€æ¬¡å…¬é’¥å†æ·»åŠ è¿™æ ·çš„æ“ä½œæ˜¯å¾ˆå†—ä½™çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”Ÿæˆä¸€ä¸ªé€šç”¨çš„å…¬é’¥å¯†é’¥ï¼Œåœ¨æ¯æ¬¡æ„å»ºçš„æ—¶å€™åªéœ€è¦å¤åˆ¶åˆ°é•œåƒå†…éƒ¨å³å¯ä»¥è§£å†³ã€‚</p><p>ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ„å»ºè„šæœ¬ï¼š</p><pre><code>BUILD_TIME=`date &quot;+%Y%m%d%H%M&quot;`SERVER_HOST=&quot;&quot;SERVER_PATH=&quot;/home/web&quot;CONTAIN_NAME=&#39;web&#39;IMAGE_NAME=&quot;xxx.com/web:$BUILD_TIME&quot;rsync -cavzP --delete-after ./ --exclude-from=&#39;.rsync-exclude&#39; $SERVER_HOST:$SERVER_PATHssh $SERVER_HOST &quot;\  cd $SERVER_PATH; \  echo &quot;åˆ é™¤æ—§å®¹å™¨&quot;;\  docker stop web;\  docker rm web; \  echo &quot;æ¸…ç†è¿‡æ—¶çš„æµ‹è¯•é•œåƒ&quot;; \  docker images | awk &#39;/^xxx.com\/web[ ]+/ &#123; print $3 &#125;&#39; | xargs docker rmi -f; \    echo &quot;æ„å»ºdockeré•œåƒ $IMAGE_NAME&quot;; \  docker build -t $IMAGE_NAME . ;\  echo &quot;å‘å¸ƒdockeré•œåƒ&quot;; \  docker push $IMAGE_NAME ;\  echo &quot;docker start&quot;; \  docker run -d -p 7777:3000 -e NODE_ENV=test \  --hostname ubuntu-14 \  -v /data/package/:/data/package/ \  -v /home/:/home/ \  --name=$CONTAIN_NAME $IMAGE_NAME ; \  echo &quot;ç”Ÿæˆ .ssh ç›®å½•&quot;; \  docker exec -i $CONTAIN_NAME \  mkdir -p  ~/.ssh/ ;\  echo &quot;ok&quot;; \  echo &quot;å¤åˆ¶å…¬é’¥,ä¸ºäº†sshç™»é™†&quot;; \  docker exec -i $CONTAIN_NAME \  cp -rf ./auth/test/* ~/.ssh/ ;\  echo &quot;ok&quot;; \  echo &quot;ä¿®æ”¹æƒé™&quot;; \  docker exec -i $CONTAIN_NAME \  chmod 0600 ~/.ssh/id_rsa ;\  echo &quot;ok&quot;; \  echo &quot;æ¨¡æ‹Ÿç™»é™†ä¸»æœºï¼šé¦–æ¬¡ä½¿ç”¨rsyncç™»é™†ä¸»æœºå­˜åœ¨éªŒè¯åˆæ³•æ€§çš„é—®é¢˜&quot;; \  /usr/bin/expect &lt;&lt; EOF        set timeout -1    spawn docker exec -it $CONTAIN_NAME ssh $SERVER_HOST ; \    expect &#123;       &quot;*yes/no&quot; &#123; send &quot;yes\\r&quot;; exp_continue&#125;      &quot;*\#&quot; &#123;exit &#125; ;\    &#125;  EOF ;\  exit; \  &quot;echo &quot;\033[40;32m\n&quot;echo &quot;Sync to Server: $SERVER_HOST&quot;echo &quot;Build source code path: $SERVER_PATH&quot;echo &quot;Image: $IMAGE_NAME&quot;echo &quot;Image deploy success.&quot;echo &quot;\033[0m&quot;</code></pre><p>ä»¥ä¸Š</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> kong </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°ä¸€æ¬¡ç‹—è¡€çš„ä¿®bugç»å†</title>
      <link href="/2018/07/11/"/>
      <url>/2018/07/11/</url>
      
        <content type="html"><![CDATA[<h1 id="è®°ä¸€æ¬¡ç‹—è¡€çš„ä¿®-bug-ç»å†"><a href="#è®°ä¸€æ¬¡ç‹—è¡€çš„ä¿®-bug-ç»å†" class="headerlink" title="è®°ä¸€æ¬¡ç‹—è¡€çš„ä¿® bug ç»å†"></a>è®°ä¸€æ¬¡ç‹—è¡€çš„ä¿® bug ç»å†</h1><blockquote><p>æ²¡ä»€ä¹ˆåˆ«çš„ç›®çš„ï¼Œå†™è¿™ç¯‡å°±æ˜¯ä¸ºäº†æé†’è‡ªå·±æ˜¯ä¸ªå‚»å­</p></blockquote><p>èµ·å› æ˜¯è¿™æ ·çš„ï¼Œåœ¨ä¸€ä¸ªé£å’Œæ—¥ä¸½çš„ä¸€å¤©ï¼Œæµ‹è¯•ç»™æˆ‘å‡ºäº†è¿™ä¹ˆä¸€ä¸ª bug ï¼š</p><blockquote><p>hello å•Šï¼Œè¿™ä¸ªé¡µé¢å•Šï¼Œæ‰“ä¸å¼€å•Šï¼Œæˆ‘çš„ iPad å•Šï¼Œå°±æ˜¯ç‚¹äº†ä¸ä¼šåŠ¨äº†å•Šï¼Œå…¶ä»–çš„éƒ½å¯ä»¥çš„å•Šï¼Œèµ¶ç´§çœ‹ä¸€ä¸‹å•¦</p></blockquote><p>åœ¨ç»è¿‡æ¼«é•¿çš„æ²Ÿé€šåï¼Œæˆ‘å¾—åˆ°äº†ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li>ios10 çš„è®¾å¤‡ä¸‹æŸé¡µé¢çš„ç™»é™†ç‚¹å‡»ä¹‹åæ— æ³•è·³è½¬ã€‚</li><li>å®‰å“å’Œ iOS11 çš„è®¾å¤‡æ˜¯æ­£å¸¸çš„ã€‚</li><li><strong>æ²¡æœ‰è¶³å¤Ÿçš„è®¾å¤‡çš„è°ƒè¯•ã€‚</strong></li></ul><p>å…¶å®çœ‹åˆ°è¿™å„¿ï¼Œæˆ‘çš„å†…å¿ƒè¿˜æ˜¯æœ‰ç‚¹çªƒå–œçš„ã€‚è‡ªä¸Šæ¬¡è‡ªå·±è§£å†³ <code>ios9æµè§ˆå™¨æ— ç—•æ¨¡å¼ä¸‹æµè§ˆå™¨ localStroage å­˜å‚¨å¤±æ•ˆ</code> çš„é—®é¢˜åï¼Œæˆ‘å‘ç°æ‰¾è¿™ç§ç±»ä¼¼çš„å…¼å®¹æ€§é—®é¢˜çš„è¿‡ç¨‹è¿˜æ˜¯æŒºçˆ½çš„ï¼Œæˆ‘å…¶å®å¯¹æˆ‘è‡ªå·±å‘ç°é—®é¢˜å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›æ˜¯å¾ˆè‡ªä¿¡çš„ï¼Œæ‰€ä»¥æˆ‘æƒ³ï¼Œæˆ‘åˆå¯ä»¥ç§€æ“ä½œäº†ã€‚</p><p><img src="http://t1.baidu.com/it/u=695851676,4175920205&fm=20"></p><p>ç°åœ¨æˆ‘æ¥èŠä¸€ä¸‹æˆ‘çš„å¿ƒè·¯å†ç¨‹ï¼š</p><p><strong>Q: é¦–å…ˆå‘¢ï¼Œæˆ‘ä»¥ä¸ºæ˜¯å‰ç«¯é¡µé¢æŠ¥é”™ï¼</strong></p><p>å› ä¸ºæ­£å¸¸çš„é¡µé¢æ— æ³•è·³è½¬ï¼Œæˆ‘æ€€ç–‘å¤§æ¦‚ç‡æ˜¯ js çš„æŸäº›é€»è¾‘å‡ºé”™ï¼Œè¿™åœ¨å…¼å®¹æ€§çš„é—®é¢˜ä¸Šæ˜¯ç»å¸¸å‡ºç°çš„ã€‚ä½†ï¼Œios çš„è®¾å¤‡è°ƒè¯•æ˜¯æŒºå‘çˆ¹çš„ï¼Œå†µä¸”è¿˜æ˜¯ ipad ï¼Œé€šè¿‡æ•°æ®çº¿æ¥è¿›è¡Œ safari è°ƒè¯•æ˜¯è¡Œä¸é€šçš„ï¼Œäºæ˜¯åªèƒ½é€šè¿‡æ— çº¿ä»£ç†çš„æ–¹å¼æ¥è°ƒè¯•äº†ã€‚ä¸€é¡¿æ“ä½œï¼Œè£…è¯ä¹¦ã€è®¾ä»£ç†ï¼Œå‘è¯·æ±‚ï¼Œä½†æ˜¯é¡µé¢æ§åˆ¶å°çœŸçš„æ˜¯ ç©º ç©º ç©ºç©ºå¦‚ä¹Ÿ</p><p>å¹¶æ²¡æœ‰ js æŠ¥é”™ï¼Œçœ‹æ¥å¹¶ä¸æ˜¯æŸäº›æ–¹æ³•å…¼å®¹æ€§çš„é—®é¢˜ã€‚</p><p>åˆæ£€æŸ¥äº†ä¸€ä¸‹è¯·æ±‚ï¼Œçœ‹å‡ºäº†ä¸€äº›ç«¯å€ªï¼Œç«Ÿç„¶è¯·æ±‚æ²¡æœ‰è¿”å›å€¼ã€‚</p><p><strong>Q: é‚£æˆ‘è§‰å¾—ï¼Œåº”è¯¥æ˜¯åç«¯æ¥å£çš„é—®é¢˜äº†ï¼</strong></p><p>åç«¯æ˜¯ç”¨ node + koa å†™çš„ï¼Œæˆ‘ä»¬çš„æ¥å£æ˜¯è¿™æ ·çš„ï¼Œå‰ç«¯å‘ä¸€ä¸ªç™»é™†è¯·æ±‚ï¼Œç„¶åæˆ‘ä»¬ä¼šå»éªŒè¯ç™»é™†ï¼Œå¦‚æœç™»é™†æˆåŠŸï¼Œä¼šåœ¨å®¢æˆ·ç«¯å†™å…¥å”¯ä¸€ç™»é™†çš„ accesstoken åˆ°cookieä¸­ï¼Œåç»­çš„è¯·æ±‚éƒ½éœ€è¦ç”¨åˆ°è¿™ä¸ªç™»é™†çš„ accesstokenã€‚ç»è¿‡æˆ‘ä¸€é¡¿æŸ¥æ‰¾ï¼Œå‘ç°äº†å¯èƒ½æ˜¯cookieçš„å†™å…¥å‡ºç°äº†é—®é¢˜ï¼šä½¿ç”¨ <code>ctx.cookies.set(&#39;ss&#39;,&#39;bb&#39;)</code> å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚</p><p><strong>Q: é‚£ä¹ˆæ˜¯æ‰€æœ‰çš„è®¾å¤‡éƒ½æ²¡æœ‰ç”Ÿæ•ˆå—ï¼Ÿ</strong></p><p>ä¸ºäº†ä¸å½±å“æµ‹è¯•ï¼Œæˆ‘æœ¬åœ°èµ·äº†ä¸ªæœåŠ¡ï¼Œç„¶åå€Ÿç”¨åŒäº‹çš„ iOS10 çš„è®¾å¤‡è¿›è¡Œæµ‹è¯•å‘ç°äº†åŒæ ·ä¸è¡Œï¼ˆ<strong>æœ€åè¯æ˜å°±æ˜¯è¿™ä¸€ç¯èŠ‚å‡ºäº†é—®é¢˜ï¼Œæ˜¯ç½‘ç»œå µå¡å¼•èµ·çš„ä¸è¡Œ</strong>ï¼‰ã€‚å½“ç„¶å®‰å“éƒ½æ˜¯æ­£å¸¸çš„ã€‚</p><p>äºæ˜¯æˆ‘è‡ªä»¥ä¸ºæ˜¯çš„å¾—å‡ºäº†ä¸€ä¸ªç»“è®ºï¼š<strong>è¿™åº”è¯¥æ˜¯ ios10 è®¾å¤‡ç‹¬æœ‰çš„ä¸€ä¸ª cookie çš„ bugã€‚</strong></p><p>æˆ‘ç–¯ç‹‚çš„åœ¨ github issue å’Œ Stack Overflow å¯»æ‰¾ç›¸å…³çš„ç­”æ¡ˆï¼Œæœ‰æåˆ° <code>å†™å…¥ cookie æ—¶ä½¿ç”¨ä¸­æ–‡å­—ç¬¦é€ æˆå†™å…¥å¤±è´¥çš„</code>ã€ä¹Ÿæœ‰è¯´ <code>iOS10 çš„éšç§ç­–ç•¥çš„é—®é¢˜</code>ã€‚ä¸è¿‡å¥½åƒéƒ½ä¸æˆ‘çš„å…³ç³»ä¸å¤§ã€‚</p><p><strong>Q: éš¾é“å¹¶ä¸æ˜¯å…¼å®¹æ€§é—®é¢˜ï¼Ÿ</strong></p><p>æˆ‘åˆé‡æ–°æ£€æŸ¥äº†ä»£ç ï¼Œæœ€åç»è¿‡ä¸€æ®µæ‰‹åŠ¨æµ‹è¯•ï¼Œå‘ç°æ˜¯ cookie è¿‡æœŸæ—¶é—´è®¾ç½®çš„é—®é¢˜ã€‚é—®é¢˜æè¿°å¦‚ä¸‹ï¼š å½“æˆ‘è®¾ç½®è¿‡æœŸæ—¶é—´ä¸ºå‡ ä¸ªå°æ—¶çš„æ—¶é—´æ—¶ï¼Œå°±ä¸èƒ½æ­£å¸¸å†™å…¥ cookieã€‚å¦‚æœæ—¶é—´å¤§äºä¸€å¤©ï¼Œå°±å¯ä»¥æ­£å¸¸å†™å…¥ï¼Œä¹Ÿç®—å‹‰å¼ºè§£å†³äº†ã€‚</p><p>æˆ‘ä¸‹æ„è¯†çš„ç„äº†ä¸€ä¸‹æ‰‹é‡Œçš„iPadï¼Œæ—¶é—´æ˜¾ç¤ºæ˜¯æ­£å¸¸çš„ï¼ˆå‘åœ¨æ­¤ï¼Œæ—¶é—´æ˜¯æ­£å¸¸ï¼Œä½†æ˜¯æ—¥æœŸä¸æ˜¯ï¼‰ã€‚æˆ‘åˆå¼€å§‹æ€€ç–‘æ˜¯æ—¶åŒºè®¾ç½®çš„é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸æ±‚ç”šè§£ã€‚</p><p><strong>Q: å¥½å§ï¼Œä¼°è®¡åªèƒ½æŠ½ç©ºçœ‹ä¸‹æºç äº†â€¦â€¦</strong></p><p>æŠ˜è…¾äº†è¿™ä¹ˆä¸ªåŠå¤©æ—¶é—´ï¼Œå‘ç°äº†ç¡®å®æ˜¯ cookie è®¾ç½®çš„é—®é¢˜ï¼Œäºæ˜¯é€šè¿‡é‡æ–°è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´è§£å†³äº†ã€‚è™½ç„¶ç®—æ˜¯å‹‰å¼ºè§£å†³äº†ï¼Œä½†æ˜¯è¿™ä¸ªè§£å†³åŠæ³•å¾ˆè®©äººä¸çˆ½ï¼Œå› ä¸ºæˆ‘è¿˜æ˜¯åœ¨è¿·æƒ‘çš„çŠ¶æ€ã€‚å°±åœ¨æˆ‘å¿ƒå¦‚æ­»ç°çš„æ—¶å€™ï¼Œæˆ‘æ— æ„ä¸­æ‰“å¼€äº† ipad çš„æ—¥å†ï¼Œå‘ç°ç«Ÿç„¶æ¯”å®é™…å¤šä¸€å¤©ï¼Œä½†æ˜¯æ—¶é—´å´æ˜¯ä¸€åˆ†ä¸€ç§’ä¸å·®ã€‚</p><p>WTF!!!éš¾é“æ˜¯æ—¥æœŸè®¾ç½®çš„é—®é¢˜ï¼Ÿ</p><p>æœ€åï¼Œæµ‹è¯•äº†å‡ æ¬¡ï¼Œæœç„¶æ˜¯æ—¥æœŸè®¾ç½®çš„é—®é¢˜ã€‚</p><p><img src="http://ws3.sinaimg.cn/large/9150e4e5ly1ffxpkw13rlj20hn0jfab8.jpg"></p><p><strong>æœ€åï¼Œbug ç»ˆäºè§£å†³äº†</strong></p><p>å…¶å®é—®é¢˜å‡ºç°çš„åŸå› å¾ˆç®€å•ï¼Œå’Œä»€ä¹ˆå…¼å®¹æ€§ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰ï¼Œçº¯ç²¹æ˜¯è‡ªå·±çš„æ„æ·«ã€‚å…¶å®å°±æ˜¯å½“æˆ‘è®¾ç½® cookie ä¸ºä¸€å¤©ä¹‹å†…çš„è¿‡æœŸæ—¶é—´çš„æƒ…å†µï¼Œå› ä¸ºè®¾å¤‡çš„æ—¥æœŸæ—¶é—´åˆšå¥½å¤§äºå®é™…çš„ä¸€å¤©ï¼Œé‚£é€ æˆçš„æƒ…å†µå°±æ˜¯ cookie åˆšå†™å…¥äº†å°±å› ä¸ºè¿‡æœŸè¢«æµè§ˆå™¨æ¸…é™¤æ‰äº†ã€‚</p><p><img src="http://ws1.sinaimg.cn/large/9150e4e5ly1fjh9dobqr2j20hs0h140f.jpg"></p><p>çœŸæ˜¯ä¸€æ¬¡ä»¤äººæ‰æ€¥çš„ç»å†ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ios bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®æœåŠ¡ api GateWay å·¥å…·ï¼š kong</title>
      <link href="/2018/06/28/"/>
      <url>/2018/06/28/</url>
      
        <content type="html"><![CDATA[<h1 id="API-Gateway-å·¥å…·-kong"><a href="#API-Gateway-å·¥å…·-kong" class="headerlink" title="API Gateway å·¥å…· kong"></a>API Gateway å·¥å…· kong</h1><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fsqtxszp0wj21h80j6772.jpg"></p><blockquote><p>é¡¹ç›®éœ€è¦ï¼Œéœ€è¦å¯¹å¾®æœåŠ¡åŒ–ä¸‹çš„ API åšç»Ÿä¸€ç®¡ç†ï¼ŒæŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œç»™å‡º kong + cassandra çš„å®ç°æ–¹æ¡ˆï¼Œä¸­é—´ä¹Ÿæ¶‰åŠåˆ°å¾®æœåŠ¡ä»¥åŠ API Gateway çš„ç›¸å…³çŸ¥è¯†ã€‚ä»¥ä¸‹æ˜¯å…³äºç ”ç©¶è¿‡ç¨‹ä¸­ä»¥åŠå®æ–½æ­¥éª¤ä¸­çš„æ€»ç»“ç¬”è®°ã€‚</p></blockquote><h2 id="ä»€ä¹ˆæ˜¯-kong"><a href="#ä»€ä¹ˆæ˜¯-kong" class="headerlink" title="ä»€ä¹ˆæ˜¯ kong ?"></a>ä»€ä¹ˆæ˜¯ kong ?</h2><p>é¦–å…ˆå‘¢ï¼Œkong æ˜¯ä¸€ä¸ªåŸºäº Nginx_Lua æ¨¡å—å†™çš„é«˜å¯ç”¨ï¼Œæ˜“æ‰©å±•ç”± Mashape å…¬å¸å¼€æºçš„ API Gateway é¡¹ç›®ï¼Œå¦‚æœä½ å¯¹ API Gateway æœ‰ä»€ä¹ˆè¯¯è§£ï¼Œå¯ä»¥å…ˆæ¥äº†è§£ä¸‹ <a href="https://www.kancloud.cn/good-rain/micro-services/248957">ä»€ä¹ˆæ˜¯ API Gateway </a>ï¼ŒAPI Gateway æ˜¯æœåŠ¡äºå¾®æœåŠ¡æ¶æ„çš„ä¸€ç§APIè§£å†³æ–¹æ¡ˆã€‚å¥½åƒæœ‰ç‚¹ç»•ï¼Œä¸¾ä¸ªä¾‹å­ç®€å•æ¥ç†è§£ä¸€ä¸‹ï¼š </p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªç®€å•æ¥è‡ªçš„è´­ç‰©æ“ä½œï¼Œä¸­é—´å¯èƒ½æ¶‰åŠåˆ° è´­ç‰©è½¦ã€ä¸‹å•ã€è¯„è®ºã€å¿«é€’æœåŠ¡ç­‰æ“ä½œã€‚åœ¨ä¸€ä¸ªéå¾®æœåŠ¡çš„æ¶æ„é‡Œé¢ï¼Œå®¢æˆ·ç«¯æƒ³è¦å®Œæˆæ•´ä¸ªè´­ç‰©æµç¨‹ï¼Œå°±éœ€è¦å¸¸è§çš„ REST è¯·æ±‚æ¥è·å–æ•°æ®ï¼Œæˆ‘ä»¬å¯èƒ½åœ¨æœåŠ¡å±‚ç”¨äº†ä¸€äº›è´Ÿè½½å‡è¡¡ï¼Œé‚£ä¹ˆè¿™äº›è¯·æ±‚å°±ä¼šåˆ†å‘åˆ°å¤šä¸ªåº”ç”¨å®ä¾‹ä¸­å¹¶ä½œå‡ºå“åº”ã€‚</p><p>ä½†æ˜¯åœ¨ä¸€ä¸ªå¾®æœåŠ¡çš„ä½“ç³»ä¸­ï¼Œè´­ç‰©è½¦ã€ä¸‹å•ã€è¯„è®ºç­‰ï¼Œè¿™æ ·éƒ½å¯ä»¥ç‹¬ç«‹æˆä¸€ä¸ªæœåŠ¡å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„å¾®æœåŠ¡ã€‚å®¢æˆ·ç«¯æƒ³è¦å®Œæˆæ•´ä¸ªè´­ç‰©æµç¨‹ï¼Œå¯ä»¥å»å•ç‹¬çš„è¯·æ±‚æŸä¸ªæœåŠ¡æ¥è·å–æ•°æ®ã€‚å¬èµ·æ¥å¯èƒ½æœ‰ç‚¹æ€ªæ€ªçš„ï¼Œæˆ‘ä¸ºäº†å®Œæˆä¸€ä¸ªè´­ç‰©æ“ä½œï¼Œä»ä¹‹å‰çš„ä¸€æ¬¡è¯·æ±‚å˜æˆäº†næ¬¡è¯·æ±‚ï¼Œæ¯•ç«Ÿæˆ‘ä»¬çŸ¥é“ï¼Œå®¢æˆ·ç«¯é¢‘ç¹çš„è¯·æ±‚çš„æˆæœ¬æ˜¯ä¸ä½çš„ã€‚æ‰€ä»¥ï¼Œç›´æ¥ç”±å®¢æˆ·ç«¯å‘næ¬¡è¯·æ±‚è¿™ç§äº‹ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯æ²¡äººä¼šè¿™ä¹ˆå¹²çš„ï¼Œé‚£ä¹ˆæ€ä¹ˆå¹²å‘¢ï¼Œå°±æ˜¯ API Gateway æ¥å¤„ç†äº†ã€‚API Gateway å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ‰€æœ‰çš„è¯·æ±‚é¦–å…ˆä¼šç»è¿‡è¿™ä¸ªç½‘å…³ã€‚è¿™é‡Œåš æƒé™æ§åˆ¶ï¼Œå®‰å…¨ï¼Œè´Ÿè½½å‡è¡¡ï¼Œè¯·æ±‚åˆ†å‘ï¼Œç›‘æ§ç­‰æ“ä½œã€‚è¿™é‡Œä¹Ÿè®¸æ”¾ä¸ªå®˜ç½‘çš„å›¾ä¼šå®¹æ˜“è§£é‡Šäº›ï¼š</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fsqtusglhvj21s40iojub.jpg"></p><p>æˆ‘ä»¬ä¸å»è®¨è®ºå¾®æœåŠ¡å’Œ API Gateway çš„å¥½åï¼Œä½†æ˜¯ kong ç¡®å®å°±æ˜¯ä¸ºå¾®æœåŠ¡è€Œç”Ÿï¼Œå¹¶ä¸”åšç€è¿™ä¹ˆä¸€ä»¶äº‹æƒ…çš„ã€‚ç›¸å…³çš„ API Gateway æ–¹æ¡ˆè¿˜æœ‰ <a href="https://www.nginx.com/solutions/api-gateway/">nginx è‡ªå®¶çš„ API Gateway å·¥å…·ï¼šnginx plus</a>ã€‚</p><h2 id="kong-çš„å®‰è£…-ï¼Ÿ"><a href="#kong-çš„å®‰è£…-ï¼Ÿ" class="headerlink" title="kong çš„å®‰è£… ï¼Ÿ"></a>kong çš„å®‰è£… ï¼Ÿ</h2><p>ç°åœ¨ kong çš„ç‰ˆæœ¬å·²ç»è¿­ä»£åˆ° 0.13.x äº†ï¼Œæ¨èä½¿ç”¨æ–°ç‰ˆæ¥å®è·µã€‚</p><p>å…³äº kong çš„å®‰è£…ï¼Œå®˜ç½‘ç»™å‡ºäº†åŸºäºå¤šç§å¹³å°çš„å®‰è£…æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨ <a href="https://konghq.com/install/">è¿™é‡Œ</a> æŸ¥çœ‹ã€‚æ¯”å¦‚æˆ‘ä¸ªäººçš„å¹³å°æ˜¯ macOS ï¼Œå°±å¯ä»¥æŒ‰ç…§å®˜æ–¹ç»™å‡ºçš„æ–¹æ¡ˆï¼Œå¾ˆæ–¹ä¾¿çš„ä½¿ç”¨ brew æ¥å®‰è£… kong ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œkong æ˜¯ä¸æ”¯æŒ Windowså¹³å° çš„å®‰è£…çš„ï¼Œä¸æ¥å—æé—®ï¼ˆå› ä¸ºæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥æ²¡æœ‰ï¼‰ã€‚ä½†æ˜¯æ²¡æœ‰ä¸ä»£è¡¨ä¸å¯ä»¥ç”¨ï¼Œå› ä¸º kong æ˜¯æ”¯æŒ docker éƒ¨ç½²çš„ï¼Œè€Œ docker æ˜¯æ”¯æŒ Windows çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥å®‰è£… docker æ¥éƒ¨ç½² kongï¼Œå¹¶ä¸”ï¼Œä»æˆ‘ä¸ªäººå®è·µçš„è¿‡ç¨‹ä¸­æ¥çœ‹ï¼Œä½¿ç”¨ docker æ˜¯æœ€æ–¹ä¾¿çš„éƒ¨ç½²æ–¹å¼ã€‚ä¸‹é¢å°±ä»‹ç»ä½¿ç”¨ docker çš„éƒ¨ç½²æ–¹å¼ï¼š</p><p>å¯¹äº†ï¼Œé¦–å…ˆï¼Œä½ å¾—å®‰è£…ä¸ª <a href="https://www.docker.com/">docker</a>ã€‚</p><p><strong>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ª docker ç§æœ‰ç½‘ç»œ</strong></p><p>kong-net æ˜¯ç½‘ç»œæ ‡è¯†åå­—ï¼Œæœ€å¥½ä¸ªæ€§ä¸€äº›ã€‚</p><pre><code>docker network create kong-net</code></pre><p><strong>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨æˆ–é…ç½®ä¸€ä¸ª cassandra (or PostgreSQL) æœåŠ¡å™¨</strong></p><p>å¦‚æœä½ è¿˜æ²¡æœ‰ cassandra æœåŠ¡ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¯åŠ¨ä¸€ä¸ª,æ¯”å¦‚ä¸‹é¢å°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ª cassandra v3 çš„docker containerï¼Œå¹¶ä¸”æ˜ å°„äº†9042ç«¯å£ï¼Œé‚£ä¹ˆä½ æœ€åæš´éœ²å‡ºæ¥çš„ cassandra æœåŠ¡å°±æ˜¯ <code>localhost:9042</code>ï¼Œè®°ä¸‹è¿™ä¸ªåœ°å€ï¼Œåé¢ä¼šç”¨åˆ°ã€‚</p><pre><code>docker run -d --name kong-database \              --network=kong-net \              -p 9042:9042 \              cassandra:3</code></pre><p>å½“ç„¶ï¼Œå¦‚æœä½ å·²ç»æœ‰äº†ç°æˆçš„ Cassandra æœåŠ¡äº†ï¼Œé‚£ä¹ˆå°±ä¸ç”¨è¿™ä¸€æ­¥äº†ï¼Œè®°ä¸‹æœåŠ¡åœ°å€ï¼Œåé¢ä¼šç”¨åˆ°ã€‚</p><p><strong>ç¬¬ä¸‰æ­¥ï¼škong å¯åŠ¨å‡†å¤‡ï¼Œæ•°æ®åº“å‡†å¤‡</strong></p><p>å®˜æ–¹æŠŠè¿™ä¸€æ­¥å«åš migrationsï¼Œä½ å¯ä»¥æŠŠè¿™ä¸€æ­¥ç†è§£ä¸ºä¿®æ”¹ kong é…ç½®ã€‚</p><pre><code>docker run --rm \    --network=kong-net \    -e &quot;KONG_DATABASE=cassandra&quot; \    -e &quot;KONG_CASSANDRA_CONTACT_POINTS=xxx&quot; \    -e &quot;KONG_CASSANDRA_PORT=9042&quot;\    -e &quot;KONG_CASSANDRA_KEYSPACE=kong&quot;\    -e &quot;KONG_DB_UPDATE_PROPAGATION=10&quot;\    kong:latest kong migrations up</code></pre><p>è¿™ä¸€æ­¥çš„åŠ¨ä½œå…¶å®å°±æ˜¯åˆ›å»ºä¸€ä¸ªä¸´æ—¶ç”¨æ¥å†™é…ç½®çš„å®¹å™¨æ¥è¿›è¡Œå†™é…ç½®ã€‚å…¶ä¸­ xxx å°±æ˜¯ç¬¬äºŒæ­¥ä¸­çš„ Cassandra åœ°å€ã€‚å¦‚æœä½ éœ€è¦ä½¿ç”¨ PostgreSQL æœåŠ¡ï¼Œåªéœ€è¦è®¾ç½®ç›¸åº”çš„å‚æ•°å°±å¯ä»¥äº†,å…·ä½“å¯ä»¥å‚è€ƒ<a href="https://docs.konghq.com/0.13.x/configuration/">kong configuration</a>ï¼Œå®˜æ–¹ github ä¹Ÿç»™å‡ºäº†ä¸€ä¸ªæ¨¡æ¿é…ç½®æ–‡ä»¶ä¾›å‚è€ƒï¼š<a href="https://github.com/Kong/kong/blob/master/kong.conf.default">kong.conf.default</a>ã€‚ éœ€è¦æ³¨æ„çš„å°±æ˜¯ï¼Œå¦‚æœä½¿ç”¨ä¸Šé¢å‚æ•°çš„å½¢å¼æ¥é…ç½®ï¼Œé‚£ä¹ˆå¤§æ¦‚å°±æ˜¯è¿™ä¹ˆçš„å¯¹æ¯”å…³ç³»ï¼š <code>db_update_propagation =&gt; KONG_DB_UPDATE_PROPAGATION</code>ã€‚</p><p><strong>ç¬¬å››æ­¥ï¼šå¯åŠ¨ kong</strong></p><p>å¯åŠ¨ kong ï¼Œå¹¶å¯¹å¤–æš´éœ² 8001 ç«¯å£ï¼Œæœ€ç»ˆçš„ <code>host:8001</code> å³ kong å¯¹å¤–æš´éœ²çš„ç½‘å…³ url ã€‚</p><pre><code>docker run -d --name kong \    --network=kong-net \    -e &quot;KONG_DATABASE=cassandra&quot; \    -e &quot;KONG_CASSANDRA_CONTACT_POINTS=xxx&quot; \    -e &quot;KONG_CASSANDRA_PORT=9042&quot;\    -e &quot;KONG_CASSANDRA_KEYSPACE=kong&quot;\    -e &quot;KONG_DB_UPDATE_PROPAGATION=10&quot;\    -e &quot;KONG_PROXY_ACCESS_LOG=/dev/stdout&quot; \    -e &quot;KONG_ADMIN_ACCESS_LOG=/dev/stdout&quot; \    -e &quot;KONG_PROXY_ERROR_LOG=/dev/stderr&quot; \    -e &quot;KONG_ADMIN_ERROR_LOG=/dev/stderr&quot; \    -e &quot;KONG_ADMIN_LISTEN=0.0.0.0:8001, 0.0.0.0:8444 ssl&quot; \    -p 8000:8000 \    -p 8443:8443 \    -p 8001:8001 \    -p 8444:8444 \    kong:latest</code></pre><h3 id="é›†ç¾¤"><a href="#é›†ç¾¤" class="headerlink" title="é›†ç¾¤"></a>é›†ç¾¤</h3><p>å½“ç„¶ï¼Œä¸Šé¢çš„ kong åªæ˜¯éƒ¨ç½²åœ¨äº†ä¸€ä¸ªç»“ç‚¹ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªé›†ç¾¤ï¼Œéœ€è¦éƒ¨ç½²åœ¨å¤šä¸ªç»“ç‚¹çš„è¯ï¼Œå¯ä»¥å‚è€ƒ<a href="https://docs.konghq.com/0.13.x/clustering/#multiple-nodes-kong-clusters">è¿™é‡Œ</a>ã€‚</p><h2 id="kong-å¯è§†åŒ–ç•Œé¢"><a href="#kong-å¯è§†åŒ–ç•Œé¢" class="headerlink" title="kong å¯è§†åŒ–ç•Œé¢"></a>kong å¯è§†åŒ–ç•Œé¢</h2><p>å½“æˆåŠŸéƒ¨ç½²äº† kong ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ curl æ¥æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆï¼Œæ¯”å¦‚æˆ‘çš„ kong æ˜¯éƒ¨ç½²åœ¨æœ¬æœºï¼Œé‚£ä¹ˆæ‰§è¡Œï¼š</p><pre><code>curl http://localhost:8001</code></pre><p>é‚£ä¹ˆå°±ä¼šå¾—åˆ°å½“å‰ kong ç»“ç‚¹çš„é…ç½®ä¿¡æ¯ã€‚æ›´å¤šæ“ä½œå¯ä»¥å¯ä»¥å‚è€ƒ<a href="https://docs.konghq.com/0.13.x/admin-api/">è¿™é‡Œ</a>ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬æœ‰ä¸€ç§æ›´å¥½çš„åŠæ³•æ˜¯ï¼Œæ›¿æ¢ç»ˆç«¯æ“ä½œä½¿ç”¨ kong çš„å¯è§†åŒ–ç•Œé¢æ¥ç®¡ç† kong ã€‚ç›®å‰å…³äº kong ä½¿ç”¨æ¯”è¾ƒå¤šçš„å¼€æºå¯è§†åŒ–å·¥ç¨‹æ¨¡æ¿æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ <a href="https://github.com/PGBI/kong-dashboard">koa-dashboard</a>ï¼Œä½¿ç”¨ angular å’Œ koa ,ä¸€ä¸ªæ˜¯ <a href="https://github.com/pantsel/konga">konga</a>ï¼Œä½¿ç”¨ sails å’Œ angular ï¼Œæ¨èä½¿ç”¨å‰è€…ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><p><strong>1. ä¸‹è½½</strong></p><p>ä¸‹è½½æºä»£ç : <code>git clone https://github.com/PGBI/kong-dashboard.git</code></p><p><strong>2. å®‰è£…</strong></p><p>å®‰è£…æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ npm ï¼Œä½†æ˜¯éœ€è¦å…¨å±€å®‰è£… kong-dashboardï¼Œè¿™æ ·å¯¹äºæµ‹è¯•ç”Ÿäº§ä¸»æœºä¸å‹å¥½ï¼Œæ‰€ä»¥é€‰æ‹©ç¬¬äºŒç§ï¼Œæ‰“åŒ… docker æ¥å®‰è£…ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ç›´æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”éƒ¨ç½²çš„ä¸»æœºå¯ä»¥è®¿é—® docker å®˜æ–¹é•œåƒä»“åº“ï¼Œé‚£ä¹ˆæ‰§è¡Œï¼š</p><pre><code>docker run --rm -p 8080:8080 pgbi/kong-dashboard start \  --kong-url http://locahost:8001\  --basic-auth admin=123456</code></pre><p><a href="http://locahost:8001/">http://locahost:8001</a> å¯ä»¥æ¢æˆè‡ªå·±çš„ kong å¯¹å¤–æš´éœ²çš„ urlã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœè¯´è¦éƒ¨ç½²çš„ä¸»æœºå­˜åœ¨æŸäº›é™åˆ¶æˆ–è€…æˆ‘ä»¬æƒ³è‡ªå·±å®šåˆ¶ dashboard çš„æºä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰“åŒ…é•œåƒçš„æ–¹å¼æ¥æ“ä½œã€‚åœ¨æºä»£ç å·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œ </p><p><code>docker build -t xxxx.com/kong-dashboard .</code></p><p>ï¼ˆè¿™æ ·åšçš„åŸå› æ˜¯ï¼Œä¸€èˆ¬å„å®¶å…¬å¸éƒ½æœ‰è‡ªå·±çš„ docker registryï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ”¹ Dockerfile æ¥å®šåˆ¶æˆ‘ä»¬è‡ªå·±çš„é•œåƒï¼‰ï¼Œç„¶åæ‰§è¡Œ</p><pre><code>docker push xxxx.com/kong-dashboard</code></pre><p>è¿™æ ·æˆ‘ä»¬éƒ¨ç½²çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥æ‰§è¡Œï¼š</p><pre><code>docker run --rm -p 8080:8080 xxxx.com/kong-dashboard start \  --kong-url http://locahost:8001\  --basic-auth admin=123456</code></pre><p>æœ€åæ‰“å¼€æµè§ˆå™¨æ‰“å¼€ <code>xxx:8080 </code>,çœ‹åˆ°çš„æ•ˆæœå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fsquhlol2dj22wi1o2qdu.jpg"></p><p><strong>å¤§åŠŸå‘Šæˆï¼</strong></p><h2 id="é‡åˆ°çš„é—®é¢˜ï¼Ÿ"><a href="#é‡åˆ°çš„é—®é¢˜ï¼Ÿ" class="headerlink" title="é‡åˆ°çš„é—®é¢˜ï¼Ÿ"></a>é‡åˆ°çš„é—®é¢˜ï¼Ÿ</h2><p>kong çš„æ•´ä½“éƒ¨ç½²è¿‡ç¨‹è¿˜æ˜¯å¾ˆå’Œè°ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜ï¼Œå€’æ˜¯åœ¨ docker çš„ä½¿ç”¨å‡ºç°äº†ä¸€äº›å°é—®é¢˜ã€‚</p><p><strong>1. kong-dashboard ç‰ˆæœ¬é—®é¢˜</strong></p><p>kong-dashboard dockeré•œåƒçš„ç‰ˆæœ¬å¹¶ä¸æ˜¯æœ€æ–°çš„ï¼Œæœ€æ–°çš„å·²ç»æ”¯æŒåˆ°äº† V3.3ï¼Œ è€Œ <code>pgbi/kong-dashboard</code> æ˜¯ V3.0 ï¼ŒåŠŸèƒ½ä¸Šè¿˜æ˜¯å·®äº†ä¸€äº›çš„ã€‚</p><p>åœ¨éƒ¨ç½²ä¸»æœºæ²¡æœ‰å¤–ç½‘è®¿é—®æƒé™çš„æƒ…å†µä¸‹ï¼Œæœ€åæˆ‘ä½¿ç”¨äº†ç¦»çº¿æ‰“åŒ… docker çš„æ–¹å¼æ¥è·å–æœ€æ–°ç‰ˆï¼Œè¯¦ç»†æ“ä½œå¦‚ä¸‹ï¼š</p><ol><li>æœ¬åœ°æ‰“åŒ…ï¼š <code>docker save -o xxxx.docker image(é•œåƒåç§°)</code> ï¼Œ xxxx.docker æ˜¯è¾“å‡ºçš„ç¦»çº¿æ–‡ä»¶ï¼Œ</li><li>ä¼ è¾“è‡³è¿œç¨‹ä¸»æœºï¼š ä½¿ç”¨ rsync ä¼ è¾“è‡³è¿œç¨‹ä¸»æœºï¼š <code>rsync -cavzP ./xxxx.docker root@host:/path</code>ï¼Œ</li><li>è£…å†: è¿›å…¥åˆ° xxxx.docker è·¯å¾„å¹¶æ‰§è¡Œï¼š <code>docker save -i xxxx.docker</code></li></ol><p>ä¹‹åæœ¬æœºå°±æˆåŠŸè£…åœ¨æœ€æ–°ç‰ˆæœ¬çš„ kong-dashboard é•œåƒäº†ã€‚ </p><p><strong>2. cassandra å¯è§†åŒ–ç®¡ç†å·¥å…·</strong></p><p>åœ¨æ­¤ä¹‹å‰ï¼Œå…¶å®å¯¹ cassandra å¹¶æœªè€³é—»ï¼Œç®€å•äº†è§£åçŸ¥é“æ˜¯ä¸€å¥—å¼€æºåˆ†å¸ƒå¼ NoSQL æ•°æ®åº“ç³»ç»Ÿã€‚ä¹ æƒ¯äº† mongo çš„ studio 3T ï¼Œredis çš„ RDM çš„æ•°æ®å¯è§†åŒ–ï¼Œå…³äº cassandra çš„å¯è§†åŒ–ç®¡ç†å·¥å…·è²Œä¼¼å¹¶ä¸å¤šï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ macos ç³»ç»Ÿçš„ã€‚</p><p>æŸ¥é˜…ç›¸å…³èµ„æ–™åï¼Œæœ€åé€‰æ‹©äº† <a href="https://tableplus.io/">tableplus</a>ï¼Œ å…è´¹ç‰ˆè™½æœ‰é™åˆ¶ï¼Œä½†ä¹Ÿå¤Ÿç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> kong </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ¬¡æœ‰å…³äºé€¼æ ¼çš„æŠ˜è…¾ç¬”è®°</title>
      <link href="/2018/03/22/"/>
      <url>/2018/03/22/</url>
      
        <content type="html"><![CDATA[<h1 id="iterm2-æŠ˜è…¾ç¬”è®°"><a href="#iterm2-æŠ˜è…¾ç¬”è®°" class="headerlink" title="iterm2 æŠ˜è…¾ç¬”è®°"></a>iterm2 æŠ˜è…¾ç¬”è®°</h1><h2 id="ä»¥ä¸‹æ˜¯åºŸè¯"><a href="#ä»¥ä¸‹æ˜¯åºŸè¯" class="headerlink" title="ä»¥ä¸‹æ˜¯åºŸè¯"></a>ä»¥ä¸‹æ˜¯åºŸè¯</h2><blockquote><p>emmmâ€¦â€¦ï¼Œè¿™å…¶å®ä¸æ˜¯ä¸€ç¯‡æŠ€æœ¯æ–‡ï¼Œå› ä¸ºæ²¡æœ‰ä»£ç ã€æ²¡æœ‰é€»è¾‘ã€æ²¡æœ‰äººæ°”ï¼Œçº¯ç²¹æ˜¯å°éƒ¨åˆ†äººåŸºäºé€¼æ ¼çš„ä¸€äº›å°è¯•ï¼ˆå½“ç„¶å…·ä½“æœ‰æ²¡æœ‰è¿˜è¦å¦è¯´ï¼‰ï¼Œæ‰€ä»¥å°±å½“æˆ‘èƒ¡è¯´å…«é“ï¼Œå€¼ä¸å€¼å¾—çœ‹è‡ªå·±å¿ƒé‡Œç¢ç£¨ã€‚</p></blockquote><p>èµ·å› æ˜¯è¿™æ ·çš„ï¼Œæµè§ˆ v2ex æ—¶çœ‹åˆ°ä¸€ç¯‡å¸–å­ï¼š<a href="https://www.v2ex.com/t/439713?p=2">çœ‹çœ‹ä½ ä»¬ç‚«é…·çš„å‘½ä»¤è¡Œç•Œé¢</a>ï¼Œå›å¤ä¸å¤šï¼Œä½†æ˜¯çœ‹å¾—æˆ‘æ˜¥å¿ƒè¡æ¼¾ã€‚å›å¤å¤§æ¦‚æ˜¯è¿™æ ·å­çš„ï¼Œ</p><p><img src="http://wx1.sinaimg.cn/mw690/8849a1a4gy1fpk9383mylj20sl0ixq3r.jpg"></p><p>æˆ–è€…æ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œ</p><p><img src="https://ws2.sinaimg.cn/large/bb4bb99egy1fpku9yt9f8j211x0lbgms.jpg"></p><p>å†æˆ–è€…æ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œ</p><p><img src="https://camo.githubusercontent.com/b5d7eb49a30bfe6bdb5706fa3c9be95fe8e5956e/687474703a2f2f67696679752e636f6d2f696d616765732f70396b6e65772e676966"></p><p>æ€»ä¹‹ï¼Œçœ‹çš„æˆ‘æ˜¯è ¢è ¢æ¬²åŠ¨ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘çš„ terminal çš„é…è‰²å°±æ˜¯ç®€å•çš„ iterm2 + zsh + oh-my-zsh ï¼Œè®¾ç½®äº†ç®€å•çš„é¢œè‰²ä¸»é¢˜ï¼Œå…¶å®å·²ç»å¾ˆæ¼‚äº®äº†ï¼Œå¤§è‡´æ•ˆæœæ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„ï¼š</p><p><img src="http://img.blog.csdn.net/20170725190119447?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzcwNzI0OQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"></p><p>ç„¶è€Œï¼Œå¯¹æ¯”ä¹‹ä¸‹ï¼Œå°±å‘ç°äº†ï¼šæˆ‘ä¸ºæ¯›æ²¡æœ‰å›¾æ ‡ï¼Œç®€ç›´å°±æ˜¯é«˜å¯Œå¸…å’Œç©·å±Œçš„å¯¹æ¯”å•Šï¼ï¼ åŠ ä¸Šä¹‹å‰çš„é…è‰²æ–¹æ¡ˆå·²ç»ç”¨äº†åŠå¹´ä¹‹ä¹…ï¼ˆç›¸å½“çš„å®¡ç¾ç–²åŠ³ï¼‰ï¼Œäºæ˜¯å†³å®šæœæ–­æ¢æ‰ã€‚</p><h2 id="åˆ’é‡ç‚¹ï¼ˆä»¥ä¸Šæ˜¯åºŸè¯ï¼‰"><a href="#åˆ’é‡ç‚¹ï¼ˆä»¥ä¸Šæ˜¯åºŸè¯ï¼‰" class="headerlink" title="åˆ’é‡ç‚¹ï¼ˆä»¥ä¸Šæ˜¯åºŸè¯ï¼‰"></a>åˆ’é‡ç‚¹ï¼ˆä»¥ä¸Šæ˜¯åºŸè¯ï¼‰</h2><p>æˆ‘å–œæ¬¢å¯¹åšæ¯ä¸€ä»¶äº‹æƒ…ä¹‹å‰è¿›è¡Œè°ƒç ”ï¼Œç ”ç©¶å…¶å……åˆ†çš„å¯èƒ½ï¼Œç„¶åå†åšè¡ŒåŠ¨ã€‚åŒæ—¶ï¼ŒåŠ ä¸Šæˆ‘å®è·µä¹‹åå¾—å‡ºçš„çœŸçŸ¥ï¼Œåœ¨è¿™é‡Œå…ˆç”»ä¸ªé‡ç‚¹ï¼š</p><ol><li>åªé€‚ç”¨äº MacOSã€‚é¦–å…ˆ Windows æ²¡æœ‰ iterm2(å½“ç„¶ä¹Ÿä¸ä»…ä»…æ˜¯ç”¨åœ¨ iterm2ä¸Šé¢)ï¼Œå…¶æ¬¡æ˜¯å› ä¸º macOS æ‰€æ­è½½çš„å¹³å°ï¼ˆMacBookï¼ŒiMacï¼‰éƒ½æ˜¯å¯¹é«˜åˆ†è¾¨ç‡æœ‰å¼ºè¿«ç—‡çš„ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰å¥½çš„è§†è§‰æ•ˆæœï¼ŒWindows å°±æš‚æ—¶å…ˆæ”¾ä¸€æ”¾ã€‚</li><li>å¥½çœ‹ç¡®å®å¥½çœ‹ï¼Œä¸ä¸€å®šå¥½ç”¨ã€‚ ä¸å¥½ç”¨ä½“ç°åœ¨ä¸¤ä¸ªæ–¹é¢ï¼Œå¸ƒå±€å’Œæ€§èƒ½ã€‚åœ¨å¸ƒå±€ä¸Šï¼Œæˆ–è®¸åªæœ‰åœ¨å…¨å±ä¸‹æ‰èƒ½çœ‹åˆ°æœ€ä½³çš„è§†è§‰æ•ˆæœï¼Œå› ä¸ºè¡Œå†…æœ‰å¤§é‡çš„å†…å®¹åŒºåŸŸè¢«å ç”¨ï¼Œå¤§å¤§å‹æ¦¨äº†å¯è¾“å…¥åŒºåŸŸçš„å¤§å°ï¼Œè™½ç„¶æœ‰äº›ä¸»é¢˜å¯ä»¥è®¾ç½®å¦èµ·ä¸€è¡Œæ¥é€‰æ‹©è¾“å…¥ï¼Œä½†æ˜¯ä½“éªŒæ˜¯ç›¸å½“å·®çš„ã€‚åœ¨æ€§èƒ½ä¸Šï¼Œå¯¹äºä¸€äº›ç‰¹æ®Šçš„ä¸»é¢˜ï¼Œå› ä¸ºä¼šå®æ—¶çš„æ˜¾ç¤ºæœ¬åœ°çš„å†…å­˜å ç”¨ã€æ—¶é—´æ—¶æœŸç­‰ä¿¡æ¯ï¼Œæ¯æ¬¡æ‰§è¡Œå‘½ä»¤éƒ½ä¼šæ‰§è¡Œä¸€éï¼Œä¸å¡æ‰æ€ªï¼ˆåæ­£æˆ‘åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°äº†ç»å¯¹èƒ½å¤Ÿå½±å“æˆ‘æ„Ÿå®˜çš„å¡é¡¿æ„Ÿï¼‰ã€‚</li></ol><p>å¦‚æœä½ è§‰å¾—ä»¥ä¸Šçš„é—®é¢˜è¿˜ OKï¼Œé‚£å°±ç»§ç»­çœ‹ä¸‹å»ã€‚ç°åœ¨å¼€å§‹æŠ˜è…¾â€¦â€¦</p><h2 id="å¼€å§‹æŠ˜è…¾"><a href="#å¼€å§‹æŠ˜è…¾" class="headerlink" title="å¼€å§‹æŠ˜è…¾"></a>å¼€å§‹æŠ˜è…¾</h2><p>å…¶å®é…ç½®çš„æ–¹æ³•å¾ˆç®€å•ï¼Œæ¯”è¾ƒçº ç»“çš„åœ°æ–¹åœ¨äºæ€ä¹ˆå»æ‰¾é€‚åˆçš„ä¸»é¢˜ï¼Œäºæ˜¯æˆ‘å¼€å§‹ æ·±å…¥æµ…å‡º GitHubâ€¦â€¦</p><h3 id="å…³äºä¸»é¢˜é€‰æ‹©"><a href="#å…³äºä¸»é¢˜é€‰æ‹©" class="headerlink" title="å…³äºä¸»é¢˜é€‰æ‹©"></a>å…³äºä¸»é¢˜é€‰æ‹©</h3><p>å…¶å® iterm çš„<a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Themes">ä¸»é¢˜</a>æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥éšä¾¿é€‰æ‹©ä¸€ç§ã€‚é»˜è®¤çš„ä¸»é¢˜æ˜¯ robbyrussell ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>vi ~/.zshrc</code> å‘½ä»¤ç„¶åæ‰¾å‡º ZSH_THEME&#x3D;â€xxxâ€ çš„è¯­å¥ï¼Œxxx å°±æ˜¯é»˜è®¤ä¸»é¢˜çš„é…ç½®ã€‚</p><p>åœ¨å®˜æ–¹ç»™å‡ºçš„<a href="https://github.com/agnoster/agnoster-zsh-theme">ä¸»é¢˜åˆ—è¡¨</a>é‡Œï¼Œæœ‰ä¸€æ¬¾ä¸»é¢˜å…¶å®å¾ˆä¸é”™ï¼ˆå…¶ä»–éƒ½ä¸‘ï¼‰ï¼šagnosterï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://cloud.githubusercontent.com/assets/2618447/6316862/70f58fb6-ba03-11e4-82c9-c083bf9a6574.png"></p><p>é…ç½®å®˜æ–¹çš„ä¸»é¢˜æ–¹æ¡ˆå¾ˆç®€å•ï¼Œå¯ä»¥å‚è€ƒæ­¤ç¯‡<a href="https://www.jianshu.com/p/e42c7e7a4253">åšå®¢</a>ã€‚</p><p>emmmâ€¦â€¦ è¿™çœ‹èµ·æ¥å’Œå¼€ç¯‡çš„æ•ˆæœå›¾è¿˜ä¸å¤ªä¸€æ ·å•Šã€‚å½“ç„¶ï¼Œé™¤äº†å®˜æ–¹çš„ä¸»é¢˜ï¼Œè¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹çš„ä¸»é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»Šå¤©è¦ç”¨çš„ powerlevel9kï¼Œåœ¨æ­é…æ•ˆæœä¸Šè¿˜ä¼šæœ‰æ›´å¤šçš„æ–¹æ¡ˆã€‚</p><h3 id="powerlevel9k"><a href="#powerlevel9k" class="headerlink" title="powerlevel9k"></a>powerlevel9k</h3><p>å¯¹äº powerlevel9kï¼Œå…¶å®å·²ç»æœ‰äº†ä¸€ä¸ªè¿˜ä¸é”™çš„ç”Ÿæ€åœˆäº†ï¼Œæ¯•ç«ŸGitHubä¹Ÿæ˜¯æœ‰ 4k+ çš„å­˜åœ¨ã€‚åœ¨å®˜æ–¹çš„è¯´æ˜ä¸­å·²ç»æœ‰äº†ä¸€ä»½å¾ˆè¯¦ç»†çš„å®‰è£…æ–‡æ¡£ã€‚å¯ä»¥æˆ³<a href="https://github.com/bhilburn/powerlevel9k">è¿™é‡Œ</a>æŸ¥çœ‹ã€‚</p><p>è¿™é‡Œå°±ä¸èµ˜è¿°å®‰è£…ç»†èŠ‚åšæ— ç”¨åŠŸäº†ã€‚æ–‡æ¡£æ˜¯è‹±æ–‡çš„ï¼Œä½†æ˜¯ä¹Ÿå¾ˆå®¹æ˜“å¯ä»¥çœ‹æ‡‚ï¼Œå¤§è‡´æ„æ€å°±æ˜¯ powerlevel9k æä¾›äº†é’ˆå¯¹ä¸åŒå¹³å°çš„ä¸»é¢˜å®‰è£…æ–¹æ¡ˆï¼Œå¯¹äºä¸€äº›ç‰¹æ®Šçš„ä¸»é¢˜æ•ˆæœï¼Œè¿˜éœ€è¦å®‰è£…ä¸€äº›ç‰¹æ®Šçš„å­—ä½“ç”¨ä½œå›¾æ ‡å±•ç¤ºï¼Œåœ¨è¿™é‡Œéƒ½å¯ä»¥é€‰æ‹©å®‰è£…ï¼Œæ¯”å¦‚æˆ‘é€‰æ‹©çš„å°±æ˜¯ zsh çš„ä¸»é¢˜å®‰è£… å’Œ Nerd-Fonts çš„å­—ä½“å®‰è£…æ–¹æ¡ˆã€‚åŒæ—¶ï¼Œpowerlevel9k ä¹Ÿæä¾›äº†ç¤¾åŒºåˆ†äº«çš„ä¸€äº›ä¸é”™çš„<a href="https://github.com/bhilburn/powerlevel9k/wiki/Show-Off-Your-Config">é…è‰²æ–¹æ¡ˆ</a>ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨,å˜¿å˜¿â€¦â€¦</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fplepu0f5dj20hs0cmdho.jpg"></p><p>è‡ªå·±å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜å’Œå­—ä½“ã€‚å®‰è£…å®Œæˆä¹‹åï¼Œåªéœ€è¦åœ¨ zsh çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹å³å¯ï¼š</p><p>&#96;&#96;&#96;</p><ol><li>æ‰“å¼€ zsh é…ç½®æ–‡ä»¶</li></ol><p>vi ~&#x2F;.zshrc</p><ol start="2"><li>å†™å…¥é…ç½®æ–¹æ¡ˆï¼Œ ä¸»é¢˜é€‰æ‹©ä½ å®‰è£…çš„ä¸»é¢˜ï¼Œé…è‰²æ–¹æ¡ˆå¯ä»¥å»ä¸Šé¢ç¤¾åŒºåˆ†äº«çš„åˆ—è¡¨å»æ‰¾ï¼Œæ¯”å¦‚æˆ‘çš„</li></ol><p>ZSH_THEME&#x3D;â€powerlevel9k&#x2F;powerlevel9kâ€</p><h1 id="ZSH-THEME-x3D-â€agnosterâ€"><a href="#ZSH-THEME-x3D-â€agnosterâ€" class="headerlink" title="ZSH_THEME&#x3D;â€agnosterâ€"></a>ZSH_THEME&#x3D;â€agnosterâ€</h1><p>POWERLEVEL9K_MODE&#x3D;â€™nerdfont-completeâ€™</p><p>POWERLEVEL9K_SHORTEN_DIR_LENGTH&#x3D;2<br>POWERLEVEL9K_SHORTEN_STRATEGY&#x3D;â€truncate_middleâ€<br>POWERLEVEL9K_CONTEXT_DEFAULT_BACKGROUND&#x3D;â€000â€<br>POWERLEVEL9K_CONTEXT_DEFAULT_FOREGROUND&#x3D;â€007â€<br>POWERLEVEL9K_DIR_HOME_BACKGROUND&#x3D;â€001â€<br>POWERLEVEL9K_DIR_HOME_FOREGROUND&#x3D;â€000â€<br>POWERLEVEL9K_DIR_HOME_SUBFOLDER_BACKGROUND&#x3D;â€001â€<br>POWERLEVEL9K_DIR_HOME_SUBFOLDER_FOREGROUND&#x3D;â€000â€<br>POWERLEVEL9K_NODE_VERSION_BACKGROUND&#x3D;â€blackâ€<br>POWERLEVEL9K_NODE_VERSION_FOREGROUND&#x3D;â€007â€<br>POWERLEVEL9K_NODE_VERSION_VISUAL_IDENTIFIER_COLOR&#x3D;â€002â€<br>POWERLEVEL9K_LOAD_CRITICAL_BACKGROUND&#x3D;â€blackâ€<br>POWERLEVEL9K_LOAD_WARNING_BACKGROUND&#x3D;â€blackâ€<br>POWERLEVEL9K_LOAD_NORMAL_BACKGROUND&#x3D;â€blackâ€<br>POWERLEVEL9K_LOAD_CRITICAL_FOREGROUND&#x3D;â€007â€<br>POWERLEVEL9K_LOAD_WARNING_FOREGROUND&#x3D;â€007â€<br>POWERLEVEL9K_LOAD_NORMAL_FOREGROUND&#x3D;â€007â€<br>POWERLEVEL9K_LOAD_CRITICAL_VISUAL_IDENTIFIER_COLOR&#x3D;â€redâ€<br>POWERLEVEL9K_LOAD_WARNING_VISUAL_IDENTIFIER_COLOR&#x3D;â€yellowâ€<br>POWERLEVEL9K_LOAD_NORMAL_VISUAL_IDENTIFIER_COLOR&#x3D;â€greenâ€<br>POWERLEVEL9K_RAM_BACKGROUND&#x3D;â€blackâ€<br>POWERLEVEL9K_RAM_FOREGROUND&#x3D;â€007â€<br>POWERLEVEL9K_RAM_VISUAL_IDENTIFIER_COLOR&#x3D;â€001â€<br>POWERLEVEL9K_RAM_ELEMENTS&#x3D;(ram_free)<br>POWERLEVEL9K_TIME_BACKGROUND&#x3D;â€blackâ€<br>POWERLEVEL9K_TIME_FOREGROUND&#x3D;â€007â€<br>POWERLEVEL9K_TIME_FORMAT&#x3D;â€%D</p>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iterm2 </tag>
            
            <tag> ä¸ºé€¼æ ¼è€Œç”Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tcpä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹</title>
      <link href="/2018/02/28/"/>
      <url>/2018/02/28/</url>
      
        <content type="html"><![CDATA[<h1 id="ç†è§£-HTTP-åè®®ä»¥åŠ-TCP-ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹çš„è¿‡ç¨‹"><a href="#ç†è§£-HTTP-åè®®ä»¥åŠ-TCP-ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹çš„è¿‡ç¨‹" class="headerlink" title="ç†è§£ HTTP åè®®ä»¥åŠ TCP ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹çš„è¿‡ç¨‹"></a>ç†è§£ HTTP åè®®ä»¥åŠ TCP ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹çš„è¿‡ç¨‹</h1><h2 id="ç†è§£-HTTP-åè®®"><a href="#ç†è§£-HTTP-åè®®" class="headerlink" title="ç†è§£ HTTP åè®®"></a>ç†è§£ HTTP åè®®</h2><p>è¶…æ–‡æœ¬ä¼ è¾“ â€‹â€‹ åè®®ï¼ˆHTTPï¼‰æ˜¯ç”¨äºä¼ è¾“è¯¸å¦‚ HTML çš„è¶…åª’ä½“æ–‡æ¡£çš„åº”ç”¨å±‚åè®®ï¼Œæœ€é¡¶å±‚çš„åè®®ã€‚<strong>HTTP æ˜¯æ— çŠ¶æ€åè®®</strong>ï¼Œæ„å‘³ç€æœåŠ¡å™¨ä¸ä¼šåœ¨ä¸¤ä¸ªè¯·æ±‚ä¹‹é—´ä¿ç•™ä»»ä½•æ•°æ®ï¼ˆçŠ¶æ€ï¼‰ã€‚</p><p><strong>å…³äºæ— çŠ¶æ€çš„ç†è§£</strong></p><p>å¯ä»¥ç†è§£ä¸º HTTP æ˜¯æ²¡æœ‰ä¸Šä¸‹æ–‡çš„ï¼ŒHTTP æ— æ³•ä¿å­˜è¿æ¥åŒæ–¹çš„çŠ¶æ€ä¿¡æ¯ã€‚åŸºäºæ­¤ï¼ŒçŸ¥ä¹ä¸Šæœ‰çœ‹åˆ°ä¸€ä¸ªå¾ˆç›´è§‚çš„ç™½è¯ä¾‹å­ï¼š</p><p>å‚è€ƒï¼š<a href="https://www.zhihu.com/question/23202402/answer/300614865">HTTP æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ã€‚è¿™å¥è¯é‡Œçš„æ— çŠ¶æ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</a></p><table><thead><tr><th align="left">æœ‰çŠ¶æ€</th><th align="left">æ— çŠ¶æ€</th><th align="left">ä½¿ç”¨ cookie</th></tr></thead><tbody><tr><td align="left">Aï¼šä½ ä»Šå¤©ä¸­åˆåƒçš„å•¥ï¼Ÿ</td><td align="left">Aï¼šä½ ä»Šå¤©ä¸­åˆåƒçš„å•¥</td><td align="left">Aï¼šä½ ä»Šå¤©ä¸­åˆåƒçš„å•¥</td></tr><tr><td align="left">Bï¼šåƒçš„å¤§ç›˜é¸¡</td><td align="left">Bï¼šåƒçš„å¤§ç›˜é¸¡ã€‚</td><td align="left">Bï¼šåƒçš„å¤§ç›˜é¸¡ã€‚</td></tr><tr><td align="left">Aï¼šå‘³é“æ€ä¹ˆæ ·å‘€ï¼Ÿ</td><td align="left">Aï¼šå‘³é“æ€ä¹ˆæ ·å‘€ï¼Ÿ</td><td align="left">Aï¼šå‘³é“æ€ä¹ˆæ ·å‘€ï¼Ÿ</td></tr><tr><td align="left">Bï¼šè¿˜ä¸é”™ï¼ŒæŒºå¥½åƒçš„ã€‚</td><td align="left">Bï¼šï¼Ÿï¼Ÿï¼Ÿå•Šï¼Ÿå•¥ï¼Ÿå•¥å‘³é“æ€ä¹ˆæ ·ï¼Ÿ</td><td align="left">Bï¼šè¿˜ä¸é”™ï¼ŒæŒºå¥½åƒçš„</td></tr></tbody></table><h2 id="TCP-ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹"><a href="#TCP-ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹" class="headerlink" title="TCP ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹"></a>TCP ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹</h2><p>TCP å»ºç«‹è¿æ¥çš„æ—¶å€™éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œæ–­å¼€è¿æ¥éœ€è¦å››æ¬¡åˆ†æ‰‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯æ¯”è¾ƒæŠ½è±¡çš„ã€‚</p><p>æ•´ä¸ªè¿‡ç¨‹ç®€å•ç™½è¯ä¸€ä¸‹å°±æ˜¯ï¼š</p><h3 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a><strong>ä¸‰æ¬¡æ¡æ‰‹</strong></h3><ol><li>å®¢æˆ·ç«¯å†™äº†ä¸€å°æƒ…ä¹¦ï¼š æˆ‘ä¸­æ„ä½ å•Šï¼ˆå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼‰</li><li>æœåŠ¡ç«¯æ”¶åˆ°äº†è¿™å°æƒ…ä¹¦çš„å›å¤ï¼šå“‡ï¼Œæˆ‘ä¹Ÿä¸­æ„ä½ å•Šï¼Œmua</li><li>å®¢æˆ·ç«¯æ”¶åˆ°äº†æœåŠ¡ç«¯çš„ mua ï¼šå¥½å•Šï¼Œé‚£æˆ‘ä»¬å°±åœ¨ä¸€èµ·å§ï¼ˆçœŸæ­£å»ºç«‹è¿æ¥ï¼‰</li></ol><p>å½“ç„¶ä¸Šé¢è¿™æ˜¯æ­£å¸¸çš„æƒ…å†µï¼Œå¦‚æœé‡åˆ°æƒ…ä¹¦å‘é”™äººï¼ˆè¿æ¥å‡ºé”™ï¼‰çš„æƒ…å†µï¼ŒæœåŠ¡ç«¯å°±æ‡’å¾—ç†äº†ï¼Œç„¶ååŒå‘å°±ä¸å¯èƒ½åœ¨ä¸€èµ·ï¼ˆå»ºç«‹è¿æ¥ï¼‰ã€‚</p><p><strong>ä¸ºä»€ä¹ˆ TCP è¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹</strong></p><p>å½“ç„¶å…¶å®ä¼šæœ‰æ›´å¤šçš„äººç–‘é—®ï¼Œä¸ºä»€ä¹ˆ TCP è¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡ï¼Œå› ä¸ºæŒ‰ç…§ä¸Šé¢çš„æ„æ€ï¼Œå®¢æˆ·ç«¯æ¥ä¸€å¥ï¼šåœ¨ä¸€èµ·ï¼Œ æœåŠ¡ç«¯å›ä¸€ä¸ªï¼šå¥½ï¼Œ å°±å¯ä»¥äº†å•Šï¼Œä¸ºä»€ä¹ˆå®¢æˆ·ç«¯è¿˜è¦å¤šæ­¤ä¸€ä¸¾å›å¤ä¸€ä¸ªâ€œæˆ‘ä¹Ÿå¥½â€å‘¢ã€‚å…¶å®åŸå› å¾ˆç®€å•ï¼Œè·Ÿ TCP çš„ç‰¹æ€§æœ‰å…³ï¼ŒTCP é€šé“æ˜¯ä¸å¯é çš„ï¼Œè€Œä¸‰æ¬¡æ¡æ‰‹æ˜¯æ»¡è¶³é€šé“å®‰å…¨çš„æœ€å°æ¡æ‰‹æ¬¡æ•°ã€‚ç»§ç»­ç”¨ä¸Šé¢çš„ä¾‹å­æ¥åˆ†æä¸‹ï¼š</p><p>å…ˆå‡è®¾åªæœ‰ä¸¤æ¬¡æ¡æ‰‹çš„æƒ…å†µï¼š</p><ol><li>å®¢æˆ·ç«¯å†™äº†ä¸€å°æƒ…ä¹¦ï¼š æˆ‘ä¸­æ„ä½ å•Šï¼ˆå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼‰ï¼Œä½†æ˜¯å› ä¸ºæŸäº›åŸå› ï¼Œé‚®å±€æ”¾å‡å•¦ï¼Œä½ çš„æƒ…ä¹¦è¢«æç½®åœ¨è·¯ä¸Šäº†</li><li>å®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œäºæ˜¯åˆå†™äº†ä¸€å°æƒ…ä¹¦ï¼šæˆ‘çœŸçš„å¥½ä¸­æ„ä½ å•Šï¼ˆå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼‰</li><li>æœåŠ¡ç«¯æ”¶åˆ°äº†è¿™å°æƒ…ä¹¦çš„å›å¤ï¼šå“‡ï¼Œæˆ‘ä¹Ÿä¸­æ„ä½ å•Šï¼Œmuaï¼ˆå»ºç«‹è¿æ¥ï¼‰</li><li>åˆ°è¿™æ—¶ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å·²ç»å¯ä»¥æ„‰å¿«çš„ç©è€äº†ã€‚ä½†æ˜¯å¿½ç„¶ï¼Œå®¢æˆ·ç«¯å†™çš„ç¬¬ä¸€å°æƒ…ä¹¦ä¹Ÿåˆ°äº†ï¼ŒæœåŠ¡ç«¯çœ‹åˆ°äº†ï¼Œä¾ç„¶å›å¤äº†å¥ï¼š æ­»é¬¼ï¼Œæˆ‘çŸ¥é“äº†</li><li><strong>å› ä¸º HTTP æ˜¯æ— çŠ¶æ€çš„ï¼Œå®¢æˆ·ç«¯ä¸çŸ¥é“æœåŠ¡ç«¯å›å¤çš„æ˜¯å•¥ï¼Œå°±æ²¡ç†ã€‚</strong></li><li><strong>æœåŠ¡ç«¯å°±åœ¨ä¸€ç›´ç­‰å¾…ä¸­ï¼šè¿™ä¸ªæ­»é¬¼çš„æƒ…ä¹¦åˆ°åº•æ˜¯å†™ç»™è°ï¼Œæ€ä¹ˆä¸å›å¤æˆ‘ã€‚äºæ˜¯æœåŠ¡ç«¯æ†”æ‚´è‡³æ­»ï¼ˆèµ„æºæµªè´¹ï¼‰</strong></li></ol><p>ç„¶åæ˜¯ä¸‰æ¬¡æ¡æ‰‹çš„æƒ…å†µï¼š</p><ol><li>å®¢æˆ·ç«¯å†™äº†ä¸€å°æƒ…ä¹¦ï¼š æˆ‘ä¸­æ„ä½ å•Šï¼ˆå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼‰ï¼Œä½†æ˜¯å› ä¸ºæŸäº›åŸå› ï¼Œæœ‰å¥æ”¾å‡å•¦ï¼Œä½ çš„æƒ…ä¹¦è¢«æç½®åœ¨è·¯ä¸Šäº†</li><li>å®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œäºæ˜¯åˆå†™äº†ä¸€å°æƒ…ä¹¦ï¼šæˆ‘çœŸçš„å¥½ä¸­æ„ä½ å•Šï¼ˆå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼‰</li><li>æœåŠ¡ç«¯æ”¶åˆ°äº†è¿™å°æƒ…ä¹¦çš„å›å¤ï¼šå“‡ï¼Œæˆ‘ä¹Ÿä¸­æ„ä½ å•Šï¼Œmua</li><li><strong>å®¢æˆ·ç«¯æ”¶åˆ°äº†æœåŠ¡ç«¯çš„ mua ï¼šå¥½å•Šï¼Œé‚£æˆ‘ä»¬å°±åœ¨ä¸€èµ·å§ï¼ˆçœŸæ­£å»ºç«‹è¿æ¥ï¼‰</strong></li><li>åˆ°è¿™æ—¶ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å·²ç»å¯ä»¥æ„‰å¿«çš„ç©è€äº†ã€‚ä½†æ˜¯å¿½ç„¶ï¼Œå®¢æˆ·ç«¯å†™çš„ç¬¬ä¸€å°æƒ…ä¹¦ä¹Ÿåˆ°äº†ï¼ŒæœåŠ¡ç«¯çœ‹åˆ°äº†ï¼Œä¾ç„¶å›å¤äº†å¥ï¼š æ­»é¬¼ï¼Œæˆ‘çŸ¥é“äº†</li><li><strong>å®¢æˆ·ç«¯ä¸€çœ‹ï¼Œè¿™æ˜¯é”™äº†ï¼š è¿™æ˜¯æƒ…ä¹¦å‘é”™äº†ï¼Œåˆ«å†ç­‰äº†</strong></li></ol><p>ä¸‰æ¬¡æ¡æ‰‹çš„åŸºæœ¬æƒ…å†µéƒ½è€å®äº¤ä»£äº†äº†ï¼Œå°±é‚£æ ·ã€‚</p><h3 id="å››æ¬¡åˆ†æ‰‹"><a href="#å››æ¬¡åˆ†æ‰‹" class="headerlink" title="å››æ¬¡åˆ†æ‰‹"></a><strong>å››æ¬¡åˆ†æ‰‹</strong></h3><p>ç„¶åæ˜¯å››æ¬¡åˆ†æ‰‹ï¼Œè¿™ä¸ªå°±ç®€å•çš„å¤šï¼š</p><ol><li>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è…»æ­ªäº†ï¼Œå°±è¯´è¦åˆ†æ‰‹ï¼Œå®¢æˆ·ç«¯ï¼šåˆ†æ‰‹å§ ï¼ˆå…³é—­è¿æ¥çš„è¯·æ±‚ï¼‰</li><li>æœåŠ¡ç«¯ï¼šåˆ†å°±åˆ†ï¼Œä½†æ˜¯è¿˜æœ‰ä½ çš„ä¸€äº›ç ´ä¸œè¥¿ï¼Œè¿˜ç»™ä½ ï¼ˆä¼ é€’å‘å®¢æˆ·ç«¯å¾…å‘é€çš„æ•°æ®ï¼‰</li><li>å®¢æˆ·ç«¯æ”¶åˆ°å›å¤äº†ï¼Œå°±åŸåœ°å¾…å‘½</li><li>æœåŠ¡ç«¯æ•°æ®å‘é€å®Œäº†ï¼šå¥½äº†ï¼Œéƒ½æ‰”äº†ï¼ˆæ•°æ®å‘é€å®Œæ¯•ï¼‰</li><li>å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ•°æ®ï¼Œç„¶åç»™ä¸ªå›å¤ï¼šå¥½çš„ï¼Œæˆ‘çŸ¥é“äº†ï¼Œæ‹œæ‹œã€‚</li></ol><p>ä»¥ä¸Šéƒ½æ˜¯æŠ–æœºçµçš„ç†è§£ã€‚å…¶å® TCP çš„ä¸‰æ¬¡è¿æ¥å’Œå››æ¬¡åˆ†æ‰‹è¦å¤æ‚çš„å¤šï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ­£ç»çš„åšå®¢ï¼š</p><ul><li><a href="https://github.com/jawil/blog/issues/14#issuecomment-369106942">é€šä¿—å¤§ç™½è¯æ¥ç†è§£ TCP åè®®çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡åˆ†æ‰‹</a></li><li><a href="http://www.cnblogs.com/lamian/p/3983497.html">å…³äº TCP çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡åˆ†æ‰‹ï¼ˆæ•´ç†ï¼‰</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ng2ä½“éªŒæŠ¥å‘Š</title>
      <link href="/2018/02/05/"/>
      <url>/2018/02/05/</url>
      
        <content type="html"><![CDATA[<h1 id="ng2-ä½“éªŒæŠ¥å‘Šã€æ€»ç»“"><a href="#ng2-ä½“éªŒæŠ¥å‘Šã€æ€»ç»“" class="headerlink" title="ng2 ä½“éªŒæŠ¥å‘Šã€æ€»ç»“"></a><strong>ng2 ä½“éªŒæŠ¥å‘Šã€æ€»ç»“</strong></h1><blockquote><p>å½“ç„¶ï¼Œç°åœ¨ angular æœ€æ–°çš„ç‰ˆæœ¬å·²ç»å‡ºåˆ° 5.0 äº†ï¼Œç°åœ¨æ‰æ¥è¯´ ng2 æœ‰ç‚¹è€å¥—äº†ï¼Œåªæ˜¯æœ€è¿‘å¿½ç„¶çš„ä» react çš„é¡¹ç›®ç»„è½¬åˆ°äº†åš angular v2 (ng2) çš„é¡¹ç›®ç»„ï¼ŒåŒæ—¶å¯¹è°·æ­Œå’Œå¾®è½¯çš„â€å­©å­â€ä¹Ÿæ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œæ‰€ä»¥è¿˜æ˜¯æœ‰å¿…è¦å¥½å¥½å­¦ä¹ ä¸€ä¸‹çš„ã€‚</p><p>ä¸Šæ‰‹äº†ä¸€é˜µå­ï¼Œå¤§æ¦‚æ‘¸æ¸…äº† ng2 çš„å¥—è·¯ï¼Œå…¶å®åœ¨æ­¤ä¹‹å‰ï¼Œå¯¹äºä¹ æƒ¯äº† Reactã€ Vue å¼€å‘æ¨¡å¼çš„æˆ‘æ¥è¯´ï¼Œå¯¹äº ng2 æ˜¯æœ‰ä¸€å®šçš„è¯¯è§£çš„ã€‚è¿‡å»çš„æˆ‘ä¸€ç›´ä»¥ä¸º ng2 åªæ˜¯ç®€å•çš„è§†å›¾æ¡†æ¶ï¼Œå°±æ˜¯ä¸€ä¸ªç®€å•çš„æ¨¡æ¿ç³»ç»Ÿï¼Œç°åœ¨çœ‹æ¥æˆ‘æ˜¯é”™äº†ï¼Œè¾ƒä¹‹äº Reactã€ Vue å¤æ‚çš„é¡¹ç›®æ„å»ºæ¥è¯´ï¼Œ ng2 æ‰æ˜¯çœŸæ­£çš„æ¡†æ¶å•Šï¼Œå¦‚æœä½ æœ‰ä¸€å®šçš„åç«¯åŸºç¡€ï¼Œä½ ä¸€å®šèƒ½å¾ˆå¿«çš„ç†è§£ ng2 çŸ¥è¯†ä½“ç³»ï¼Œ è€Œä¸”ä½ ä¹Ÿä¼šæ˜ç™½ ng2 ä½œä¸ºä¸€ä¸ªæ¡†æ¶å¯¹äºå¼€å‘æ•ˆç‡çš„æå‡ã€‚</p></blockquote><h2 id="å…³äºå­¦ä¹ ç½‘ç«™"><a href="#å…³äºå­¦ä¹ ç½‘ç«™" class="headerlink" title="å…³äºå­¦ä¹ ç½‘ç«™"></a><strong>å…³äºå­¦ä¹ ç½‘ç«™</strong></h2><p>å­¦ä¹  ng2 æœ€å¥½çš„å°±æ˜¯çœ‹å®˜ç½‘äº†ï¼Œå½“ç„¶æ‰€æœ‰çš„è¯­è¨€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå¯èƒ½éœ€è¦ç»å¸¸å»é€›çš„ç½‘ç«™ã€‚</p><ol><li><a href="https://github.com/angular/angular-cli/blob/master/README.md">angular-cli è„šæ‰‹æ¶å·¥å…·ï¼Œå¿«é€Ÿæ„å»ºé¡¹ç›®ï¼›</a></li><li><a href="https://v2.angular.cn/docs/ts/latest/quickstart.html">angular å®˜ç½‘ï¼Œæœ€æ–°çš„å·²ç»æ˜¯ V5 ç‰ˆæœ¬äº†ï¼Œå¯ä»¥ç»§ç»­æ·±å…¥å­¦ä¹ ï¼›</a></li><li><a href="http://cn.rx.js.org/">Rx.js ä¸­æ–‡é€ŸæŸ¥æ‰‹å†Œï¼›</a></li><li><a href="https://www.tslang.cn/docs/home.html">javascript çš„è¶…é›† typescriptï¼›</a></li><li><a href="">å¾…è¡¥â€¦â€¦</a></li></ol><h2 id="é‡è¦æ¦‚å¿µ"><a href="#é‡è¦æ¦‚å¿µ" class="headerlink" title="é‡è¦æ¦‚å¿µ"></a><strong>é‡è¦æ¦‚å¿µ</strong></h2><p>æœ‰å…³äº ng2 å‡ ä¸ªé‡è¦çš„æ¦‚å¿µå¦‚ä¸‹ï¼š</p><ul><li>è„šæ‰‹æ¶ ï¼ˆ scaffold ï¼‰</li><li>æŒ‡ä»¤ï¼ˆ directive ï¼‰</li><li>ç®¡é“ ï¼ˆ pipe ï¼‰</li><li>è·¯ç”± ï¼ˆ router ï¼‰</li><li>çˆ¶å­ç»„ä»¶é€šä¿¡ ï¼ˆ @input &amp; @output ï¼‰</li><li>æ¨¡å— ï¼ˆ model ï¼‰</li><li>æœåŠ¡ ï¼ˆ service ï¼‰</li><li>Rxjs ï¼ˆ Oberverable ï¼‰</li><li>ä¾èµ–æ³¨å…¥ ï¼ˆ injectable ï¼‰</li></ul><p>å½“ç„¶ï¼Œèµ˜è¿°å®˜æ–¹çš„æ–‡æ¡£ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘æ›´å¸Œæœ›é€šè¿‡æˆ‘ä¸ªäººçš„ç†è§£æ¥ä»‹ç»è¿™å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼ˆæˆ–è®¸æœ‰é”™è¯¯ï¼‰</p><h3 id="è„šæ‰‹æ¶-ï¼ˆ-scaffold-ï¼‰"><a href="#è„šæ‰‹æ¶-ï¼ˆ-scaffold-ï¼‰" class="headerlink" title="è„šæ‰‹æ¶ ï¼ˆ scaffold ï¼‰"></a><strong>è„šæ‰‹æ¶ ï¼ˆ scaffold ï¼‰</strong></h3><p>å” å¨ä¸€å¥ï¼šä¸€èˆ¬æ¥è¯´ï¼Œè„šæ‰‹æ¶è¿™ä¸ªä¸œè¥¿ï¼Œåªæœ‰æ–°æ‰‹å°ç™½æˆ–è€…å¤§ç‰›ä¼šå–œæ¬¢ç”¨ï¼Œå¾€å¾€å¤„äºä¸­é—´å±‚çš„å¤§ä½¬ä»¬æ˜¯æ¯”è¾ƒé„™è§†çš„ï¼Œå› ä¸ºè¿™è®©ç¨‹åºå˜å¾—æ²¡æœ‰æŠ€æœ¯å«é‡ï¼Œæˆ–è€…ï¼Œè¢«ä¸€äº›ä½çº§çš„è„šæ‰‹æ¶ç»™å‘åˆ°ã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼Œä½¿ç”¨å¥½çš„è„šæ‰‹æ¶çš„ç¡®èƒ½è®©è®©ä½ çš„å¼€å‘æ›´åŠ å¹¸ç¦ï¼Œä¸å…¶æ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶å¤åˆ¶ä»£ç ï¼Œä¸ºä½•ä¸è®©è„šæ‰‹æ¶æ¥ç»™ä½ ç”Ÿæˆå‘¢ã€‚</p><p>ng2 (angular) ä½¿ç”¨çš„è„šæ‰‹æ¶æ˜¯å®˜æ–¹æä¾›çš„ angular-cli ï¼Œå¸¸ç”¨çš„å‡ ä¸ªæ“ä½œå¦‚ä¸‹ï¼š</p><table><thead><tr><th align="left">ç”Ÿæˆå¯¹è±¡</th><th align="left">å‘½ä»¤</th><th align="left">æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td align="left">project</td><td align="left">ng new PROJECT-NAME</td><td align="left">ç”Ÿæˆæ–°é¡¹ç›®</td></tr><tr><td align="left">debug</td><td align="left">ng serve â€“host 0.0.0.0 â€“port 4201</td><td align="left">å¯åŠ¨æœ¬åœ°æœåŠ¡</td></tr><tr><td align="left">Component</td><td align="left">ng g component my-new-component</td><td align="left">ç”Ÿæˆ component</td></tr><tr><td align="left">Directive</td><td align="left">ng g directive my-new-directive</td><td align="left">ç”Ÿæˆ<a href="https://angular.cn/guide/attribute-directives">è‡ªå®šä¹‰æŒ‡ä»¤</a></td></tr><tr><td align="left">Pipe</td><td align="left">ng g pipe my-new-pipe</td><td align="left">ç”Ÿæˆ<a href="https://angular.cn/guide/pipes#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AE%A1%E9%81%93">è‡ªå®šä¹‰ç®¡é“</a></td></tr><tr><td align="left">Service</td><td align="left">ng g service my-new-service</td><td align="left">ç”ŸæˆæœåŠ¡</td></tr><tr><td align="left">Class</td><td align="left">ng g class my-new-class</td><td align="left">ç”Ÿæˆç±»ï¼Œå‡ ä¹ä¸ç”¨</td></tr><tr><td align="left">Guard</td><td align="left">ng g guard my-new-guard</td><td align="left">ç”Ÿæˆè‡ªå®šä¹‰è·¯ç”±å‘å¯¼ï¼Œé€šç”¨æ‹¦æˆªç­‰</td></tr><tr><td align="left">Interface</td><td align="left">ng g interface my-new-interface</td><td align="left">ç”Ÿæˆæ¥å£</td></tr><tr><td align="left">Enum</td><td align="left">ng g enum my-new-enum</td><td align="left">ç”Ÿæˆè‡ªå®šä¹‰æšä¸¾æ–‡ä»¶</td></tr><tr><td align="left">Module</td><td align="left">ng g module my-module</td><td align="left">ç”Ÿæˆè‡ªå®šä¹‰ module</td></tr></tbody></table><p>ä»¥ä¸Šå¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤å‚æ•°åŒæ ·çš„è·¯å¾„æ¨¡å¼ï¼Œæ„æ€å°±æ˜¯ä½ ä½¿ç”¨ <code>ng new ./test</code> è¿™æ ·çš„æ ¼å¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><h3 id="æŒ‡ä»¤ï¼ˆ-directive-ï¼‰"><a href="#æŒ‡ä»¤ï¼ˆ-directive-ï¼‰" class="headerlink" title="æŒ‡ä»¤ï¼ˆ directive ï¼‰"></a><strong>æŒ‡ä»¤ï¼ˆ directive ï¼‰</strong></h3><p>æŒ‡ä»¤ç³»ç»Ÿæ˜¯ angular çš„ä¸€å¤§ç‰¹è‰²ï¼Œå½“ä½ å†™ react ä½ ä¸€å®šç‰¹åˆ«å¸Œæœ›ä¹Ÿæœ‰è‡ªå·±çš„æŒ‡ä»¤ç³»ç»Ÿï¼ˆå½“ç„¶è¿™æ˜¯ç©ç¬‘è¯ï¼Œå› ä¸º angular æ˜¯æ²¡æœ‰ç”¨ vdom çš„ï¼‰ã€‚ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ ä¸€å®šä¸é‡åˆ°è¿‡å¦‚ä¸‹çš„æŒ‡ä»¤ï¼š</p><p><strong>å¸¸è§ç»“æ„æ€§æŒ‡ä»¤ <code>*ngIf *ngFor *ngSwitch</code> çš„ç”¨æ³•ï¼š</strong></p><pre><code>&lt;!-- æ¥è‡ªå®˜ç½‘çš„è‹±é›„æ¦œä¾‹å­ --&gt;&lt;div *ngIf=&quot;hero&quot; &gt;xxx&lt;/div&gt;&lt;ul&gt;  &lt;li *ngFor=&quot;let hero of heroes&quot;&gt;xxx&lt;/li&gt;&lt;/ul&gt;&lt;div [ngSwitch]=&quot;hero?.emotion&quot;&gt;  &lt;app-happy-hero    *ngSwitchCase=&quot;&#39;happy&#39;&quot;    [hero]=&quot;hero&quot;&gt;&lt;/app-happy-hero&gt;  &lt;app-sad-hero      *ngSwitchCase=&quot;&#39;sad&#39;&quot;      [hero]=&quot;hero&quot;&gt;&lt;/app-sad-hero&gt;  &lt;app-confused-hero *ngSwitchCase=&quot;&#39;app-confused&#39;&quot; [hero]=&quot;hero&quot;&gt;&lt;/app-confused-hero&gt;  &lt;app-unknown-hero  *ngSwitchDefault           [hero]=&quot;hero&quot;&gt;&lt;/app-unknown-hero&gt;&lt;/div&gt;</code></pre><p><strong>ng-template ng-container</strong></p><p>è¿˜æœ‰ä¸€äº›å¸¸ç”¨æ¥å’Œç»“æ„æ€§æŒ‡ä»¤ç»“åˆä½¿ç”¨çš„è¯­æ³•ï¼Œç±»ä¼¼ <code>ng-template ng-container</code> è¿™äº›ã€‚ å…³äºè¿™ä¸¤ä¸ªæ¨¡æ¿è¯­æ³•ï¼Œå…¶å®å¹¶ä¸æ˜¯æœ‰å¿…é¡»è¦ä½¿ç”¨çš„å¿…è¦ï¼Œä½†åœ¨å¾ˆå¤šæ—¶å€™ï¼Œåˆç†çš„ä½¿ç”¨å¯ä»¥è®©ä½ çš„ä»£ç æ›´åŠ è¯­ä¹‰åŒ–ï¼Œæˆ–è€…è¯´æ›´åŠ ä¼˜ç¾ã€‚å…³äºè¿™ä¸¤ä¸ªï¼Œæˆ‘æ€•æˆ‘è§£é‡Šä¸å½“ï¼Œå®˜ç½‘ç»™äº†ä¸¤ä¸ªæ¯”è¾ƒå¥½çš„ä¾‹å­ï¼š</p><ul><li><a href="https://angular.cn/guide/structural-directives#ng-template%E6%8C%87%E4%BB%A4">ng-template</a></li><li><a href="https://angular.cn/guide/structural-directives#%E4%BD%BF%E7%94%A8ng-container%E6%8A%8A%E4%B8%80%E4%BA%9B%E5%85%84%E5%BC%9F%E5%85%83%E7%B4%A0%E5%BD%92%E4%B8%BA%E4%B8%80%E7%BB%84">ng-containerï¼Œæ¶ˆé™¤ div å¸¦æ¥çš„å‰¯ä½œç”¨ã€‚</a></li></ul><p>å½“ç„¶ï¼Œng-template å¦å¤–çš„ä¸€ä¸ªç”¨é€”æ˜¯ <a href="https://angular.cn/guide/dynamic-component-loader">ä½œä¸ºåŠ¨æ€ç»„ä»¶åŠ è½½å™¨</a>ã€‚</p><p><strong>è‡ªå®šä¹‰æŒ‡ä»¤</strong></p><p>ç”¨ä¸Šé¢çš„è„šæ‰‹æ¶ç”Ÿæˆæœ€æ–¹ä¾¿ï¼Œä¹Ÿä¸å®¹æ˜“å‡ºé”™ã€‚å¦‚ä¸‹ï¼Œç”Ÿæˆä¸€ä¸ª åä¸º check çš„æŒ‡ä»¤ï¼š</p><pre><code>&lt;!-- æ‰§è¡Œ ng g directive --&gt;ng g directive&lt;!-- è‡ªå®šä¹‰ç”Ÿæˆç¤ºä¾‹,å¹¶å·²åœ¨ å½“å‰ model å£°æ˜ --&gt;import &#123; Directive &#125; from &#39;@angular/core&#39;;@Directive(&#123;  selector: &#39;[check]&#39;&#125;)export class CheckDirective &#123;  constructor() &#123; &#125;&#125;&lt;!--åœ¨htmlæ¨¡æ¿ä¸­ä½¿ç”¨--&gt;&lt;input check=&quot;xxx&quot; &gt;</code></pre><p><strong>é—®é¢˜ï¼š å®˜æ–‡æ–‡æ¡£ä¼šçœ‹åˆ°ä¸€ç§ å±æ€§å‹æŒ‡ä»¤ å’Œ ç»“æ„æ€§æŒ‡ä»¤ ï¼Œä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p><p>ç­”ï¼š ç»“æ„å‹æŒ‡ä»¤ â€” é€šè¿‡æ·»åŠ å’Œç§»é™¤ DOM å…ƒç´ æ”¹å˜ DOM å¸ƒå±€çš„æŒ‡ä»¤ï¼Œä¸“æ³¨äºå¸ƒå±€ï¼ŒngIf è¿™ç§ã€‚å±æ€§å‹æŒ‡ä»¤ â€” æ”¹å˜å…ƒç´ ã€ç»„ä»¶æˆ–å…¶å®ƒæŒ‡ä»¤çš„å¤–è§‚å’Œè¡Œä¸ºçš„æŒ‡ä»¤ï¼Œä¸“æ³¨äºå†…éƒ¨å±æ€§ï¼ŒngClass è¿™ç§ã€‚ä¸¤ç§éƒ½å¯ä»¥è‡ªå®šä¹‰ã€‚</p><h3 id="ç®¡é“-ï¼ˆ-pipe-ï¼‰"><a href="#ç®¡é“-ï¼ˆ-pipe-ï¼‰" class="headerlink" title="ç®¡é“ ï¼ˆ pipe ï¼‰"></a><strong>ç®¡é“ ï¼ˆ pipe ï¼‰</strong></h3><p>å¦‚æœä¹ æƒ¯äº† bash å‘½ä»¤çš„ç«¥é‹ï¼Œä¸€å®šå¯¹ ç®¡é“ å¾ˆç†Ÿæ‚‰ï¼Œ ä½ å¯èƒ½ç»å¸¸ä¼šè§åˆ° <code>ls xxx | grep xxx</code> è¿™ç§çš„å†™æ³•ï¼Œå…¶å® ng ä¸­çš„ ç®¡é“ å’Œè¿™ä¸ªå…¶å®æ˜¯ä¸€ä¸ªæ„æ€ï¼Œå†™æ³•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œé€šè¿‡ â€œ|â€ æ¥åˆ†å‰²ï¼Œä¸è¿‡ ng çš„æ˜æ˜¾è¦å¼±ä¸€äº›ï¼Œng ä¸­ç®¡é“çš„å¸¸è§ç”¨æ³•éƒ½æ˜¯ç”¨æ¥æ ¼å¼åŒ–é’±å¸ã€æ•°å€¼ç²¾åº¦ã€æ—¥æœŸæ ¼å¼åŒ–è¿™äº›æ“ä½œã€‚</p><p><strong>å†…ç½®ç®¡é“</strong></p><p>ng å†…ç½®äº†ä¸€äº›ç®¡é“ï¼Œæ¯”å¦‚ DatePipeã€UpperCasePipeã€LowerCasePipeã€CurrencyPipe å’Œ PercentPipeã€‚ å®ƒä»¬å…¨éƒ½å¯ä»¥ç›´æ¥ç”¨åœ¨ä»»ä½•æ¨¡æ¿ä¸­ã€‚</p><p>å¸¸è§çš„<a href="https://angular.cn/api?type=pipe">å†…ç½®ç®¡é“</a>ã€‚<br><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fo5d5hqq4fj21ic0hstar.jpg"></p><p><strong>è‡ªå®šä¹‰ç®¡é“</strong></p><p>å½“å†…ç½®çš„ç®¡é“ä¸èƒ½æ»¡è¶³éœ€æ±‚çš„æ—¶å€™ï¼Œå¾€å¾€æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰è‡ªå·±çš„ç®¡é“ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>ng g pipe my-new-pipe</code> æ¥ç”Ÿæˆè‡ªå®šä¹‰ç®¡é“ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ money æ ¼å¼åŒ–çš„ä¾‹å­,å¯¹å±äºä»»æ„çš„æ•°å€¼ï¼Œè¿›è¡Œé‡‘é¢çš„ç²¾åº¦æ§åˆ¶ï¼Œå½“ç„¶åº•å±‚å…¶å®è¿˜æ˜¯ä½¿ç”¨äº†å†…ç½®çš„ DecimalPipe ã€‚</p><pre><code>import &#123; Pipe &#125; from &#39;@angular/core&#39;;import &#123; DecimalPipe &#125; from &#39;@angular/common&#39;;@Pipe(&#123;  name: &#39;money&#39;&#125;)export class MoneyPipe &#123;  constructor(protected decimalPipe: DecimalPipe) &#123;  &#125;  public transform(value: any, digits?: string): string | null &#123;    value = parseFloat(value) || 0;    return this.decimalPipe.transform(value, digits);  &#125;&#125;</code></pre><p>åœ¨éœ€è¦æ ¼å¼åŒ–é‡‘é¢çš„åœ°æ–¹ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦ä¿ç•™ä¸¤ä½å°æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆç”¨ï¼Œ<code>10.2222 | money:&#39;1.2-2&#39;</code>ï¼Œå…·ä½“ç¬¬äºŒä¸ªç²¾åº¦çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥<a href="https://angular.cn/api/common/DecimalPipe">å‚è€ƒ</a>ã€‚</p><h3 id="è·¯ç”±-ï¼ˆ-router-ï¼‰"><a href="#è·¯ç”±-ï¼ˆ-router-ï¼‰" class="headerlink" title="è·¯ç”± ï¼ˆ router ï¼‰"></a><strong>è·¯ç”± ï¼ˆ router ï¼‰</strong></h3><p><strong>è·¯ç”±é‡å®šå‘</strong></p><p>å¯ä»¥è¿™ä¹ˆå†™ï¼š</p><pre><code>export const routes: Routes = [  &#123; path: &#39;&#39;, redirectTo: &#39;A&#39;, pathMatch: &#39;full&#39; &#125;,  &#123; path: &#39;a&#39;, component: A &#125;,  &#123; path: &#39;b&#39;, component: B, child:&#123;      [      &#123; path: &#39;&#39;, redirectTo: &#39;b-a&#39;, pathMatch: &#39;full&#39; &#125;,      &#123; path: &#39;b-a&#39;, component: ba &#125;,      &#123; path: &#39;b-b&#39;, component: bb &#125;    ]  &#125; &#125;];</code></pre><p><strong>è·¯ç”±è·³è½¬</strong></p><p>å¯ä»¥è¿™ä¹ˆå†™ï¼š</p><pre><code>&lt;a [routerLink]=&quot;[&#39;/a&#39;]&quot;&gt;a&lt;/a&gt;</code></pre><p>ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š</p><pre><code>this.router.navigate([&#39;/a&#39;]);</code></pre><p><strong>è·¯ç”±å‚æ•°</strong></p><p>æ¯”å¦‚ä¸€ä¸ªé€šçŸ¥åˆ—è¡¨ï¼Œç‚¹å‡»ä¸åŒçš„é€šçŸ¥å¯ä»¥é“¾æ¥åˆ°ä¸åŒçš„é€šçŸ¥å†…å®¹ã€‚</p><p>è·¯ç”±é…ç½®ï¼š</p><pre><code>export const routes: Routes = [  &#123; path: &#39;&#39;, redirectTo: &#39;A&#39;, pathMatch: &#39;full&#39; &#125;,  &#123; path: &#39;notice-list&#39;, component: A &#125;,  &#123; path: &#39;notice-content/:id&#39;, component: B &#125;];</code></pre><p>åœ¨ notice-list è®¾ç½®è·¯ç”±è·³è½¬ï¼š</p><pre><code>this.router.navigate([&#39;/notice-content&#39; ï¼Œid]);this.router.navigate([&#39;/notice-content&#39;]ï¼Œparams);</code></pre><p>è¯»å–è·¯ç”±å‚æ•°</p><pre><code>this.route.params.subscribe(params =&gt; &#123;   console.log(params[&#39;id&#39;]);&#125;);this.route.queryParams.subscribe(params =&gt; &#123;   console.log(params);&#125;);</code></pre><p><strong>è·¯ç”±æ‹¦æˆª</strong></p><p>ä½¿ç”¨ <code>ng g guard login</code> æ¥å¿«é€Ÿç”Ÿæˆã€‚</p><pre><code>import &#123; CanActivate &#125; from &#39;@angular/router&#39;;import &#123; Injectable &#125; from &#39;@angular/core&#39;;import &#123; LoginService &#125; from &#39;./login-service&#39;;@Injectable()export class LoginRouteGuard implements CanActivate &#123;  constructor(private loginService: LoginService) &#123;&#125;  canActivate() &#123;    return this.loginService.isLoggedIn();  &#125;&#125;</code></pre><h3 id="çˆ¶å­ç»„ä»¶é€šä¿¡-ï¼ˆ-input-amp-output-ï¼‰"><a href="#çˆ¶å­ç»„ä»¶é€šä¿¡-ï¼ˆ-input-amp-output-ï¼‰" class="headerlink" title="çˆ¶å­ç»„ä»¶é€šä¿¡ ï¼ˆ @input &amp; @output ï¼‰"></a><strong>çˆ¶å­ç»„ä»¶é€šä¿¡ ï¼ˆ @input &amp; @output ï¼‰</strong></h3><p><strong>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼</strong></p><p>çˆ¶ç»„ä»¶ä½¿ç”¨ <code>[data]=&#39;&#123;&#125;&#39;</code> å‘å­ç»„ä»¶æ¥æ”¶å€¼ï¼Œå­ç»„ä»¶é€šè¿‡ <code>@input() data</code> æ¥æ¥æ”¶ã€‚</p><p><strong>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼</strong></p><p>ä¸€èˆ¬ç”¨äºå°è£…çš„ç»„ä»¶ã€‚</p><p>åœ¨å­ç»„ä»¶ä¸­ï¼Œä½¿ç”¨</p><pre><code>@Output() outData = new EventEmitter&lt;string&gt;();â€¦â€¦this.outData.emit(data);</code></pre><p>åœ¨çˆ¶ç»„ä»¶ä¸­è·å–,å®šä¹‰ä¸€ä¸ª getData äº‹ä»¶</p><pre><code>&lt;a (outData)=&#39;getData()&#39;&gt;&lt;/a&gt;</code></pre><h3 id="æ¨¡å—-model"><a href="#æ¨¡å—-model" class="headerlink" title="æ¨¡å— ( model )"></a><strong>æ¨¡å— ( model )</strong></h3><p>å…¶å®æ¨¡å—è¿™ä¸ªä¸œè¥¿ç°åœ¨ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿï¼Œä¸»æµçš„ç¼–ç¨‹æ¡†æ¶éƒ½ä½¿ç”¨äº†æ¨¡å—åŒ–çš„ç¼–ç¨‹æ–¹å¼ã€‚å®˜æ–¹çš„æ–‡æ¡£æ˜¯è¿™ä¹ˆä»‹ç»çš„ï¼š</p><blockquote><p>Angular æ¨¡å—æ˜¯å¸¦æœ‰ @NgModule è£…é¥°å™¨å‡½æ•°çš„ç±»ã€‚ @NgModule æ¥æ”¶ä¸€ä¸ªå…ƒæ•°æ®å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å‘Šè¯‰ Angular å¦‚ä½•ç¼–è¯‘å’Œè¿è¡Œæ¨¡å—ä»£ç ã€‚ å®ƒæ ‡è®°å‡ºè¯¥æ¨¡å—æ‹¥æœ‰çš„ç»„ä»¶ã€æŒ‡ä»¤å’Œç®¡é“ï¼Œ å¹¶æŠŠå®ƒä»¬çš„ä¸€éƒ¨åˆ†å…¬å¼€å‡ºå»ï¼Œä»¥ä¾¿å¤–éƒ¨ç»„ä»¶ä½¿ç”¨å®ƒä»¬ã€‚ å®ƒå¯ä»¥å‘åº”ç”¨çš„ä¾èµ–æ³¨å…¥å™¨ä¸­æ·»åŠ æœåŠ¡æä¾›å•†ã€‚</p></blockquote><p>æˆ‘ä»¬ç†è§£èµ·æ¥å°±æ˜¯ï¼Œ<strong>ä¸€ä¸ª Angular æ¨¡å— &#x3D; æ¥æ”¶å…ƒæ•°æ®å¯¹è±¡ï¼ˆmetadataï¼‰+ æš´éœ²éƒ¨åˆ†ä¾¿äºå¤–éƒ¨ç»„ä»¶è®¿é—®ã€‚</strong> å¦‚æœä¸æ¸…æ¥šä»€ä¹ˆæ˜¯ <strong>å…ƒæ•°æ®</strong> çš„ï¼Œå¯ä»¥çœ‹ä¸‹å®˜æ–¹çš„<a href="https://angular.cn/guide/metadata">ä»‹ç»</a>ã€‚</p><h3 id="æœåŠ¡-service"><a href="#æœåŠ¡-service" class="headerlink" title="æœåŠ¡ ( service )"></a><strong>æœåŠ¡ ( service )</strong></h3><p>åœ¨åç«¯ç¼–ç¨‹ä¸­ç»å¸¸ä¼šç”¨åˆ° æœåŠ¡ ( service ), æˆ‘ä¸ªäººçš„ç†è§£æ˜¯ï¼ŒæœåŠ¡å°±æ˜¯å¯é«˜åº¦æŠ½è±¡ä¸”ä¸ä¸šåŠ¡é€»è¾‘è€¦åˆä½çš„ä¸€ç³»åˆ—æ“ä½œã€‚æ¯”å¦‚æ‰€æœ‰åº”ç”¨åœºæ™¯ä¸‹çš„ç™»å½•éƒ½éœ€è¦ä¸€ä¸ªå…¬ç”¨çš„éªŒè¯ç ï¼Œé‚£ä¹ˆç”ŸæˆéªŒè¯ç çš„è¿™ä¸ªåŠŸèƒ½å°±å¯ä»¥æŠ½è±¡æˆä¸ºä¸€ä¸ªæœåŠ¡ï¼ŒæœåŠ¡ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯é€‚å½“å†™æœåŠ¡ä¼šè®©ä»£ç è€¦åˆåº¦é™ä½ï¼Œæ˜¯ä¸€ç§å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚</p><p>æˆªæ­¢åˆ°ç›®å‰ï¼Œæˆ‘ç”¨çš„ ng ä¸­çš„æœåŠ¡ä¸€èˆ¬æ˜¯ç”¨ä½œæŸä¸€ä¸ªæ¨¡å—çš„è¯·æ±‚å°è£…ï¼Œæˆ–è€…æ˜¯æ—¥æœŸçš„ä¸€äº›ç‰¹æ®Šæ“ä½œï¼Œå°±åƒæ˜¯ä¸€ä¸ªå·¥å‚æ–¹æ³•åº“ä¸€æ ·ã€‚</p><h3 id="Rxjs-Oberverable"><a href="#Rxjs-Oberverable" class="headerlink" title="Rxjs ( Oberverable )"></a><strong>Rxjs ( Oberverable )</strong></h3><p>å…³äºå¼‚æ­¥è¯·æ±‚ï¼Œng2 è‡ªå¸¦çš„ http æ¨¡å—è¿”å›çš„å°±æ˜¯ä¸€ä¸ª Oberverable ï¼Œæ‰€ä»¥åœ¨é¡¹ç›®ä¸­å¼•å…¥ Rx.js è‡ªç„¶æ— å¯åšéã€‚å®˜æ–¹è¯„ä»·ä¸º promise çš„è¶…é›†ï¼Œä½¿ç”¨èµ·æ¥çš„ç¡®å’Œ promise å¾ˆåƒï¼Œåº”è¯¥è¯´æ˜¯æ›´åŠ å¼ºå¤§ã€‚ä½†æ˜¯æ­£å› ä¸ºå¼ºå¤§ï¼Œå¯¼è‡´è¦è®°çš„æ–¹æ³•ç¡®å®ä¸å°‘ï¼Œç›´æ¥æˆ³ä¸€ä¸ª<a href="http://cn.rx.js.org/">ä¸­æ–‡ api</a>ã€‚</p><h3 id="ä¾èµ–æ³¨å…¥-ï¼ˆ-injectable-ï¼‰"><a href="#ä¾èµ–æ³¨å…¥-ï¼ˆ-injectable-ï¼‰" class="headerlink" title="ä¾èµ–æ³¨å…¥ ï¼ˆ injectable ï¼‰"></a><strong>ä¾èµ–æ³¨å…¥ ï¼ˆ injectable ï¼‰</strong></h3><p>ä¾èµ–æ³¨å…¥å…¶å®ä¹‹å‰ä¹Ÿæ¥è§¦è¿‡ä¸€äº›ï¼Œ ä¾èµ–æ³¨å…¥çš„ç›®çš„åœ¨æˆ‘çœ‹æ¥æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯é™ä½ç¨‹åºé—´çš„è€¦åˆæ€§å’Œå¤æ‚åº¦ï¼Œä¸€ä¸ªæ˜¯å‡å°‘å¤æ‚å¯¹è±¡å®ä¾‹åŒ–å¸¦æ¥çš„æ‰©å±•é—®é¢˜ã€‚</p><p>å…³äºä¾èµ–æ³¨å…¥ï¼Œè¿™é‡Œæœ‰ä¸¤ç¯‡ä¸é”™çš„å¯ä»¥ç”¨æ¥ç†è§£çš„æ–‡ç« ï¼ˆéƒ½æ˜¯åŸºäº java ï¼‰ï¼š</p><ul><li><a href="https://www.cnblogs.com/xxzhuang/p/5948902.html">spring ä¸­çš„æ§åˆ¶åè½¬å’Œä¾èµ–æ³¨å…¥</a></li><li><a href="http://blog.csdn.net/bestone0213/article/details/47424255">ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬</a></li></ul><p>å½“ç„¶ ng ä¸­çš„ä¾èµ–å‡ºå…¥ä¹Ÿå·®ä¸å¤šï¼Œè€Œä¸”å®ç°æ–¹å¼ä¹Ÿæ›´ä¼˜é›…ï¼Œä¸œè¥¿æŒºå¤šï¼Œå¯ä»¥çœ‹<a href="https://angular.cn/guide/dependency-injection#%E9%85%8D%E7%BD%AE%E6%B3%A8%E5%85%A5%E5%99%A8">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><p>å…¶å®ä¹Ÿæ˜¯åˆšæ¥è§¦ angularv2 ä¸ä¹…ï¼Œè‡ªå·±ä¹Ÿåªæ˜¯ç»“åˆè¿‡å»çš„çŸ¥è¯†å¯¹è‡ªå·±è®¤ä¸ºçš„ ng2 åšäº†ä¸€ä¸ªæ€»ç»“ï¼Œè®¤è¯†è¿˜æ˜¯æ¯”è¾ƒç²—é„™çš„ï¼Œè¡Œæ–‡ä¹Ÿæ¯”è¾ƒä¹±ã€‚</p><p>å†™åšå®¢æ€»ç»“çš„è¿™ä¸ªä¹ æƒ¯ï¼Œå¸Œæœ›è‡ªå·±å¯ä»¥ç»§ç»­åšæŒä¸‹å»ï¼Œå³ä½¿åªæœ‰è‡ªå·±çœ‹ï¼Œhahahâ€¦â€¦</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> angular </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºgitï¼šä½ åº”è¯¥çŸ¥é“çš„æ“ä½œ</title>
      <link href="/2018/01/23/"/>
      <url>/2018/01/23/</url>
      
        <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fnqmycqqxhj20xc0hi0tb.jpg"></p><h1 id="å…³äº-git-ä½ åº”è¯¥çŸ¥é“çš„æ“ä½œ"><a href="#å…³äº-git-ä½ åº”è¯¥çŸ¥é“çš„æ“ä½œ" class="headerlink" title="å…³äº git ä½ åº”è¯¥çŸ¥é“çš„æ“ä½œ"></a><strong>å…³äº git ä½ åº”è¯¥çŸ¥é“çš„æ“ä½œ</strong></h1><h2 id="git-çš„ä½¿ç”¨å·¥å…·"><a href="#git-çš„ä½¿ç”¨å·¥å…·" class="headerlink" title="git çš„ä½¿ç”¨å·¥å…·"></a><strong>git çš„ä½¿ç”¨å·¥å…·</strong></h2><p>é¦–å…ˆæœ‰ä¸¤ä¸ª å¯è§†åŒ–å·¥å…·æ¨è ï¼š</p><ul><li><a href="https://www.gitkraken.com/features">gitkraken</a><br>ä¸€ä¸ªæ–°å‡ºçš„å¹¿å—å¥½è¯„çš„git å¯è§†åŒ–å·¥å…·ã€‚æœ‰ä»˜è´¹ã€‚</li><li><a href="https://www.sourcetreeapp.com/">sourcetree</a><br>ä¸€ç›´åœ¨ç”¨ï¼Œå°±æ˜¯æ³¨å†Œéº»çƒ¦ï¼Œéœ€è¦ç¿»å¢™ã€‚å…è´¹ã€‚</li></ul><p>ä¸ªäººåœ¨ç”¨ç¬¬äºŒä¸ªï¼Œsourcetree æ—¥å¸¸ä½¿ç”¨å¯ä»¥è¯´æ˜¯hinæ–¹ä¾¿äº†ã€‚å½“ç„¶ï¼Œä¸æƒ³é¢å¤–ä¸‹è½¯ä»¶çš„è¿˜å¯ä»¥ä½¿ç”¨ vscode å†…ç½®çš„ git ç®¡ç†å·¥å…·ï¼ŒåŒæ ·çš„ä¹Ÿæ˜¯æ£’æ£’çš„ã€‚</p><h3 id="vscode-çš„gitæ’ä»¶"><a href="#vscode-çš„gitæ’ä»¶" class="headerlink" title="vscode çš„gitæ’ä»¶"></a>v<strong>scode çš„gitæ’ä»¶</strong></h3><p>å½“ç„¶æˆ‘ä¹Ÿåœ¨ä½¿ç”¨ vscode ï¼Œé™¤äº† vscode è‡ªå¸¦çš„ git æ”¯æŒï¼Œè¿˜å¯ä»¥å®‰è£…ä»¥ä¸‹çš„æ’ä»¶æ¥æ›´å¥½çš„ä½¿ç”¨gitï¼š</p><ul><li><strong>Git Lens</strong> å®˜æ¨çš„ git æ’ä»¶ï¼Œå‡ ä¹è¯¥æœ‰çš„éƒ½æœ‰äº†ï¼Œæœ€å¼ºå¤§çš„å°±æ˜¯å¯ä»¥æŸ¥çœ‹å…·ä½“ä»£ç çš„å…·ä½“å˜æ›´,å°±åƒä¸‹é¢çš„è¿™æ ·ï¼š<br><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fnqmw9ig2vj210u062jsa.jpg"><br>ä¸Šä¸€ä¸ªè®©æˆ‘æ„Ÿè§‰è¿™ä¹ˆå‰å®³çš„è¿˜æ˜¯ visual studio çš„å†…éƒ¨é›†æˆçš„ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼Œä½†æ˜¯ visual studio å®åœ¨æ˜¯å¤ªå¤§äº†ã€‚ä¸è¿‡è¿™ä¸ªæ’ä»¶ç¾ä¸­ä¸è¶³çš„å°±æ˜¯æŸ¥çœ‹å†å²å®åœ¨æ˜¯å¤ªä¸‘äº†ï¼Œæ‰€ä»¥æœ‰äº†ä¸‹é¢çš„è¿™ä¸ªæ’ä»¶ã€‚</li><li><strong>git history</strong> æ²¡æ¯›ç—…ï¼Œè¿™ä¸ªæ’ä»¶å°±æ˜¯è®©ä½ çš„ æäº¤å†å² å¯ä»¥å¾ˆç›´è§‚çš„å±•ç¤ºå‡ºæ¥ã€‚</li></ul><p>ä¸è¿‡ï¼Œæ— è®ºæ€ä¹ˆè¯´ï¼Œgit åŸç”Ÿå‘½ä»¤è¿˜æ˜¯è¦äº†è§£çš„ï¼Œå¯¹å­¦ä¹ å’Œç†è§£ git çš„å·¥ä½œæœºåˆ¶ä¼šå¾ˆæœ‰å¸®åŠ©ï¼Œå½“ç„¶å¯¹æå‡é€¼æ ¼ä¹Ÿæœ‰æˆæ•ˆã€‚so,ä¸‹é¢çš„éƒ¨åˆ†ä¸»è¦æ˜¯é’ˆå¯¹äº git å‘½ä»¤è¡Œçš„ä¸€äº›å¿«æ·æ“ä½œã€‚</p><h3 id="Macä¸‹ä¸å¯ä»¥ä½¿ç”¨çš„é—®é¢˜"><a href="#Macä¸‹ä¸å¯ä»¥ä½¿ç”¨çš„é—®é¢˜" class="headerlink" title="Macä¸‹ä¸å¯ä»¥ä½¿ç”¨çš„é—®é¢˜"></a><strong>Macä¸‹ä¸å¯ä»¥ä½¿ç”¨çš„é—®é¢˜</strong></h3><p><code>error: xcrun:error invalid actiive ... missing xcrun at ...</code></p><p>å‡ºç°çš„åŸå› æ˜¯ git ä¾èµ–è¿™ä¸ª xcode çš„è¿™ä¸ªå·¥å…·ï¼Œæ‰€ä»¥è¦æ›´æ–°ï¼Œä¸€èˆ¬ä¼šåœ¨æ›´æ–°ç³»ç»Ÿä¹‹åå‡ºç°ã€‚<br>è§£å†³åŠæ³•å°±æ˜¯ï¼š</p><pre><code>sudo xcode-select --install</code></pre><p>ç­‰å¾…å®‰è£…å®Œæˆä¹‹åå°±å¯ä»¥äº†ã€‚</p><h2 id="git-å‘½ä»¤è¡Œçš„ä¸€äº›éªšæ“ä½œ"><a href="#git-å‘½ä»¤è¡Œçš„ä¸€äº›éªšæ“ä½œ" class="headerlink" title="git å‘½ä»¤è¡Œçš„ä¸€äº›éªšæ“ä½œ"></a><strong>git å‘½ä»¤è¡Œçš„ä¸€äº›éªšæ“ä½œ</strong></h2><p>ä¸‹é¢æ€»ç»“ä¸€äº› git å‘½ä»¤ä¸­å¯ä»¥å¿«é€Ÿæé«˜æ•ˆç‡å’Œæå‡å¹¸ç¦åº¦çš„æ“ä½œã€‚</p><h3 id="gité…ç½®åˆ«å"><a href="#gité…ç½®åˆ«å" class="headerlink" title="gité…ç½®åˆ«å"></a><strong>gité…ç½®åˆ«å</strong></h3><p>å¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œä¿®æ”¹å…¨å±€é…ç½®ï¼Œ</p><pre><code>git config --global alias.st statusgit config --global alias.co checkoutgit config --global alias.ci commitgit config --global alias.br branchgit config --global alias.unstage &#39;reset HEAD&#39;git config --global alias.last &#39;log -1&#39;git config --global alias.lg &quot;log --color --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;</code></pre><p>ä¹Ÿå¯ä»¥é€šè¿‡ vim æ›´æ”¹é…ç½®æ–‡ä»¶æ¥æ“ä½œã€‚</p><pre><code>vi ~/.gitconfigsource ~/.gitconfig</code></pre><p>ä¸¤è€…çš„æ•ˆæœæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥é€šè¿‡ <code>git config --list</code> æŸ¥çœ‹æ·»åŠ çš„é…ç½®æ˜¯å¦å­˜åœ¨ã€‚ </p><p>è¯¥éƒ¨åˆ†æ€»ç»“è‡ª <a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/001375234012342f90be1fc4d81446c967bbdc19e7c03d3000">å»–é›ªå³°ï¼šgitâ€”â€”é…ç½®åˆ«å</a>ã€‚</p><h3 id="ï¼ˆè¸©å‘ï¼‰å¸¸ç”¨çš„å›é€€ï¼ˆæ•‘å‘½ï¼‰æ“ä½œ"><a href="#ï¼ˆè¸©å‘ï¼‰å¸¸ç”¨çš„å›é€€ï¼ˆæ•‘å‘½ï¼‰æ“ä½œ" class="headerlink" title="ï¼ˆè¸©å‘ï¼‰å¸¸ç”¨çš„å›é€€ï¼ˆæ•‘å‘½ï¼‰æ“ä½œ"></a><strong>ï¼ˆè¸©å‘ï¼‰å¸¸ç”¨çš„å›é€€ï¼ˆæ•‘å‘½ï¼‰æ“ä½œ</strong></h3><p>å¦‚æœä½ å·²ç»æäº¤åˆ°æš‚å­˜åŒºäº†ï¼Œä½ å¯ä»¥ï¼š</p><ul><li>æ’¤é”€ä¸Šæ¬¡æäº¤<br><code>git reset --hard &#39;æŒ‡å®šçš„è®°å½•&#39;</code></li></ul><p>å¦‚æœä½ æƒ³æ”¾å¼ƒæœ¬åœ°ä¿®æ”¹ï¼Œä½ å¯ä»¥ï¼š</p><ul><li>æ£€å‡ºæœ¬åœ°<br><code>git checkout &#39;branch&#39;</code></li></ul><p>å¦‚æœä½ æƒ³ä¿®æ”¹ä¸Šä¸€æ¬¡çš„æäº¤ä¿¡æ¯ï¼Œä½ å¯ä»¥ï¼š</p><ul><li>ä¿®æ”¹æœ€åçš„ä¸€æ¬¡æäº¤<br><code>git commit --amend</code></li></ul><p>å¦‚æœä½ åœ¨æ’æŸ¥é—®é¢˜çš„æ—¶å€™ï¼Œä½ å¯ä»¥</p><ul><li>ä½¿ç”¨ <code>git fetch</code> æ›¿æ¢ <code>git pull</code>, å› ä¸º<code>git pull = git fetch + merge local</code></li></ul><h3 id="ï¼ˆè¸©å‘ï¼‰git-ä¸Šä¼ æ–‡ä»¶å¿½ç•¥å¤§å°å†™"><a href="#ï¼ˆè¸©å‘ï¼‰git-ä¸Šä¼ æ–‡ä»¶å¿½ç•¥å¤§å°å†™" class="headerlink" title="ï¼ˆè¸©å‘ï¼‰git ä¸Šä¼ æ–‡ä»¶å¿½ç•¥å¤§å°å†™"></a><strong>ï¼ˆè¸©å‘ï¼‰git ä¸Šä¼ æ–‡ä»¶å¿½ç•¥å¤§å°å†™</strong></h3><p>å¥½çš„çº¦å®šå…¶å®æ¯”æŠ€æœ¯æœ¬èº«æ›´é‡è¦ï¼Œæ‰€ä»¥å°½å¯èƒ½ç»Ÿä¸€è§„èŒƒå¤§å°å†™ï¼Œä»è€Œé¿å…ä¿®æ”¹é»˜è®¤çš„é…ç½®ã€‚</p><pre><code>git config core.ignorecase falsegit config --global core.ignorecase false // å…¨å±€è®¾ç½®</code></pre><h3 id="git-comment-æ·»åŠ è§„èŒƒ"><a href="#git-comment-æ·»åŠ è§„èŒƒ" class="headerlink" title="git comment æ·»åŠ è§„èŒƒ"></a><strong>git comment æ·»åŠ è§„èŒƒ</strong></h3><pre><code>featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰fixï¼šä¿®è¡¥bugdocsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰rebuildï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰testï¼šå¢åŠ æµ‹è¯•choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨config: é…ç½®example: git commit -m &quot;[feat] æ–°åŠŸèƒ½&quot;</code></pre><p>æ€»ç»“è‡ª <a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html">é˜®ä¸€å³°ï¼š Commit message å’Œ Change log ç¼–å†™æŒ‡å—</a>ã€‚</p><h3 id="git-comment-æ·»åŠ è¡¨æƒ…"><a href="#git-comment-æ·»åŠ è¡¨æƒ…" class="headerlink" title="git comment æ·»åŠ è¡¨æƒ…"></a><strong>git comment æ·»åŠ è¡¨æƒ…</strong></h3><p>çœ‹åˆ°åˆ«äººçš„comment historyæœ‰é‚£ä¹ˆå¤šçš„å¡å“‡ä¼Šçš„è¡¨æƒ…ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¾¡æ…•ï¼Œç°åœ¨è‡ªå·±ä¹Ÿå¯ä»¥åšåˆ°ã€‚åªéœ€è¦åœ¨commentåŠ å…¥<code>:apple:</code>è¿™æ ·çš„ä»£ç ï¼Œæµ‹è¯•<code>GitHub</code>å’Œ<code>Gitlab</code>æ˜¯å¯ç”¨çš„</p><pre><code>git commit -m &#39;:apple: i have a apple&#39;</code></pre><p><strong>è¡¨æƒ…åˆ—è¡¨å¦‚ä¸‹ï¼š</strong></p><table><thead><tr><th align="left">emoji</th><th align="left">emoji ä»£ç </th><th align="left">commit è¯´æ˜</th></tr></thead><tbody><tr><td align="left">:art: (è°ƒè‰²æ¿)</td><td align="left"><code>:art:</code></td><td align="left">æ”¹è¿›ä»£ç ç»“æ„&#x2F;ä»£ç æ ¼å¼</td></tr><tr><td align="left">:zap: (é—ªç”µ)<br>:racehorse: (èµ›é©¬)</td><td align="left"><code>:zap:</code><br><code>:racehorse:</code></td><td align="left">æå‡æ€§èƒ½</td></tr><tr><td align="left">:fire: (ç«ç„°)</td><td align="left"><code>:fire:</code></td><td align="left">ç§»é™¤ä»£ç æˆ–æ–‡ä»¶</td></tr><tr><td align="left">:bug: (bug)</td><td align="left"><code>:bug:</code></td><td align="left">ä¿®å¤ bug</td></tr><tr><td align="left">:ambulance: (æ€¥æ•‘è½¦)</td><td align="left"><code>:ambulance:</code></td><td align="left">é‡è¦è¡¥ä¸</td></tr><tr><td align="left">:sparkles: (ç«èŠ±)</td><td align="left"><code>:sparkles:</code></td><td align="left">å¼•å…¥æ–°åŠŸèƒ½</td></tr><tr><td align="left">:memo: (å¤‡å¿˜å½•)</td><td align="left"><code>:memo:</code></td><td align="left">æ’°å†™æ–‡æ¡£</td></tr><tr><td align="left">:rocket: (ç«ç®­)</td><td align="left"><code>:rocket:</code></td><td align="left">éƒ¨ç½²åŠŸèƒ½</td></tr><tr><td align="left">:lipstick: (å£çº¢)</td><td align="left"><code>:lipstick:</code></td><td align="left">æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶</td></tr><tr><td align="left">:tada: (åº†ç¥)</td><td align="left"><code>:tada:</code></td><td align="left">åˆæ¬¡æäº¤</td></tr><tr><td align="left">:white_check_mark: (ç™½è‰²å¤é€‰æ¡†)</td><td align="left"><code>:white_check_mark:</code></td><td align="left">å¢åŠ æµ‹è¯•</td></tr><tr><td align="left">:lock: (é”)</td><td align="left"><code>:lock:</code></td><td align="left">ä¿®å¤å®‰å…¨é—®é¢˜</td></tr><tr><td align="left">:apple: (è‹¹æœ)</td><td align="left"><code>:apple:</code></td><td align="left">ä¿®å¤ macOS ä¸‹çš„é—®é¢˜</td></tr><tr><td align="left">:penguin: (ä¼é¹…)</td><td align="left"><code>:penguin:</code></td><td align="left">ä¿®å¤ Linux ä¸‹çš„é—®é¢˜</td></tr><tr><td align="left">:checkered_flag: (æ——å¸œ)</td><td align="left"><code>:checked_flag:</code></td><td align="left">ä¿®å¤ Windows ä¸‹çš„é—®é¢˜</td></tr><tr><td align="left">:bookmark: (ä¹¦ç­¾)</td><td align="left"><code>:bookmark:</code></td><td align="left">å‘è¡Œ&#x2F;ç‰ˆæœ¬æ ‡ç­¾</td></tr><tr><td align="left">:rotating_light: (è­¦è½¦ç¯)</td><td align="left"><code>:rotating_light:</code></td><td align="left">ç§»é™¤ linter è­¦å‘Š</td></tr><tr><td align="left">:construction: (æ–½å·¥)</td><td align="left"><code>:construction:</code></td><td align="left">å·¥ä½œè¿›è¡Œä¸­</td></tr><tr><td align="left">:green_heart: (ç»¿å¿ƒ)</td><td align="left"><code>:green_heart:</code></td><td align="left">ä¿®å¤ CI æ„å»ºé—®é¢˜</td></tr><tr><td align="left">:arrow_down: (ä¸‹é™ç®­å¤´)</td><td align="left"><code>:arrow_down:</code></td><td align="left">é™çº§ä¾èµ–</td></tr><tr><td align="left">:arrow_up: (ä¸Šå‡ç®­å¤´)</td><td align="left"><code>:arrow_up:</code></td><td align="left">å‡çº§ä¾èµ–</td></tr><tr><td align="left">:construction_worker: (å·¥äºº)</td><td align="left"><code>:construction_worker:</code></td><td align="left">æ·»åŠ  CI æ„å»ºç³»ç»Ÿ</td></tr><tr><td align="left">:chart_with_upwards_trend: (ä¸Šå‡è¶‹åŠ¿å›¾)</td><td align="left"><code>:chart_with_upwards_trend:</code></td><td align="left">æ·»åŠ åˆ†ææˆ–è·Ÿè¸ªä»£ç </td></tr><tr><td align="left">:hammer: (é”¤å­)</td><td align="left"><code>:hammer:</code></td><td align="left">é‡å¤§é‡æ„</td></tr><tr><td align="left">:heavy_minus_sign: (å‡å·)</td><td align="left"><code>:heavy_minus_sign:</code></td><td align="left">å‡å°‘ä¸€ä¸ªä¾èµ–</td></tr><tr><td align="left">:whale: (é²¸é±¼)</td><td align="left"><code>:whale:</code></td><td align="left">Docker ç›¸å…³å·¥ä½œ</td></tr><tr><td align="left">:heavy_plus_sign: (åŠ å·)</td><td align="left"><code>:heavy_plus_sign:</code></td><td align="left">å¢åŠ ä¸€ä¸ªä¾èµ–</td></tr><tr><td align="left">:wrench: (æ‰³æ‰‹)</td><td align="left"><code>:wrench:</code></td><td align="left">ä¿®æ”¹é…ç½®æ–‡ä»¶</td></tr><tr><td align="left">:globe_with_meridians: (åœ°çƒ)</td><td align="left"><code>:globe_with_meridians:</code></td><td align="left">å›½é™…åŒ–ä¸æœ¬åœ°åŒ–</td></tr><tr><td align="left">:pencil2: (é“…ç¬”)</td><td align="left"><code>:pencil2:</code></td><td align="left">ä¿®å¤ typo</td></tr></tbody></table><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a><strong>å†™åœ¨æœ€å</strong></h2><p>éªšæ“ä½œé‚£ä¹ˆå¤šï¼Œè‚¯å®šä¸æ­¢ä¸Šé¢é‚£äº›ï¼Œæ‰€ä»¥æœ¬æ–‡è¿˜æ˜¯ä¼šæŒç»­æ›´æ–°çš„ã€‚</p><p>æœ€åï¼Œå¸Œæœ›ä½ å’Œ git è¿‡çš„å¹¸ç¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git å¤§å°å†™é—®é¢˜è¸©å‘ç¬”è®°</title>
      <link href="/2018/01/23/"/>
      <url>/2018/01/23/</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äº-git-å¤§å°å†™é—®é¢˜çš„è§£å†³åŠæ³•"><a href="#å…³äº-git-å¤§å°å†™é—®é¢˜çš„è§£å†³åŠæ³•" class="headerlink" title="å…³äº git å¤§å°å†™é—®é¢˜çš„è§£å†³åŠæ³•"></a><strong>å…³äº git å¤§å°å†™é—®é¢˜çš„è§£å†³åŠæ³•</strong></h2><h3 id="å†™åœ¨å‰é¢ï¼š"><a href="#å†™åœ¨å‰é¢ï¼š" class="headerlink" title="å†™åœ¨å‰é¢ï¼š"></a><strong>å†™åœ¨å‰é¢ï¼š</strong></h3><p>æœ€è¿‘ï¼Œåœ¨é¡¹ç›®éƒ¨ç½²çš„æ—¶å€™ï¼Œæ€»æ˜¯é‡åˆ°ä¸€äº›å¾ˆçµå¼‚çš„é—®é¢˜ï¼Œæ¯”å¦‚åœ¨ merge æ²¡æœ‰æŠ¥é”™çš„æƒ…å†µä¸‹ï¼Œæ–‡ä»¶æ²¡æœ‰æ›´æ–°ï¼Œ ç‰¹æ®Šçš„æ–‡ä»¶çªç„¶è¢«è¿˜åŸè‡³ä¹‹å‰çš„æŸä¸ªç‰ˆæœ¬â€¦â€¦æœ€åå‘ç°é—®é¢˜æ‰€åœ¨ï¼Œæ˜¯ä¹‹å‰çš„ä¸€æ¬¡ <strong>æ–‡ä»¶åå¤§å°å†™</strong> å¼•èµ·çš„é—®é¢˜ã€‚è§£å†³è¿‡ç¨‹å…¶å®è¿˜æ˜¯æŒºç³Ÿå¿ƒçš„ï¼ˆè‡ªå·±åŸ‹çš„å‘è¦è‡ªå·±å¡«â€¦â€¦ï¼‰ï¼Œæ·±åˆ»ä½“ä¼šåˆ°å¥½çš„è§„èŒƒæ¯”å¥½çš„æŠ€æœ¯å…¶å®æ›´é‡è¦ã€‚åŒæ—¶ä¹Ÿè§‰å¾—ï¼Œæœ‰å¿…è¦è®°å½•ä¸€ä¸‹ï¼Œè°¨é˜²ä¸‹æ¬¡æ‰è¿›å»ã€‚</p><h3 id="é—®é¢˜å¤ç°"><a href="#é—®é¢˜å¤ç°" class="headerlink" title="é—®é¢˜å¤ç°:"></a><strong>é—®é¢˜å¤ç°:</strong></h3><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fnq9h4oitzj21si0rswmo.jpg"></p><ol><li>æ–°å»ºä¸€ä¸ª <strong>a.js</strong> æ–‡ä»¶(å¤§å°å†™ä¸æ•æ„Ÿçš„çŠ¶æ€ä¸‹)ï¼Œå¹¶æäº¤</li><li>ä¿®æ”¹æœ¬åœ° <strong>a.js</strong> å˜ä¸º <strong>A.js</strong>ï¼Œæ–‡ä»¶å†…å®¹æ— å˜æ›´ï¼Œæ— æ³•æäº¤</li><li>æ‰§è¡Œ<code>git config core.ignorecase false</code>ï¼Œä¿®æ”¹ å¤§å°å†™æ•æ„Ÿ è§„åˆ™ï¼Œç„¶åæäº¤ï¼ŒæŸ¥çœ‹ç»“æœï¼Œæ­¤æ—¶ä¼šå­˜åœ¨ å¤§å°å†™ åŒæ—¶å­˜åœ¨çš„æ–‡ä»¶</li><li>æ­¤æ—¶æŸç§æœºç¼˜ä¸‹ï¼Œå†æ¬¡æ‰§è¡Œ <code>git config core.ignorecase true</code>ï¼Œå¤§å°å†™ä¸æ•æ„Ÿï¼Œ</li><li>æ­¤æ—¶æ‰§è¡Œ <code>git push</code> ï¼Œ å³æŠŠæœ€æ–°çš„æ›´æ–°éƒ½æ›´æ–°åˆ°äº† <strong>a.js</strong> ä¸­</li><li>æ­¤æ—¶å†ä¿®æ”¹ å¤§å°å†™æ•æ„Ÿè§„åˆ™ä¸ºæ•æ„Ÿï¼Œ æ‰§è¡Œ <code>git pull</code> ï¼Œå¹¶ä¸ä¼šæ‹¿åˆ°æœ€æ–°çš„æ›´æ–°ã€‚æ¯”å¦‚è‡ªå·±æƒ³è¦çš„æ˜¯ç¬¬ä¸€æ¬¡ä¿®æ”¹åçš„ A.js ï¼Œä½†æ˜¯æœåŠ¡å™¨æœ‰ä¸€ä¸ªæ²¡æœ‰æ›´æ–°çš„ <strong>A.js</strong> å’Œ æœ‰æ›´æ–°çš„ <strong>a.js</strong>,è€Œä½ åªèƒ½æ‹¿åˆ°å‰è€…ï¼Œæ‰€ä»¥å°±ä¼šé‡åˆ°å„ç§å„æ ·çš„å‘â€¦â€¦</li></ol><h3 id="è§£å†³åŠæ³•ï¼š"><a href="#è§£å†³åŠæ³•ï¼š" class="headerlink" title="è§£å†³åŠæ³•ï¼š"></a><strong>è§£å†³åŠæ³•ï¼š</strong></h3><p>æ‰§è¡Œ<code>git config --global core.ignorecase false</code>ï¼Œå…¨å±€è®¾ç½® <strong>å¤§å°å†™æ•æ„Ÿ</strong> ã€‚</p><h4 id="1-æ–‡ä»¶å˜æ›´æ¯”è¾ƒå°‘çš„æƒ…å†µ"><a href="#1-æ–‡ä»¶å˜æ›´æ¯”è¾ƒå°‘çš„æƒ…å†µ" class="headerlink" title="1. æ–‡ä»¶å˜æ›´æ¯”è¾ƒå°‘çš„æƒ…å†µ"></a><strong>1. æ–‡ä»¶å˜æ›´æ¯”è¾ƒå°‘çš„æƒ…å†µ</strong></h4><p>ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡å‘½åæ–‡ä»¶ï¼Œåœ¨ git ä¸­ä¸è¦ç›´æ¥ä¿®æ”¹æ–‡ä»¶åï¼Œæœ€å¥½çš„åŠæ³•æ˜¯ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼Œ</p><pre><code>git mv -f [ä½ æƒ³è¦åˆ æ‰çš„æ–‡ä»¶] [ä½ æƒ³è¦ç•™ä¸‹çš„æ–‡ä»¶]git mv -f a.js A.jsç­‰åŒäºï¼šgit rm a.jsgit add A.js</code></pre><p>è¿™ä¸ªå‘½ä»¤çš„ç›®çš„å°±æ˜¯åˆ é™¤ä¸éœ€è¦çš„å¤§å°å†™åŒåæ–‡ä»¶ï¼Œä¿®æ”¹å <code>git push</code> æäº¤å˜æ›´å³å¯ã€‚</p><p><strong>tips:</strong> </p><p>å› ä¸º git é»˜è®¤å¤§å°å†™ä¸æ•æ„Ÿï¼Œæ‰€ä»¥æœ€å¥½æ·»åŠ é¡¹ç›®é…ç½®æ–‡ä»¶,è®¾ç½® <strong>å¤§å°å†™æ•æ„Ÿ</strong>ã€‚</p><pre><code>touch .gitconfiggit config core.ignorecase false</code></pre><h4 id="2-å˜æ›´æ¯”è¾ƒå¤šï¼Œå¹¶ä¸”æ‹¥æœ‰åˆ†æ”¯è¾ƒé«˜æƒé™"><a href="#2-å˜æ›´æ¯”è¾ƒå¤šï¼Œå¹¶ä¸”æ‹¥æœ‰åˆ†æ”¯è¾ƒé«˜æƒé™" class="headerlink" title="2. å˜æ›´æ¯”è¾ƒå¤šï¼Œå¹¶ä¸”æ‹¥æœ‰åˆ†æ”¯è¾ƒé«˜æƒé™"></a><strong>2. å˜æ›´æ¯”è¾ƒå¤šï¼Œå¹¶ä¸”æ‹¥æœ‰åˆ†æ”¯è¾ƒé«˜æƒé™</strong></h4><ul><li>åœ¨ github åˆ é™¤è¯¥åˆ†æ”¯</li><li>æœ¬åœ°æ‰§è¡Œ <code>git rm -r --cached</code> . (æ³¨æ„åé¢â€˜ç‚¹å·â€™)</li><li>ç„¶åé‡æ–° <code>git push</code>ï¼Œå°±okäº†</li></ul><p>æ­¤æ³•ä¸å¤ªå¥½ï¼Œæœ‰ç‚¹æš´åŠ›ï¼Œå®¹æ˜“å‡ºé—®é¢˜ï¼Œä½†é€‚ç”¨äº å˜æ›´å‘ç”Ÿäºè¿‘æœŸçš„æƒ…å†µã€‚</p><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a><strong>æ€»ç»“ï¼š</strong></h3><p>å…¶å®çœ‹è§£å†³åŠæ³•çš„è¯ï¼Œåªæ˜¯ä¸€ä¸ªå¾ˆå°çš„é—®é¢˜ï¼Œä½†æ˜¯å‡ºç°çš„ bug ç¡®å®æ˜¯è®©äººå¾ˆå¤´ç–¼çš„ï¼Œå› ä¸º mac windows åœ¨ä¸è®¾ç½®å¤§å°å†™æ•æ„Ÿè§„åˆ™çš„æ—¶å€™é»˜è®¤å¤§å°å†™æ˜¯ä¸æ•æ„Ÿï¼Œé¡¹ç›®éƒ¨ç½²çš„æœºå™¨æ˜¯ Linux çš„ï¼Œè€Œ Linux æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚æ‰€ä»¥è¿™æ ·çš„é—®é¢˜å¹³æ—¶ä¸æ˜“å‘ç°ï¼Œæœ¬åœ°è°ƒè¯•çš„æ—¶å€™å¤§éƒ¨åˆ†æ—¶å€™å¹¶ä¸ä¼šå‡ºé”™è¯¯ï¼Œåªæœ‰åœ¨é¡¹ç›®éƒ¨ç½²çš„æ—¶å€™é—®é¢˜æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>è‡³æ­¤ï¼Œç»ˆäºå¡«äº†ä¸€ä¸ªä¸è¯¥è¸©çš„å‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> è¸©å‘ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘ç”Ÿç—…çš„ä¸€æ¬¡ç»å†</title>
      <link href="/2018/01/18/"/>
      <url>/2018/01/18/</url>
      
        <content type="html"><![CDATA[<p>ä¸­åˆåˆ·çŸ¥ä¹ä¸ç»æ„çœ‹åˆ°ä¸¤ä¸ªæ¨é€çš„é—®é¢˜ï¼Ÿ</p><ul><li><a href="https://www.zhihu.com/question/22213153">å¹´è½»æ—¶å¾—äº†ç»ç—‡æˆ–è€…å¤§ç—…æ˜¯ç§æ€æ ·çš„ä½“éªŒï¼Ÿ</a></li><li><a href="https://www.zhihu.com/question/264229537">æœ‰å“ªäº›è®©ä½ æ„Ÿè§‰å¾ˆç—›çš„å¥å­ï¼Ÿ</a></li></ul><p>äº‹å®ä¸Šï¼Œæˆ‘åªçœ‹äº†å‡ ä¸ªå›ç­”ï¼Œå°±ä¸æ•¢å†çœ‹ä¸‹å»äº†â€¦â€¦</p><p>æˆ‘ä¹Ÿæ­£åœ¨å¹´è½»æ—¶ï¼Œä¸è¿‡æˆ‘ä¸æ˜¯å¾—çš„å¤§ç—…ï¼ˆå·²ç—Šæ„ˆï¼‰ï¼Œæˆ–è€…è¯´ç°åœ¨çœ‹æ¥æ ¹æœ¬ä¸ç®—æ˜¯ä»€ä¹ˆå¤§ç—…ï¼Œä½†æ˜¯ç­”ä¸»æ‰€ç»å†çš„ç§ç§ï¼Œæˆ‘æˆ–è®¸ä¹Ÿæ˜¯å¯ä»¥æ„ŸåŒèº«å—ã€‚</p><p>2016å¹´7æœˆï¼Œæ˜¯æˆ‘æ¯•ä¸šåçš„ç¬¬ä¸€ä¸ªæš‘å‡ã€‚æˆ‘åœ¨æ·±åœ³çš„ä¸€å®¶å…¬å¸åšç€ä¸€åç¨‹åºå‘˜å°ç™½çš„å·¥ä½œï¼Œå¯¹é‚£ä¸ªæ—¶å€™çš„å”¯ä¸€å°è±¡å¤§æ¦‚å°±æ˜¯ï¼šæ·±åœ³çš„å¤å¤©æ¯”æˆ‘å¾…è¿‡çš„åœ°æ–¹éƒ½çƒ­è®¸å¤šã€‚è¿›å…¥å…¬å¸ä¼šéœ€è¦ä¸€äº›ææ–™ï¼Œæ¯”å¦‚è¯´å…¥èŒä½“æ£€ã€‚è€Œæˆ‘çš„å™©æ¢¦å°±æ˜¯ä»å…¥èŒä½“æ£€å¼€å§‹çš„ã€‚</p><p>æˆ‘æ¥åˆ°äº†ä½æ‰€é™„è¿‘çš„ä¸€å®¶åŒ»é™¢ï¼Œå¤©æ°”å¾ˆçƒ­ï¼Œå› ä¸ºæ˜¯å‘¨æœ«ï¼Œæ¥åšä½“æ£€çš„äººä¹Ÿå¾ˆå¤šã€‚å› ä¸ºæƒ³åˆ°åšå®Œè¿™ä¸ªä½“æ£€å°±å¯ä»¥æˆä¸ºæ­£å¼çš„ç¤¾ä¼šäººäº†ï¼Œå…¶å®å¿ƒé‡Œè‡ªç„¶ä¼šæœ‰ç‚¹å°æœŸè®¸ã€‚</p><p>æ’é˜Ÿï¼Œç¼´è´¹ï¼ŒæŠ½è¡€ï¼Œæµ‹è¡€å‹ä¸€ç³»åˆ—æµç¨‹ä¸‹æ¥ï¼Œå‰©ä¸‹çš„å°±æ˜¯å»åšèƒ¸é€äº†ã€‚</p><p>æˆ‘åƒä¹‹å‰ä¸€æ ·å¹³é™çš„ç«™åˆ°æœºå™¨æ—ï¼Œå½“æˆ‘å¬åˆ°åŒ»ç”ŸæŒ‡ç¤ºå‡†å¤‡èµ°çš„æ—¶å€™ï¼ŒåŒ»ç”Ÿç¤ºæ„æˆ‘ä¸è¦èµ°ï¼Œè®©æˆ‘è„±æ‰è¡£æœå†æ£€æµ‹ä¸€æ¬¡ã€‚</p><p>å¥½å‘—ï¼Œè„±å°±è„±å˜›ï¼Œåæ­£ä¹Ÿæ˜¯å¤å¤©ã€‚æˆ‘è¿™ä¹ˆå®‰æ…°è‡ªå·±ï¼Œå¹¶æ²¡æœ‰è§‰å¾—ååˆ†ä¸å¦¥ã€‚</p><p>å½“æˆ‘å†æ¬¡å¬åˆ°åŒ»ç”Ÿç¤ºæ„èµ°å‡ºèƒ¸é€å®¤ï¼ŒåŒ»ç”Ÿæ‹¦ä½æˆ‘ï¼šå°ä¼™å­ï¼Œä½ è¿™ä¸ªæˆ‘çœ‹ä¸æ¸…ï¼Œè¿™ä¸ªæœºå™¨ä¸æ¸…æ™°ï¼Œæˆ‘ç»™ä½ å¼€å¼ å•å­ï¼Œä½ å†å»åšä¸ªCTç»™æˆ‘æ¥çœ‹çœ‹å§ã€‚</p><p>æˆ‘èƒ¸è¿™é‡Œæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿæˆ‘æœ‰äº›ä¸å®‰çš„æƒ…ç»ªã€‚</p><p>æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæœ‰äº›å°é˜´å½±ï¼Œæœºå™¨çœ‹ä¸æ¸…ï¼Œæ‰€ä»¥å«ä½ åšä¸ªæ¸…æ™°çš„ï¼Œå¿«å»å§ã€‚åŒ»ç”Ÿå®å˜±æˆ‘ã€‚</p><p>å…¶å®åˆ°è¿™æ—¶ï¼Œè™½ç„¶æˆ‘æœ‰ç‚¹ä¸å®‰ï¼Œä½†æˆ‘è¿˜æ˜¯ä¹è§‚çš„ã€‚æˆ‘ä¹Ÿå°±å±é¢ å±é¢ çš„å»äº†ã€‚åšCTä¸ä¼¼åšèƒ¸é€ï¼Œ1åˆ†é’Ÿ1ä¸ªä¸‹é¥ºå­ä¸€æ ·ï¼ŒåšCTçš„è¯è¦ç­‰å¾…å¾ˆä¹…ï¼ŒåŠä¸ªå°æ—¶åˆ°1ä¸ªå°æ—¶ä¹‹é—´ã€‚å› ä¸ºæ˜¯ä¸­åˆï¼Œæˆ‘ä¹Ÿé¡¾ä¸ä¸Šåƒé¥­ï¼Œå°±åœ¨ç­‰å¾…å®¤ç­‰å¾…ç»“æœã€‚</p><p>ç¨‹é¹é£ï¼Œç¨‹é¹é£åœ¨å—ï¼Œè¿‡æ¥å¡«å¼ å•å­ã€‚ä¸€ä¸ªæŠ¤å£«æ‰¯ç€å—“å­å–Šã€‚</p><p>è¿™å„¿ï¼Œæˆ‘å›åº”ç€è·‘è¿‡å»ã€‚</p><p>å› ä¸ºä¹‹å‰ä¹Ÿæœ‰ç—…äººæ‹¿åˆ°è‡ªå·±çš„æ£€æŸ¥æŠ¥å‘Šï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è§éœ€è¦å†™ä»€ä¹ˆå•å­ã€‚ä½†æˆ‘çœ‹åˆ°å•å­çš„æŠ¬å¤´çš„æ—¶å€™ï¼Œè„‘è¢‹å“„çš„ä¸€ä¸‹ã€‚</p><p>è‚ºç»“æ ¸ç¡®è®¤å•</p><p>æˆ‘åœ¨è„‘è¢‹é‡Œé£é€Ÿçš„æœç´¢ç€è¿™ä¸ªå­—çœ¼ï¼Œä½†æ¯ä¸ªå›å¿†éƒ½å‘Šè¯‰æˆ‘è¿™ä¸ªç—…ä¸ç®€å•ï¼Œç”šè‡³ï¼Œä¼šå¤±å»ç”Ÿå‘½ã€‚</p><p>åŒ»ç”Ÿè¿˜åœ¨æ—è¾¹å‚¬ä¿ƒç€æˆ‘å¡«å•å­ï¼Œéšä¾¿å¡«å†™äº†è‡ªå·±çš„ä½å€ï¼Œç”µè¯ï¼Œæ¥è¿‡æŠ¤å£«é€’æ¥çš„è½¬é™¢è¯æ˜ä»€ä¹ˆçš„ï¼Œé™é™çš„æ‰¾åˆ°ä¸€ä¸ªæ¤…å­åä¸‹ã€‚</p><p>æˆ‘æƒ³ï¼Œé‚£å¤§æ¦‚æ˜¯æˆ‘æ‰€ç»å†è¿‡çš„æœ€éš¾ç†¬çš„æ—¶åˆ»ã€‚æˆ‘ä¾æ—§å¯ä»¥å›æƒ³èµ·æ¥å½“æ—¶çš„æ„Ÿå—ã€‚æˆ‘è®°å¾—ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯æ­»äº¡ï¼Œæˆ‘æ²¡æœ‰å»ç™¾åº¦è¿™ä¸ªç—…ï¼Œä½†æ˜¯æˆ‘å…ˆæƒ³åˆ°äº†ä¸€ä¸ªäººç¦»å¼€ã€‚æˆ‘æƒ³åˆ°äº†ï¼Œå¦‚æœè¿™ä¸ªç—…ä¸¥é‡æˆ‘å°±è‡ªæ€ï¼Œç»å¯¹ä¸åšåˆ«äººçš„ç´¯èµ˜ã€‚æˆ‘æƒ³åˆ°äº†ï¼Œè¿™ä¸ªç—…æ˜¯ä¼ æŸ“ç—…ï¼Œä»¥åè¿˜ä¼šä¸äººæ„¿æ„å’Œæˆ‘åšæœ‹å‹å—ã€‚æˆ‘æƒ³åˆ°äº†ï¼Œè¿˜åœ¨å¼‚åœ°çš„å¥³å‹ï¼ˆç°åœ¨å·²ç»ä¸æ˜¯äº†ï¼‰ï¼Œæ˜¯æ—¶å€™ç¦»å¼€å¥¹äº†ã€‚</p><p>å½“æˆ‘æŠŠæ‰€æœ‰çš„å¯èƒ½éƒ½æƒ³äº†ä¸€éçš„æ—¶å€™ï¼Œæˆ‘å·²ç»åäº†åŠä¸ªå°æ—¶å·¦å³äº†ï¼Œå¾®ä¿¡çš„æ¶ˆæ¯è¿˜åœ¨æç¤ºï¼Œæˆ‘æŠŠç»“æœå‘Šè¯‰äº†å¥³å‹ã€‚</p><p>å¥³å‹çš„ç”µè¯æ‰“äº†è¿‡æ¥ã€‚å·²ç»å“½å’½çš„æˆ‘å†ä¹Ÿå¿ä¸ä½ï¼Œæ˜¯çš„ï¼Œæˆ‘æƒ³ä¸å¤Ÿåšå¼ºï¼Œå³ä½¿å†æ¥ä¸€æ¬¡ï¼Œæˆ‘åº”è¯¥è¿˜æ˜¯ä¸å¤Ÿåšå¼ºã€‚å¥³å‹å‘Šè¯‰æˆ‘å¥¹æœç´¢çš„ç­”æ¡ˆï¼Œä¸ä¼šæ­»çš„ï¼Œå¯ä»¥æ²»æ„ˆçš„ç§ç§ã€‚</p><p>æˆ‘æƒ³ï¼Œå½“æ—¶çš„æˆ‘ï¼Œå¤§æ¦‚ç”¨äº†ä¸€ä¸ªå°æ—¶æ‰è®©è‡ªå·±æ¥å—ç°å®ã€‚</p><p>åæ¥çš„äº‹æƒ…å°±å¾ˆç®€å•äº†ï¼Œè½¬äº†åŒ»é™¢åœ¨è¿›è¡Œäº†åŠä¸ªæœˆçš„ç‚ç—‡æ²»ç–—å‘ç°æ²¡æœ‰ä½œç”¨çš„æ—¶å€™ï¼Œç¡®è¯Šæ˜¯è‚ºç»“æ ¸ã€‚</p><p>çš„ç¡®å¦‚å¥³å‹æ‰€è¯´ï¼Œå¹¶ä¸ä¼šæ­»ï¼Œå¯ä»¥æ²»æ„ˆï¼Œå¦å¤–ï¼Œæˆ‘ä¸å…·æœ‰ä¼ æŸ“æ€§ã€‚</p><p>ç„¶åå°±æ˜¯é•¿æ—¶é—´çš„æœè¯æ²»ç–—äº†ï¼Œæ¯å¤©è¦åƒä¸ºå‚æš®çš„è€äººä¸€æ ·åƒå„ç§å¢å¼ºå…ç–«åŠ›çš„è¯ã€‚æ¯ä¸ªæœˆå›åŒ»é™¢æ¥å—åŒ»ç”Ÿçš„å¤æŸ¥ã€‚</p><p>å¹¸å¥½ï¼Œéƒ½æŒºè¿‡æ¥äº†ã€‚</p><p>è¿™æ˜¯æˆ‘æœ€æ·±åˆ»çš„ä¸€æ¬¡â€œå¤§ç—…â€ï¼Œå½“ç„¶åæ¥ä¹Ÿæœ‰ç”Ÿç—…ï¼Œç”šè‡³è‚ºç»“æ ¸åº·å¤çš„ç¬¬äºŒå¹´è¿˜å»åŒ»é™¢ä½äº†åŠä¸ªæœˆï¼Œä½†éƒ½æ²¡æœ‰è¿™æ¬¡çš„å°è±¡æ·±åˆ»ã€‚</p><p>æˆ‘æ‰€å­¦ä¹ åˆ°ï¼Œæˆ–è€…è¯´æ˜¯ä½“ä¼šåˆ°çš„æ˜¯ç”Ÿå‘½ï¼Œå¥åº·è¿™ä¸œè¥¿ï¼Œæˆ‘ä»¬æ— æ³•æŒæ¡ï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•ä¿è¯åšå¼ºã€‚ä½†è¿˜å¥½ï¼Œç”Ÿå‘½ä¸€ç›´ç»§ç»­ï¼Œæ— è®ºå¤šè‹¦å¤šéš¾ï¼Œæˆ‘ä»¬ä¹Ÿä¸€ç›´å­¦ç€åšå¼ºã€‚ä½ è‹¥å¯¹ç”Ÿå‘½ä¿ç•™ç€æ•¬ç•ä¹‹å¿ƒï¼Œç”Ÿå‘½è‡ªç„¶ä¹Ÿä¼šå–„å¾…ä½ ã€‚</p><p>æœ€å</p><p>å¸Œæœ›æœªæ¥æ²¡æœ‰ç–¾ç—…ï¼Œå¸Œæœ›å¤§å®¶è¶³å¤Ÿåšå¼ºã€‚</p><p>â€“å†™è‡ª 2017å¹´12æœˆ25æ—¥ ï¼Œä¸€ä¸ªè„–å­å¾ˆç–¼çš„æ­£åˆ</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸å°æ„Ÿ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JS å‚æ•°æ ¡éªŒ: Joi å››é—®</title>
      <link href="/2018/01/11/"/>
      <url>/2018/01/11/</url>
      
        <content type="html"><![CDATA[<h2 id="JS-å‚æ•°éªŒè¯ï¼š-Joi-å››é—®"><a href="#JS-å‚æ•°éªŒè¯ï¼š-Joi-å››é—®" class="headerlink" title="**JS å‚æ•°éªŒè¯ï¼š Joi å››é—® **"></a>**JS å‚æ•°éªŒè¯ï¼š Joi å››é—® **</h2><p>ä»¥ä¸‹å†…å®¹å‡å¯åœ¨<a href="https://github.com/hapijs/joi/blob/v13.1.0/README.md">Joiå®˜æ–¹åœ°å€</a>å‚è€ƒï¼ˆæ–‡æ¡£ç•¥é•¿ï¼Œè‹±æ–‡ï¼‰ï¼Œæœ¬æ–‡ä»…ä¸ºä¸ªäººæ€»ç»“çš„å‡ ä¸ªå°ç–‘é—®ã€‚</p><h3 id="1-å®šä¹‰-schema-æ—¶-Joi-object-keys-å’Œ-Joi-object-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#1-å®šä¹‰-schema-æ—¶-Joi-object-keys-å’Œ-Joi-object-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="1. å®šä¹‰ schema æ—¶ Joi.object.keys() å’Œ Joi.object() æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>1. å®šä¹‰ <strong>schema</strong> æ—¶ <strong>Joi.object.keys()</strong> å’Œ <strong>Joi.object()</strong> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>ç­”ï¼š å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå®˜æ–¹ç»™äº†ä¸‰ç§å®šä¹‰ <code>schema</code> çš„æ–¹å¼ã€‚å¦‚ä¸‹ï¼š</p><pre><code>// ä½¿ç”¨ &#123; &#125; æ¥å®šä¹‰const schema = &#123;    a: Joi.string(),    b: Joi.number()&#125;;// ä½¿ç”¨ Joi.object()const schema = Joi.object(&#123;    a: Joi.string(),    b: Joi.number()&#125;);// ä½¿ç”¨ Joi.object.keys()const schema = Joi.object().keys(&#123;    a: Joi.string(),    b: Joi.number()&#125;);</code></pre><p>ä¸‰ç§æ–¹å¼å®ç°çš„æ•ˆæœå…¶å®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šæœ‰ä¸€äº›ç•¥å¾®ä¸åŒï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><ul><li>å½“ä½¿ç”¨ {} æ—¶ï¼Œåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ™®é€šçš„jså¯¹è±¡ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ schema å¯¹è±¡ã€‚ä½ å¯ä»¥å°†å®ƒä¼ é€’ç»™éªŒè¯æ–¹æ³•ï¼Œä½†ä¸èƒ½è°ƒç”¨å¯¹è±¡çš„validateï¼ˆï¼‰æ–¹æ³•ï¼Œå³ç±»ä¼¼è¿™ç§ <code>object.validate()</code>çš„æ“ä½œæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸ºå®ƒåªæ˜¯ä¸€ä¸ªæ™®é€šçš„jså¯¹è±¡ã€‚æ­¤å¤–ï¼Œæ¯æ¬¡å°†{}å¯¹è±¡ä¼ é€’ç»™validateï¼ˆï¼‰æ–¹æ³•ï¼Œéƒ½å°†å¯¹æ¯ä¸ªéªŒè¯æ‰§è¡Œä¸€ä¸ªæ˜‚è´µçš„æ¨¡å¼ç¼–è¯‘æ“ä½œã€‚</li><li>å½“ä½¿ç”¨ Joi.object() æ—¶ï¼Œç›¸å¯¹äºä½¿ç”¨ {} ï¼Œè¿™æ˜¯æ­£ç»çš„schema å¯¹è±¡ï¼Œå®ƒä¼šåœ¨ç¬¬ä¸€æ¬¡ç¼–è¯‘ï¼Œæ‰€ä»¥ä½ å¯ä»¥å¤šæ¬¡å°†å®ƒä¼ é€’ç»™validateï¼ˆï¼‰æ–¹æ³•ï¼Œä¸ä¼šå¢åŠ å¼€é”€ã€‚å¦å¤–ï¼Œä½ è¿˜å¯ä»¥è®¾ç½® options æ¥éªŒè¯ã€‚</li><li>å½“ä½¿ç”¨ Joi.object.keys() æ—¶ï¼Œå…¶å®å’Œä½¿ç”¨ Joi.object() æ˜¯ç±»ä¼¼çš„ï¼Œä½†æ˜¯å½“ä½ æƒ³æ·»åŠ æ›´å¤šçš„é”®ï¼ˆä¾‹å¦‚å¤šæ¬¡è°ƒç”¨keysï¼ˆï¼‰ï¼‰æ—¶ï¼Œä½¿ç”¨joi.objectï¼ˆï¼‰.keysï¼ˆ[schema]ï¼‰ä¼šæ›´æœ‰ç”¨ã€‚å¦‚æœåªæ·»åŠ ä¸€ç»„é”®ï¼Œåˆ™å¯ä»¥è·³è¿‡keysï¼ˆï¼‰æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨objectï¼ˆï¼‰ã€‚æœ‰äº›äººå–œæ¬¢ç”¨keysï¼ˆï¼‰æ¥ä½¿ä»£ç çœ‹èµ·æ¥æ›´åŠ ç²¾ç¡®ï¼ˆå…¶å®è¿™åªæ˜¯ä¸€ç§ç¼–ç¨‹é£æ ¼ï¼‰ã€‚</li></ul><h3 id="2-Joi-validate-value-schema-options-callback-ä¸­çš„-options-å–å€¼æœ‰å“ªäº›ï¼Ÿ"><a href="#2-Joi-validate-value-schema-options-callback-ä¸­çš„-options-å–å€¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="2. Joi.validate(value, schema, [options], [callback])ä¸­çš„ options å–å€¼æœ‰å“ªäº›ï¼Ÿ"></a>2. Joi.validate(value, schema, [options], [callback])ä¸­çš„ options å–å€¼æœ‰å“ªäº›ï¼Ÿ</h3><p>ç­”ï¼šoptionså¯ç”¨çš„å€¼æœ‰å¦‚ä¸‹ï¼š</p><ul><li><strong>abortEarlyï¼š</strong> è®¾ç½®trueï¼Œå¯ä»¥åœ¨æ£€æµ‹åˆ°ç¬¬ä¸€ä¸ªé”™è¯¯æ—¶ç«‹å³è¿”å›ï¼Œé»˜è®¤falseï¼ˆæ£€æŸ¥å…¨éƒ¨ï¼‰ã€‚æ¨èè®¾ç½®true</li><li><strong>convertï¼š</strong>è®¾ç½®trueï¼Œå¯ä»¥å°è¯•å°†å€¼è½¬æ¢ä¸ºæ‰€éœ€çš„ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼‰ã€‚é»˜è®¤ä¸ºtrueã€‚æ¨èé‡‡ç”¨é»˜è®¤</li><li><strong>allowunknownï¼š</strong> è®¾ç½®trueï¼Œåˆ™å…è®¸å¯¹è±¡åŒ…å«è¢«å¿½ç•¥çš„æœªçŸ¥é”®ã€‚é»˜è®¤ä¸ºfalseã€‚æ¨èè®¾ç½®true</li><li><strong>skipfunctionsï¼š</strong>å¦‚æœä¸ºtrueï¼Œåˆ™å¿½ç•¥å…·æœ‰å‡½æ•°å€¼çš„æœªçŸ¥é”®ã€‚é»˜è®¤ä¸ºfalseã€‚æ¨èé‡‡ç”¨é»˜è®¤</li><li><strong>stripunknownï¼š</strong> å¦‚æœä¸ºtrue,ä»å¯¹è±¡å’Œæ•°ç»„ä¸­åˆ é™¤æœªçŸ¥çš„å…ƒç´ ã€‚é»˜è®¤ä¸ºfalseã€‚ä¹Ÿå¯ä»¥ç‰¹æ®Šçš„è®¾ç½®æˆ <code>&#123; objects: true , arrays: true &#125;</code>çš„å½¢å¼ï¼Œå¯ä»¥å¯¹è±¡å’Œæ•°ç»„åˆ†åˆ«å¤„ç†ã€‚æ¨èé‡‡ç”¨é»˜è®¤</li><li><strong>presenceï¼š</strong> è®¾ç½®é»˜è®¤çš„å¯é€‰éœ€æ±‚ã€‚æ”¯æŒçš„æ¨¡å¼ï¼šâ€™optionalâ€™,â€™requiredâ€™,å’Œâ€™forbiddenâ€™ã€‚é»˜è®¤ä¸ºâ€™optionalâ€™ã€‚æ¨èé‡‡ç”¨é»˜è®¤</li><li><strong>escapehtmlï¼š</strong> å½“ä¸ºtrueæ—¶ï¼Œå‡ºäºå®‰å…¨ç›®çš„ï¼Œé”™è¯¯æ¶ˆæ¯æ¨¡æ¿å°†ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ä¸ºhtmlå®ä½“ã€‚é»˜è®¤ä¸ºfalseã€‚æ¨èé‡‡ç”¨é»˜è®¤</li><li><strong>nodefaultsï¼š</strong>å¦‚æœä¸ºtrueï¼Œåˆ™ä¸åº”ç”¨é»˜è®¤å€¼ã€‚é»˜è®¤ä¸ºfalseã€‚æ¨èé‡‡ç”¨é»˜è®¤</li><li><strong>contextï¼š</strong> æä¾›ä¸€ä¸ªå¤–éƒ¨æ•°æ®é›†ç”¨äºå¼•ç”¨ã€‚åªèƒ½è®¾ç½®ä¸ºå¤–éƒ¨é€‰é¡¹æ¥éªŒè¯ï¼ˆï¼‰è€Œä¸ä½¿ç”¨any.optionsï¼ˆï¼‰ã€‚ä½¿ç”¨æ–¹æ³•ï¼š</li></ul><pre><code>const schema = Joi.object().keys(&#123;    a: Joi.ref(&#39;b.c&#39;),    b: &#123;        c: Joi.any()    &#125;,    c: Joi.ref(&#39;$x&#39;)&#125;);Joi.validate(&#123; a: 5, b: &#123; c: 5 &#125; &#125;, schema, &#123; context: &#123; x: 5 &#125; &#125;, (err, value) =&gt; &#123;&#125;);</code></pre><ul><li>language: è®¾ç½®é»˜è®¤çš„é”™è¯¯æç¤ºã€‚ä¿®æ”¹å¯å‚è€ƒï¼š<a href="https://github.com/hapijs/joi/blob/v13.1.0/lib/language.js">é»˜è®¤</a></li></ul><h3 id="3-æˆ‘éœ€è¦-promisify-Joi-validate-æ–¹æ³•å—ï¼Ÿ"><a href="#3-æˆ‘éœ€è¦-promisify-Joi-validate-æ–¹æ³•å—ï¼Ÿ" class="headerlink" title="3. æˆ‘éœ€è¦ promisify Joi.validate æ–¹æ³•å—ï¼Ÿ"></a><strong>3. æˆ‘éœ€è¦ promisify Joi.validate æ–¹æ³•å—ï¼Ÿ</strong></h3><p>ç­”ï¼š å…¶å®åªæ˜¯ä¸¤ç§å†™æ³•ï¼Œpromiseå’Œépromiseçš„å†™æ³•ã€‚é¦–å…ˆï¼ŒJoi.validate() çš„å†™æ³•å¾ˆåƒpromiseï¼Œä½†æ˜¯è¿˜çœŸä¸æ˜¯promiseå®ç°çš„ï¼Œæ‰€ä»¥ä½ ä¸ç”¨promiseçš„å†™æ³•å°±åƒè¿™ç§ï¼ˆå®˜ç½‘çš„è¿™ç§ï¼‰ï¼š</p><pre><code>// åœºæ™¯ï¼š åœ¨ä¸€ä¸ªCGIçš„å…¥å£è¯·æ±‚å‚æ•°éªŒè¯const data = &#123; a : &#39;123&#39; &#125;;let schema = Joi.object().keys(&#123;    a: Joi.string().required()&#125;);const &#123;error, value&#125; = Joi.validate(data, schema);if (error) &#123;    // éœ€è¦äººå·¥å¤„ç†å¼‚å¸¸    console.log(error);&#125;</code></pre><p>ä½¿ç”¨promiseçš„å†™æ³•ï¼Œå°±æ˜¯ä¸‹é¢è¿™ç§ï¼Œå¿…é¡»è¦ä½¿ç”¨ promisify çš„ï¼Œè€Œä¸”å¼ºåˆ¶å»ºè®®å¿…é¡»è¦ä½¿ç”¨ try-catchã€‚</p><pre><code>// åœºæ™¯ï¼š åœ¨ä¸€ä¸ªCGIçš„å…¥å£è¯·æ±‚å‚æ•°éªŒè¯const Promise = require(&#39;bluebird&#39;);const JoiValidatePromise = Promise.promisify(Joi.validate);try &#123;    const data = &#123; a : &#39;123&#39; &#125;;    let schema = Joi.object().keys(&#123;        a: Joi.string().required()    &#125;);        const query = await JoiValidatePromise(data, schema);         &#125; catch (error) &#123;    // ä½¿ç”¨ catch æ•è·é”™è¯¯    console.log(error);&#125;</code></pre><p>ä¸¤ç§å†™æ³•éƒ½å¯ä»¥ï¼Œæ²¡æœ‰å­°å¥½å­°åï¼Œä¸è¿‡æ›´æ¨èç¬¬äºŒç§å†™æ³•ï¼Œåˆ©ç”¨try-catchå…¨å±€æ•è·é”™è¯¯ï¼Œå¦å¤– Joi çš„ç»´æŠ¤è€… <a href="https://github.com/hapijs/joi/issues/1194">ç›®å‰åœ¨å®ç° async çš„å†™æ³•</a>ï¼Œ åˆ°æ—¶å€™åº”è¯¥å°±æ˜¯ç›´æ¥æ”¯æŒpromiseäº†ï¼Œé‚£å°±ä¸ç”¨promisifyäº†ï¼Œå¦™å“‰ã€‚</p><h3 id="4-å¸Œæœ›å¯ä»¥æœ‰ä¸€ä¸ªåŒ…ç½—ä¸‡è±¡çš„ä¾‹å­ï¼Ÿ"><a href="#4-å¸Œæœ›å¯ä»¥æœ‰ä¸€ä¸ªåŒ…ç½—ä¸‡è±¡çš„ä¾‹å­ï¼Ÿ" class="headerlink" title="4. å¸Œæœ›å¯ä»¥æœ‰ä¸€ä¸ªåŒ…ç½—ä¸‡è±¡çš„ä¾‹å­ï¼Ÿ"></a><strong>4. å¸Œæœ›å¯ä»¥æœ‰ä¸€ä¸ªåŒ…ç½—ä¸‡è±¡çš„ä¾‹å­ï¼Ÿ</strong></h3><p>ç­”ï¼šå¦‚ä¸‹ï¼š</p><pre><code>let testData = &#123; xxx &#125;;let paramSchema = Joi.object().keys(&#123;    username: Joi.string().alphanum().min(3).max(30).required(),    password: Joi.string().regex(/^[a-zA-Z0-9]&#123;3,30&#125;$/),    access_token: [Joi.string(), Joi.number()],    birthyear: Joi.number().integer().min(1900).max(2013),    email: Joi.string().email(),    website: Joi.string().uri(&#123;        scheme: [            &#39;git&#39;,            /git\+https?/        ]    &#125;),    search: Joi.string().allow(&#39;&#39;),    type: Joi.string().valid(&#39;disabled&#39;, &#39;normal&#39;, &#39;all&#39;).default(&#39;all&#39;),    startTime: Joi.date().min(&#39;1-1-1974&#39;).max(&#39;now&#39;),    endTime: Joi.when( Joi.ref(&#39;startTime&#39;), &#123; is: Joi.date().required(), then: Joi.date().max(&#39;1-1-2100&#39;) &#125; ),    page: Joi.number().integer().min(1).default(1),    pageSize: Joi.number().integer().default(8),    deleteWhenLtTen: Joi.number().integer().max(10).strip(),    arraySelect: Joi.array().items(Joi.string().label(&#39;My string&#39;).required(), Joi.number().required()),&#125;);let &#123; error, value &#125; = Joi.validate(testData, paramSchema, &#123; allowUnknown: true, abortEarly: true &#125;);if (error) &#123;    throw error;&#125;query = value;</code></pre><p>ç®€å•çš„ä½¿ç”¨å¯ä»¥çœ‹ä¸Šé¢ï¼Œè¯¦ç»†çš„ä½¿ç”¨ç›´æ¥çœ‹ <a href="https://github.com/hapijs/joi/blob/v13.1.0/API.md">API</a></p><p>å–ï¼Œè¿™å°±æ˜¯ä¸€ç¯‡æ€»ç»“æ–‡ï¼Œå¯èƒ½è¿˜ä¼šç»§ç»­å¢åŠ å†…å®¹ï¼Œç¬‘çº³ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hyperapp.js ä¸€ä¸ªè½»é‡çº§çš„ react å®ç°</title>
      <link href="/2018/01/05/"/>
      <url>/2018/01/05/</url>
      
        <content type="html"><![CDATA[<h2 id="hyperapp-æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"><a href="#hyperapp-æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ" class="headerlink" title="hyperapp æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"></a><strong>hyperapp æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</strong></h2><p>hyperapp æ˜¯ä¸€ä¸ªå‰ç«¯çš„åº”ç”¨æ„å»ºåº“ã€‚åˆè§å†™æ³•ï¼Œå¾ˆæœ‰ä¸€ç§å†™reactçš„äº²åˆ‡çš„æ„Ÿè§‰ï¼ˆå…¶å®å°±æ˜¯ä¸€ä¸ªå¥—è·¯ï¼‰ï¼Œä¸è¿‡è¿™è‚¯å®šä¸èƒ½æˆä¸ºå¸å¼•å¹¿å‘gayå‹ä»è€Œåœ¨çŸ­çŸ­ä¸¤ä¸ªæœˆæ‹¿åˆ° 8K starçš„ç†ç”±ã€‚æ›´é‡è¦çš„ä¸€ä¸ªåŸå› æ˜¯ å®˜æ–¹å®£ç§°çš„1kbã€‚æ˜¯çš„ï¼Œ hyperapp çš„æ ¸å¿ƒä»£ç åªæœ‰1kbï¼Œè¿™å¯¹æ—©å·²ä¹ æƒ¯reactå…¨å®¶æ¡¶ï¼ŒåŒæ—¶å¯¹å½“ä»Šwebåº”ç”¨ä¸€ä¸ªé¡µé¢åŠ¨è¾„3ã€4Mæ¯’å®³çš„gayå‹æ¥è¯´ï¼Œçš„ç¡®æ˜¯ä¸€ä¸ªç¦éŸ³ã€‚åŸºäºæ­¤ï¼Œå®˜æ–¹ç»™è‡ªå·±çš„å®šä½æ˜¯ï¼š</p><ul><li>æ›´å°ï¼šåªè¦1kbï¼Œåšåˆ°å…¶ä»–æ¡†æ¶åº”è¯¥åšçš„ï¼›</li><li>æ›´å®ç”¨ï¼šä¸»æµçš„å‰ç«¯åº”ç”¨æ€æƒ³ï¼Œä¸ä¼šå¯¹å­¦ä¹ å¸¦æ¥é¢å¤–è´Ÿæ‹…ï¼›</li><li>å¼€ç®±å³ç”¨ï¼šå®Œå–„çš„è™šæ‹ŸDomã€keyæ›´æ–°ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸã€‚</li><li>ä»¥ä¸Šä¸ªäººç¿»è¯‘ï¼Œæœ‰å¹å˜˜æˆåˆ†</li></ul><p>æ—¢ç„¶å¬èµ·æ¥è¿™ä¹ˆå‰å®³ï¼Œä»Šå¤©å°±æ¥ä¸€æ¢ç©¶ç«Ÿäº†â€¦â€¦</p><h2 id="ç®€å•çš„ä½¿ç”¨"><a href="#ç®€å•çš„ä½¿ç”¨" class="headerlink" title="ç®€å•çš„ä½¿ç”¨"></a><strong>ç®€å•çš„ä½¿ç”¨</strong></h2><p>æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•å°±æ˜¯çœ‹å®˜ç½‘ç»™çš„ <strong>è®¡æ•°å™¨</strong> ç¤ºä¾‹ï¼Œå¯ä»¥åœ¨ <a href="">è¿™é‡Œ</a> æŸ¥çœ‹æœ€ç»ˆæ•ˆæœï¼š</p><pre><code>&lt;body&gt;&lt;script src=&quot;https://unpkg.com/hyperapp&quot;&gt;&lt;/script&gt;&lt;script&gt;// ******åˆ’é‡ç‚¹const &#123; h, app &#125; = hyperappconst state = &#123;  count: 0&#125;const actions = &#123;  down: value =&gt; state =&gt; (&#123; count: state.count - value &#125;),  up: value =&gt; state =&gt; (&#123; count: state.count + value &#125;)&#125;const view = (state, actions) =&gt;  h(&quot;div&quot;, &#123;&#125;, [    h(&quot;h1&quot;, &#123;&#125;, state.count),    h(&quot;button&quot;, &#123; onclick: () =&gt; actions.down(1) &#125;, &quot;â€“&quot;),    h(&quot;button&quot;, &#123; onclick: () =&gt; actions.up(1) &#125;, &quot;+&quot;)  ])window.main = app(state, actions, view, document.body)// *****åˆ’é‡ç‚¹&lt;/script&gt;&lt;/body&gt;</code></pre><p>æ˜¾è€Œæ˜“è§ï¼Œstate å®šä¹‰äº†åº”ç”¨çš„çŠ¶æ€ï¼Œ view å®šä¹‰äº†åº”ç”¨çš„è§†å›¾ï¼Œé€šè¿‡ h æ–¹æ³•ç”Ÿæˆä¸€ä¸ªè™šæ‹ŸDom,ä¹Ÿå°±æ˜¯å¯ä»¥è¢«æµè§ˆå™¨è§£é‡Šçš„ç»“ç‚¹æ ‘ï¼Œaction åˆ™å®šä¹‰äº†åº”ç”¨çš„ä¸€äº›è¡Œä¸ºé€»è¾‘ï¼Œæœ€ååœ¨é€šè¿‡ app æ–¹æ³•æŒ‚è½½åˆ°çœŸå®çš„Domå…ƒç´ ç»“ç‚¹ä¸Šã€‚</p><p>å½“ç„¶è¿™åªæ˜¯å¾ˆç®€å•çš„ä½¿ç”¨ã€‚å¯¹äºå·²ç»ä¹ æƒ¯äº†reactå†™æ³•çš„æˆ‘ä»¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯èƒ½åœ¨ view çš„éƒ¨åˆ†æ›´ä¹ æƒ¯å†™çº¯å‡½æ•°ï¼Œæˆ–è€…è¯´ä¸€äº›ç‰µæ‰¯åˆ°ç”Ÿå‘½å‘¨æœŸçš„æ“ä½œï¼Œå½“ç„¶è¿™äº›åœ¨ hyperapp ä¸­ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>å…·ä½“çš„æ“ä½œå¯ä»¥å‚è€ƒ <a href="https://github.com/hyperapp/hyperapp/blob/master/docs/concepts/"><strong>å®˜æ–¹æ–‡æ¡£</strong></a>ã€‚</p><h2 id="çœ‹æºç å§è¿˜æ˜¯"><a href="#çœ‹æºç å§è¿˜æ˜¯" class="headerlink" title="çœ‹æºç å§è¿˜æ˜¯"></a><strong>çœ‹æºç å§è¿˜æ˜¯</strong></h2><p>å½“ç„¶å­¦ä¹ ä½¿ç”¨ä¸æ˜¯æˆ‘ä»¬çš„ç›®çš„ï¼Œè¿™äº›æ“ä½œå…¶ä»–åº“ä¸­éƒ½æœ‰å®ç°ï¼ŒçœŸæ­£æ„Ÿå…´è¶£çš„æ˜¯ä»–è¯´çš„1kbï¼Œæ‰€ä»¥è¿˜æ˜¯æ¥çœ‹æºç å§ï¼ˆè®²çœŸï¼Œæºç å†™çš„æœ‰ç‚¹ç»•ï¼‰ã€‚</p><p>æ ¸å¿ƒçš„æ–¹æ³•åªæœ‰ä¸¤ä¸ªï¼Œh å‡½æ•° å’Œ app å‡½æ•°ï¼Œhå‡½æ•°å¾ˆç®€å•ï¼Œåªæ˜¯ç”¨æ¥æ„å»º dom ç»“ç‚¹çš„ã€‚æºç å¦‚ä¸‹ï¼š</p><pre><code>/** * å…ˆæ¥çœ‹hçš„ç”¨æ³•ï¼Œä½œç”¨æ˜¯ç”Ÿæˆä¸€ä¸ªè™šæ‹ŸdomèŠ‚ç‚¹ * name å¯ä»¥æ˜¯ ä¸€ä¸ªæ ‡ç­¾åå­—ç¬¦ä¸²ï¼Œå¦‚â€˜divâ€™, ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå·²ç»è¢«æ¸²æŸ“çš„componentï¼Œå¦‚â€˜h(div,&#39;&#39;,)â€™ * props æ ‡ç­¾çš„å±æ€§å®šä¹‰ï¼Œå¦‚â€˜classâ€™ï¼Œäº‹ä»¶ç­‰ * ä¸å®šå‚æ•°ï¼Œéƒ½ä¼šå½“åšå½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹è®¡ç®— */export function h(name, props) &#123;  var node  var stack = []  var children = []  for (var i = arguments.length; i-- &gt; 2; ) &#123;    stack.push(arguments[i])  &#125;  while (stack.length) &#123;    if (Array.isArray((node = stack.pop()))) &#123;      for (i = node.length; i--; ) &#123;        stack.push(node[i])      &#125;    &#125; else if (null == node || true === node || false === node) &#123;    &#125; else &#123;      children.push(typeof node === &quot;number&quot; ? node + &quot;&quot; : node)    &#125;  &#125;  return typeof name === &quot;string&quot;    ? &#123;        name: name,        props: props || &#123;&#125;,        children: children      &#125;    : name(props || &#123;&#125;, children)&#125;</code></pre><p>app æ–¹æ³•åˆ™æ˜¯é¡¹ç›®çš„å…¥å£ï¼Œæ•´ä¸ªæ„å»ºçš„æ“ä½œå…¶å®åœ¨è¿™é‡Œæ‰§è¡Œã€‚åœ¨appå‡½æ•°é‡Œåˆå®šä¹‰äº†è®¸å¤šå¸¸ç”¨çš„å·¥å…·æ–¹æ³•ï¼Œæ¯”å¦‚ createElementï¼ˆåˆ›å»ºå…ƒç´ ï¼‰ï¼ŒgetKeyï¼ˆè·å–å…ƒç´ ç»“ç‚¹çš„keyï¼‰ï¼ŒremoveElementï¼ˆç§»é™¤å…ƒç´ ï¼‰ç­‰ç­‰ã€‚åˆå¾ˆå¤šï¼Œè¿™é‡Œä¸åœ¨ä¸€ä¸€åˆ†æï¼Œé‡ç‚¹æ–¹æ³•åªæœ‰ä¸¤ä¸ª init æ–¹æ³•å’Œ patchæ–¹æ³•ã€‚</p><h4 id="init"><a href="#init" class="headerlink" title="init()"></a><strong>init()</strong></h4><p>initçš„æ–¹æ³•çš„è°ƒç”¨è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>repaint(init([], (state = copy(state)), (actions = copy(actions))))</code></pre><p>å¯ç†è§£æˆï¼š</p><pre><code>function a() &#123; console.log(&#39;a&#39;); setTimeout(b); &#125;function b() &#123; console.log(&#39;b&#39;) &#125;function c() &#123; console.log(&#39;c&#39;) &#125;;a(c());</code></pre><p>å…¶å®å°±æ˜¯ç¡®ä¿åœ¨å…¥å£çš„ repaint æ–¹æ³•æ¯æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™å…ˆæ‰§è¡Œ init æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ init æ–¹æ³•çš„ä¸»ä½“éƒ¨åˆ†ï¼š</p><pre><code>// actions æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å‚æ•°åªå­˜åœ¨stateçš„æƒ…å†µï¼Œä¸€ç§æ˜¯å‚æ•°å­˜åœ¨stateå’Œactionçš„æƒ…å†µ,åˆæ˜¯è®¨åŒçš„é€’å½’  function init(path, slice, actions) &#123;    for (var key in actions) &#123;      typeof actions[key] === &quot;function&quot;        ? (function(key, action) &#123;            actions[key] = function(data) &#123;              // ç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„æ—¶å€™ï¼Œpathä¸º[]ï¼Œæ‰€ä»¥å¾—åˆ°çš„è¿˜æ˜¯åˆå§‹ä¼ å…¥çš„state              slice = get(path, state)                // actionså‚æ•°ä¸­å­˜åœ¨actionçš„æƒ…å†µï¼ŒåŒæ—¶æ‰§è¡Œé‡æ–°æ¸²æŸ“ä¸€æ¬¡              if (typeof (data = action(data)) === &quot;function&quot;) &#123;                data = data(slice, actions)              &#125;              if (data &amp;&amp; data !== slice &amp;&amp; !data.then) &#123;                repaint((state = set(path, copy(slice, data), state, &#123;&#125;)))              &#125;              return data            &#125;          &#125;)(key, actions[key])        : init(            path.concat(key),            (slice[key] = slice[key] || &#123;&#125;),            (actions[key] = copy(actions[key]))          )    &#125;  &#125;</code></pre><p>å…¶å® init æ–¹æ³•çš„ç›®çš„å°±æ˜¯ç¡®ä¿äº†ä¸¤ç§æ‰§è¡Œ repaint æ–¹æ³•çš„ä¸åŒæƒ…å†µï¼ˆæœ‰ä¸ªçœ‹æºç çš„å°æŠ€å·§å°±æ˜¯å»çœ‹å®˜æ–¹æä¾›çš„å•å…ƒæµ‹è¯•ï¼Œæ¥åæ¨æŸä¸ªæ–¹æ³•çš„ç”¨æ³•ï¼‰ã€‚init æ–¹æ³•çš„ç›®çš„æ˜¯æ‰§è¡Œ repaint æ–¹æ³•ï¼ˆçœŸå®æ¸²æŸ“çš„æ–¹æ³•å…¥å£ï¼Œæœ€ç»ˆä¼šæ‰§è¡Œ patch æ–¹æ³•ï¼‰ã€‚</p><h4 id="patch"><a href="#patch" class="headerlink" title="patch()"></a><strong>patch()</strong></h4><pre><code>function patch(parent, element, oldNode, node, isSVG, nextSibling) &#123;    if (node === oldNode) &#123;    &#125; else if (null == oldNode) &#123;      element = parent.insertBefore(createElement(node, isSVG), element)    &#125; else if (node.name &amp;&amp; node.name === oldNode.name) &#123;      updateElement(element, oldNode.props, node.props)      var oldElements = []      var oldKeyed = &#123;&#125;      var newKeyed = &#123;&#125;      for (var i = 0; i &lt; oldNode.children.length; i++) &#123;        oldElements[i] = element.childNodes[i]        var oldChild = oldNode.children[i]        var oldKey = getKey(oldChild)        if (null != oldKey) &#123;          oldKeyed[oldKey] = [oldElements[i], oldChild]        &#125;      &#125;      var i = 0      var j = 0      while (j &lt; node.children.length) &#123;        var oldChild = oldNode.children[i]        var newChild = node.children[j]        var oldKey = getKey(oldChild)        var newKey = getKey(newChild)        if (newKeyed[oldKey]) &#123;          i++          continue        &#125;        if (null == newKey) &#123;          if (null == oldKey) &#123;            patch(element, oldElements[i], oldChild, newChild, isSVG)            j++          &#125;          i++        &#125; else &#123;          var recyledNode = oldKeyed[newKey] || []          if (oldKey === newKey) &#123;            patch(element, recyledNode[0], recyledNode[1], newChild, isSVG)            i++          &#125; else if (recyledNode[0]) &#123;            patch(              element,              element.insertBefore(recyledNode[0], oldElements[i]),              recyledNode[1],              newChild,              isSVG            )          &#125; else &#123;            patch(element, oldElements[i], null, newChild, isSVG)          &#125;          j++          newKeyed[newKey] = newChild        &#125;      &#125;      while (i &lt; oldNode.children.length) &#123;        var oldChild = oldNode.children[i]        if (null == getKey(oldChild)) &#123;          removeElement(element, oldElements[i], oldChild)        &#125;        i++      &#125;      for (var i in oldKeyed) &#123;        if (!newKeyed[oldKeyed[i][1].props.key]) &#123;          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])        &#125;      &#125;    &#125; else if (node.name === oldNode.name) &#123;      element.nodeValue = node    &#125; else &#123;      element = parent.insertBefore(        createElement(node, isSVG),        (nextSibling = element)      )      removeElement(parent, nextSibling, oldNode)    &#125;    return element  &#125;</code></pre><p>å…·ä½“çš„æ–¹æ³•ä»€ä¹ˆæ„æ€å°±ä¸ä¸€ä¸€è§£é‡Šäº†ï¼Œæœ‰ä¸€ç‚¹è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªåº“ç”¨äº†å¾ˆå¤šå°å¥—è·¯ï¼Œå¦‚æœæƒ³è¦ç†è§£çš„è¯ï¼Œæœ€å¥½å…ˆå»å¥½å¥½ç†è§£ä¸‹ <a href="http://weizhifeng.net/immediately-invoked-function-expression.html">JS ä¸­çš„()æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</a></p><h3 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a><strong>æºç </strong></h3><p>å¤ªé•¿å°±ä¸æ”¾äº†ï¼Œæ”¾ä¸ªé“¾æ¥å§ã€‚<a href="https://github.com/hyperapp/hyperapp/blob/master/src/index.js">æˆ³</a>ã€‚</p><h2 id="å…¶ä»–ç±»ä¼¼çš„"><a href="#å…¶ä»–ç±»ä¼¼çš„" class="headerlink" title="å…¶ä»–ç±»ä¼¼çš„"></a><strong>å…¶ä»–ç±»ä¼¼çš„</strong></h2><p>å…¶å®ç±»ä¼¼çš„å®ç°è¿˜æœ‰ <a href="https://github.com/developit/preact">preact</a> ï¼Œä¸è¿‡ preact å¤§äº†ä¸€ä¸¢ä¸¢ï¼Œä½†æ˜¯åœ¨çŸ¥ååº¦å’Œå¯é æ€§ä¸Šè‚¯å®šæ˜¯ preact<br>é¥é¥é¢†å…ˆçš„ï¼Œæœ¬æ–‡åªæ˜¯ç”¨æ¥å­¦ä¹ ï¼ŒçœŸæ­£é¡¹ç›®ä½¿ç”¨çš„è¯è¿˜æ˜¯è¦æ…é‡è€ƒè™‘çš„ï¼Œä¼˜å…ˆè€ƒè™‘ react å’Œ preact è¿™äº›ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><p>å†™åˆ°è¿™é‡Œæ„Ÿè§‰è‡ªå·±ä¹Ÿæ˜¯ä¼¼æ‡‚éæ‡‚çš„äº†ï¼Œä¸€å®šæ˜¯æºç çœ‹çš„å¤ªå°‘äº†â€¦â€¦</p><p>ä»¥åç»§ç»­åŠ æ²¹ï¼Œæ‹œæ‹œ</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> hyperappjs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS: ä¸€ä¸ªå°ä¾‹å­å¼•å‘çš„æ€è€ƒ</title>
      <link href="/2018/01/03/"/>
      <url>/2018/01/03/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ä¸ªå°ä¾‹å­å¼•å‘çš„æ€è€ƒ"><a href="#ä¸€ä¸ªå°ä¾‹å­å¼•å‘çš„æ€è€ƒ" class="headerlink" title="ä¸€ä¸ªå°ä¾‹å­å¼•å‘çš„æ€è€ƒ"></a><strong>ä¸€ä¸ªå°ä¾‹å­å¼•å‘çš„æ€è€ƒ</strong></h2><p>emmmmâ€¦â€¦</p><p>æœ€è¿‘åœ¨çœ‹ä¸€ä¸ªå¼€æºåº“ï¼Œçœ‹å…¶ä¸­çš„æ —å­ä¸­å‘ç°äº†ä¸€æ®µå¾ˆæœ‰æ„æ€çš„ä»£ç ã€‚æ —å­ç®€åŒ–ä¸€ä¸‹æ˜¯ä¸‹é¢çš„è¿™ä¸ªæ ·å­çš„:</p><pre><code>function a() &#123; console.log(&#39;a&#39;); setTimeout(b); &#125;function b() &#123; console.log(&#39;b&#39;) &#125;function c() &#123; console.log(&#39;c&#39;) &#125;;a(c());</code></pre><p>å¯èƒ½ä½ è§‰å¾—è¿™æ²¡ä»€ä¹ˆï¼Œä¸å°±å‡ ä¸ªç®€å•çš„æ–¹æ³•è°ƒç”¨ä¹ˆï¼Œæœ‰ä»€ä¹ˆå¤æ‚çš„ï¼Ÿé‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åœ¨Chromeçš„æ§åˆ¶å°é‡Œé¢ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fn3en7cjl6j219m04qjrp.jpg"></p><p>å¯èƒ½çš„ç¡®å¦‚ä½ æ‰€æ–™ï¼Œæ§åˆ¶å°ä¾æ¬¡è¾“å‡ºäº†cã€aã€bï¼ˆè™½ç„¶æœ‰ä¸ªä¸çŸ¥é“ä»€ä¹ˆé¬¼çš„undefinedï¼Œè¿™ä¸ªç­‰ä¸‹å†è¯´ï¼‰ï¼Œé‚£è¯´æ˜ä½ å¯¹JSä¸­å‡½æ•°çš„æ‰§è¡Œé¡ºåºæœ‰ä¸€å®šçš„äº†è§£ã€‚çš„ç¡®ï¼Œå‰é¢å£°æ˜äº†ä¸‰ä¸ªæ–¹æ³•ï¼Œa,b,c,ç„¶ååŠ ä¸Šæ‹¬å·ä½¿aæˆä¸ºè¯­å¥æ‰§è¡Œã€‚ä½†æ˜¯a(c())è¿™ç§å†™æ³•æ€ªæ€ªçš„ï¼Œå†…éƒ¨æ€ä¹ˆæ‰§è¡Œçš„ï¼Ÿè¿˜æœ‰è¿™ä¸ªè¾“å‡ºæ€ä¹ˆä¼šæœ‰ä¸€ä¸ªundefinedï¼ˆé¢è¯•é¢˜åŸ‹å‘å•Šï¼‰ï¼Ÿ</p><p>æˆ‘åŒæ ·ä¹Ÿæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œé‚£ä¹ˆæ·±ç©¶ä¹‹å‰ï¼Œå…ˆæ•´ç†ä¸€ä¸‹æˆ‘ä»¬çš„ç–‘é—®ã€‚</p><p><strong>è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿa(c())è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿundefinedæ˜¯ä»€ä¹ˆé¬¼ï¼ŸsetTimeoutä¸å†™æ—¶é—´å‚æ•°ä¼šå’‹æ ·ï¼Ÿä¼šæœ‰æµè§ˆå™¨å·®å¼‚ä¹ˆï¼Ÿ</strong></p><p>é‚£ä¹ˆæˆ‘ä»¬ä¸€ä¸ªä¸ªçš„æ¥ä¸ºæˆ‘ä»¬ç–‘é—®æ¥å¯»æ‰¾ç­”æ¡ˆâ€¦â€¦</p><h3 id="è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·å­çš„è¾“å‡ºï¼Ÿ"><a href="#è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·å­çš„è¾“å‡ºï¼Ÿ" class="headerlink" title="è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·å­çš„è¾“å‡ºï¼Ÿ"></a><strong>è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·å­çš„è¾“å‡ºï¼Ÿ</strong></h3><p>å…¶å®ç­”æ¡ˆå·²ç»çœ‹åˆ°äº†ï¼Œå°±æ˜¯cã€aã€bã€‚å› ä¸ºJSæ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œaæ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå…ˆæ‰§è¡Œäº†ï¼ˆï¼‰ä¸­çš„è¯­å¥ï¼Œä¹Ÿå°±æ˜¯cï¼ˆï¼‰æ–¹æ³•ï¼Œæ‰€ä»¥é¡ºåºæ‰§è¡Œä¹Ÿå°±æ˜¯cã€aã€bã€‚</p><p>emmmâ€¦â€¦è¯´äº†å’Œæ²¡è¯´ä¸€æ ·ï¼Œæ²¡å…³ç³»å¾€ä¸‹çœ‹ã€‚</p><h3 id="a-c-è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"><a href="#a-c-è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ" class="headerlink" title="a(c())è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"></a><strong>a(c())è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</strong></h3><p>æ¥ç€ä¸Šä¸ªç­”æ¡ˆçš„æ¥è¯´ã€‚è¦æ˜ç™½a(c())è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿæˆ‘ä»¬å¾—å…ˆäº†è§£åœ¨JSä¸­ï¼ˆï¼‰æ˜¯ä¸ªä»€ä¹ˆä½œç”¨ï¼Ÿå¯¹äºæ™®é€šçš„è¯­å¥ï¼Œï¼ˆï¼‰ç›´æ¥æ‰§è¡Œã€‚å¯¹äºå‡½æ•°æ¥è¯´ï¼ŒJavaScriptè§£é‡Šå™¨ä¼šåœ¨é»˜è®¤çš„æƒ…å†µä¸‹æŠŠé‡åˆ°çš„functionå…³é”®å­—å½“ä½œæ˜¯å‡½æ•°å£°æ˜è¯­å¥(statement)æ¥è¿›è¡Œè§£é‡Šçš„ã€‚å…ˆæ¥çœ‹ä¸‹é¢çš„è¿™å‡ ä¸ªæ —å­ï¼š</p><pre><code>(111)   // å¸¸é‡ï¼Œå½“åšè¯­å¥å¤„ç†ã€‚æ‰“å° 111(var a)  // å˜é‡å£°æ˜ã€‚ æŠ¥é”™(a = 1)  // èµ‹å€¼è¯­å¥,ä¸è¦å†™&#39;;&#39;ã€‚æ‰“å° 1function()&#123;console.log(&#39;aa&#39;)&#125;()  // åŒ¿åå‡½æ•°ï¼Œä¸æ˜¯æ ‡å‡†çš„å‡½æ•°å£°æ˜è¯­å¥ã€‚æŠ¥é”™(function()&#123;console.log(&#39;aa&#39;)&#125;())  // ç«‹å³æ‰§è¡Œå‡½æ•°ã€‚æ‰“å° aa(function()&#123;console.log(&#39;aa&#39;)&#125;)()  // ç«‹å³æ‰§è¡Œå‡½æ•°ã€‚æ‰“å° aa</code></pre><p>æ‰€ä»¥å…¶å®å¤§è‡´çš„æ„æ€å·²ç»å¾ˆæ˜äº†ã€‚ é€šä¿—çš„æ¥è®²å°±æ˜¯ å› ä¸ºcé¦–å…ˆæ˜¯ä¸€ä¸ªå¾ˆæ ‡å‡†çš„å‡½æ•°è¯­å¥ï¼Œç„¶åï¼ˆï¼‰åˆå¯ä»¥æ‰§è¡Œè¯­å¥ï¼Œæ‰€ä»¥a(c())çš„æ‰§è¡Œé¡ºåºå°±æ˜¯å…ˆæ‰§è¡Œäº†cæ–¹æ³•ï¼Œç„¶åç»§ç»­æ‰§è¡Œaæ–¹æ³•ã€‚å¦‚æœæ¢æˆä¸‹é¢çš„è¿™ç§æ–¹å¼cå°±ä¸ä¼šæ‰§è¡Œäº†ï¼š</p><pre><code>a(c());   // cã€aã€ba(c);// aã€ba(function()&#123;console.log(&#39;nini&#39;)&#125;);// aã€b</code></pre><p>å¥½åƒä¹Ÿæ²¡æœ‰é‚£ä¹ˆç»•â€¦â€¦</p><h3 id="undefinedæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"><a href="#undefinedæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ" class="headerlink" title="undefinedæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"></a><strong>undefinedæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</strong></h3><p>åŸºæœ¬è·¯å­ææ˜ç™½äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªundefinedæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œè¿™æ˜¯Chromeæ§åˆ¶å°çš„ä¸€ç§é»˜è®¤æœºåˆ¶ï¼Œå¯¹äºæ‰§è¡Œè¯­å¥æ¥è¯´ï¼Œæ§åˆ¶å°ä¼šé»˜è®¤å»æ‹¿ä¸Šä¸€è¡Œè¯­å¥çš„è¾“å‡ºã€‚</p><pre><code>a = 1;// æ‰“å° 1var a = 1; // æ‰“å° undefined, å› ä¸ºè¿™æ˜¯ä¸¤è¡Œè¯­å¥(function()&#123;return 1;&#125;)() // æ‰“å° 1function a() &#123;&#125; a(); // æ‰“å° undefinedfunction a() &#123; return 11; &#125; a(); // æ‰“å° 1</code></pre><p>æ‰€ä»¥æ‰“å°undefinedçš„é—®é¢˜æ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œnodeä¸­ä¼šä¸ä¼šæ‰“å°å‘¢ï¼Ÿå°è¯•äº†ä¸€æ³¢å„¿å‘ç°ï¼Œnodeä¸­å¹¶ä¸ä¼šæ‰“å°ï¼Œæ‰€ä»¥åŒæ ·æ˜¯V8å¼•æ“ï¼Œä½†æ˜¯æ§åˆ¶å°è¿™ä¸€å—å„¿è¿˜æ˜¯æœ‰å·®è·çš„ã€‚</p><h3 id="setTimeoutä¸å†™æ—¶é—´å‚æ•°ä¼šå’‹æ ·ï¼Ÿ"><a href="#setTimeoutä¸å†™æ—¶é—´å‚æ•°ä¼šå’‹æ ·ï¼Ÿ" class="headerlink" title="setTimeoutä¸å†™æ—¶é—´å‚æ•°ä¼šå’‹æ ·ï¼Ÿ"></a><strong>setTimeoutä¸å†™æ—¶é—´å‚æ•°ä¼šå’‹æ ·ï¼Ÿ</strong></h3><p>ç»ˆäºç¢°åˆ°äº†æœ€å–œæ¬¢çš„setTimeoutæ–¹æ³•ã€‚æŸ¥é˜…ä¸€å †ä¹±ä¸ƒå…«ç³Ÿèµ„æ–™åï¼ŒsetTimeoutä¸å†™æ—¶é—´å‚æ•°çš„è¯ï¼Œä¼šç”±æµè§ˆå™¨é»˜è®¤ç»™åŠ ä¸Šå»¶è¿Ÿå‚æ•°ï¼Œå…·ä½“å¤šå°‘å„å®¶æµè§ˆå™¨éƒ½ä¸ä¸€æ ·ã€‚</p><p>emmmâ€¦â€¦æ— æ‰€è°“äº†ï¼Œé‚£ä¹ˆ setTimeout(func,0) å’Œ setTimeout(func) æœ‰ä»€ä¹ˆåŒºåˆ«ä¹ˆï¼Ÿ</p><p>ä¸‹é¢ä¸¤å¼ å›¾æ˜¯åœ¨æ§åˆ¶å°è¿›è¡Œäº†4æ¬¡çš„å¯¹æ¯”è¯•éªŒã€‚</p><p><strong>æ²¡æœ‰æ—¶é—´å‚æ•°</strong></p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fn3en77tpyj20ky0d20u9.jpg"></p><p><strong>æ—¶é—´å‚æ•°ä¸º0</strong></p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fn3en7dhw1j20n60cs0u7.jpg"></p><p>å¥½åƒåŠ ä¸Š0çš„ç¡®ä¼šå¿«ä¸€äº›ã€‚ä¸è¿‡æˆ‘ä»¬ä¹ŸçŸ¥é“ï¼Œå³ä½¿æ˜¯0ï¼ŒsetTimeout çš„ä½œç”¨ä¹Ÿåªæ˜¯åŠ åˆ°å½“å‰æ‰§è¡Œçš„äº‹ä»¶é˜Ÿåˆ—å½“ä¸­ï¼Œè€Œä¸”åœ¨æµè§ˆå™¨ç«¯æ¯æ¬¡æ‰§è¡Œä¹Ÿä¼šæœ‰4msçš„å»¶è¿Ÿã€‚å…·ä½“çš„å¯ä»¥çœ‹ä¸€çœ‹æˆ‘çš„å¦ä¸€ç¯‡ï¼š <a href="http://blog.csdn.net/u013707249/article/details/78731356"><strong>çœ‹äº†è¿™ä¹ˆä¹…JSï¼Œäº‹ä»¶é˜Ÿåˆ—ä½ çœŸçš„æ‡‚å—ï¼Ÿ</strong></a>ã€‚</p><p>å…³äºæµè§ˆå™¨çš„4msçš„å·®å¼‚å»¶è¿Ÿï¼Œæˆ‘ä»¬æš‚æ—¶ä¸ç”¨åœ¨æ„ã€‚å½“æˆ‘ä»¬éœ€è¦é‡åˆ°æ€§èƒ½ç“¶é¢ˆæ—¶å¯ä»¥å»ç ”ç©¶ä¸€ä¸‹ï¼Œå…·ä½“çš„æ–¹æ¡ˆçš„å®ç°è¿˜éƒ½æŒºæœ‰æ„æ€çš„ã€‚</p><h3 id="ä¼šæœ‰æµè§ˆå™¨å·®å¼‚ä¹ˆï¼Ÿ"><a href="#ä¼šæœ‰æµè§ˆå™¨å·®å¼‚ä¹ˆï¼Ÿ" class="headerlink" title="ä¼šæœ‰æµè§ˆå™¨å·®å¼‚ä¹ˆï¼Ÿ"></a><strong>ä¼šæœ‰æµè§ˆå™¨å·®å¼‚ä¹ˆï¼Ÿ</strong></h3><p>æœ‰ï¼Œä¸è¿‡æ§åˆ¶å°çš„è¾“å‡ºå½±å“ä¸å¤§ã€‚ä¸å¿…åœ¨æ„ã€‚</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a><strong>ç»“å°¾</strong></h2><p>ä»¥ä¸Šï¼ŒåŸºæœ¬ä¸Šè¯¥æ€è€ƒçš„éƒ½æ€è€ƒäº†ï¼Œä¸çŸ¥é“ä½ çœ‹åˆ°è¿™é‡Œï¼Œè¿˜æœ‰ä»€ä¹ˆåœ¨æ€è€ƒçš„ï¼Œå€˜è‹¥æœ‰çš„è¯ï¼Œä¸å¦¨è¯´æ¥å¬å¬ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6é»‘ç§‘æŠ€å®è·µ--proxy,reflect</title>
      <link href="/2017/12/19/"/>
      <url>/2017/12/19/</url>
      
        <content type="html"><![CDATA[<h1 id="ES6é»‘ç§‘æŠ€å®è·µâ€“proxy-reflect"><a href="#ES6é»‘ç§‘æŠ€å®è·µâ€“proxy-reflect" class="headerlink" title="ES6é»‘ç§‘æŠ€å®è·µâ€“proxy,reflect"></a><strong>ES6é»‘ç§‘æŠ€å®è·µâ€“proxy,reflect</strong></h1><h2 id="å¼€å§‹ä¹‹å‰"><a href="#å¼€å§‹ä¹‹å‰" class="headerlink" title="å¼€å§‹ä¹‹å‰"></a><strong>å¼€å§‹ä¹‹å‰</strong></h2><p><a href="https://kangax.github.io/compat-table/es6/#test-Reflect">** reflectå…¼å®¹æ€§**</a></p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmm18swndlj220c0ttauh.jpg"></p><p><a href="https://caniuse.com/#search=proxy"><strong>proxyå…¼å®¹æ€§</strong></a></p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmltxsptfxj21yq11710d.jpg"></p><p>ä¸Šé¢ä¸¤å›¾åˆ†åˆ«æ˜¯æˆªæ­¢å½“å‰ï¼Œproxyå’Œreflectçš„æµè§ˆå™¨æ”¯æŒç¨‹åº¦ã€‚å¯ä»¥çœ‹å‡ºproxyå’Œreflectçš„æ”¯æŒå·²ç»ç›¸å½“å¥½äº†ï¼Œæ–°ä¸€ç‚¹çš„ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒäº†ï¼ˆé™¤äº†IEï¼‰ã€‚</p><p>æ‰€ä»¥è¿˜æ˜¯ç›¸å½“æœ‰å¿…è¦ç©è€ä¸€ä¸‹çš„ã€‚</p><h2 id="proxy"><a href="#proxy" class="headerlink" title="proxy"></a><strong>proxy</strong></h2><h3 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a><strong>ç®€å•ä»‹ç»</strong></h3><p>å…¶å®es6å‡ºæ¥äº†è¿™ä¹ˆä¹…äº†ï¼Œåœ¨å®é™…çš„é¡¹ç›®ä¸­ä¹Ÿéƒ½ä½¿ç”¨es6ç¼–ç¨‹ã€‚å¯¹äºæŸäº›ç‰¹æ®Šçš„å±æ€§ï¼Œå¦‚proxyï¼Œè™½ç„¶ç”¨çš„ä¸å¤šï¼Œä½†æˆ‘ä»¬æˆ–å¤šæˆ–å°‘ä¹Ÿäº†è§£åˆ°proxyçš„ç”¨æ³•ã€‚è¯¦ç»†çš„ä»‹ç»è¿™é‡Œä¸èµ˜è¿°ï¼Œå¯ä»¥ç§»æ­¥<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"><strong>MDN</strong></a>æŸ¥çœ‹es6ä»‹ç»ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿæœ‰ä¸€ç¯‡å¤§ç¥çš„<a href="http://pinggod.com/2016/%E5%AE%9E%E4%BE%8B%E8%A7%A3%E6%9E%90-ES6-Proxy-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"><strong>es6ä½¿ç”¨å¤§å…¨</strong></a>ï¼Œå€¼å¾—æ·±ç©¶ã€‚</p><p>æ€»ä¹‹ï¼Œç”¨ä¸€å¥è¯æ€»ç»“å°±æ˜¯ï¼šæ”¹å˜äº†è¿‡å»å¯¹è±¡ç›‘å¬çš„å¤æ‚æ“ä½œï¼Œä½¿ç”¨proxyå¯ä»¥ç”¨ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼å®ç°å¤–éƒ¨å¯¹å¯¹è±¡çš„è®¿é—®ã€‚</p><h3 id="es5çš„å®ç°"><a href="#es5çš„å®ç°" class="headerlink" title="es5çš„å®ç°"></a><strong>es5çš„å®ç°</strong></h3><p>é‚£ä¹ˆæˆ–è®¸é—®é¢˜æ¥äº†ï¼Œåœ¨æ²¡æœ‰proxyä¹‹å‰ï¼Œæˆ‘ä»¬æ˜¯æ€ä¹ˆæ ·å®ç°å¯¹å¯¹è±¡çš„ç›‘å¬å‘¢ï¼Ÿ</p><p>å…¶å®åœ¨es5ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Object.defineProperty</code>å’Œ<code>Object.defineProperty</code>æ¥å®ç°å¯¹å¯¹è±¡çš„ç›‘å¬ã€‚åˆ©ç”¨es5å¯¹è±¡çš„getter å’Œ setteræ–¹æ³•ï¼Œå¯ä»¥å®ç°ç®€å•çš„æ–‡ä»¶ç›‘å¬ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>// å¦‚ä½•å®ç°ä¸€ä¸ªè‡ªå­˜æ¡£å¯¹è±¡ã€‚ å½“è®¾ç½®temperature å±æ€§æ—¶ï¼Œarchive æ•°ç»„ä¼šè·å–æ—¥å¿—æ¡ç›®ã€‚function Archiver() &#123;  var temperature = null;  var archive = [];  Object.defineProperty(this, &#39;temperature&#39;, &#123;    get: function() &#123;      console.log(&#39;get!&#39;);      return temperature;    &#125;,    set: function(value) &#123;      temperature = value;      archive.push(&#123; val: temperature &#125;);    &#125;  &#125;);  this.getArchive = function() &#123; return archive; &#125;;&#125;var arc = new Archiver();arc.temperature; // &#39;get!&#39;arc.temperature = 11;arc.temperature = 13;arc.getArchive(); // [&#123; val: 11 &#125;, &#123; val: 13 &#125;]</code></pre><p>ç›®å‰æ”¯æŒåŒå‘ç»‘å®šçš„Vueä¸­çš„å®ç°å°±æ˜¯è¿™ç§æ–¹æ³•ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•ä¸å¤ªå¥½çš„åœ°æ–¹å°±æ˜¯å¯¹äºæ•°ç»„ä¹‹ç±»çš„å¯¹è±¡ï¼Œç±»ä¼¼ä¿®æ”¹æ•°ç»„çš„lengthï¼Œç›´æ¥ç”¨ç´¢å¼•è®¾ç½®å…ƒç´ å¦‚items[0] &#x3D; {}ï¼Œä»¥åŠæ•°ç»„çš„pushï¼Œpopç­‰å˜å¼‚æ–¹æ³•æ˜¯æ— æ³•è§¦å‘setterçš„ã€‚é’ˆå¯¹è¿™äº›ï¼Œvueä¸­çš„å®ç°æ˜¯åœ¨Objectå’ŒArrayçš„åŸå‹æ·»åŠ äº†å®šåˆ¶æ–¹æ³•æ¥å¤„ç†è¿™äº›ç‰¹æ®Šæ“ä½œï¼Œå¯ä»¥å®ç°ä¸Šè¿°è¦æ±‚ã€‚</p><h3 id="ç¬¬ä¸‰æ–¹åº“çš„å®ç°"><a href="#ç¬¬ä¸‰æ–¹åº“çš„å®ç°" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“çš„å®ç°"></a><strong>ç¬¬ä¸‰æ–¹åº“çš„å®ç°</strong></h3><p>è¯·ç§»æ­¥ï¼š</p><ul><li><a href="https://github.com/vuejs/vue">Vue.js</a></li><li><a href="https://github.com/melanke/Watch.JS/blob/master/src/watch.js">Watch.js</a></li><li><a href="https://github.com/angular/angular">Angularjs</a></li><li><a href="https://github.com/knockout/knockout">Knockout.js</a></li></ul><h2 id="reflect"><a href="#reflect" class="headerlink" title="reflect"></a><strong>reflect</strong></h2><h3 id="æ€ä¹ˆç†è§£reflect"><a href="#æ€ä¹ˆç†è§£reflect" class="headerlink" title="æ€ä¹ˆç†è§£reflect"></a><strong>æ€ä¹ˆç†è§£reflect</strong></h3><p>reflect æ˜¯es6æ–°å¢çš„ä¸€ä¸ªå…¨å±€å¯¹è±¡ã€‚é¡¾åæ€ä¹‰ï¼Œ<strong>åå°„</strong>ï¼Œç±»ä¼¼äºJavaé‡Œé¢çš„åå°„æœºåˆ¶ã€‚åœ¨Javaé‡Œé¢ï¼Œåå°„æ˜¯ä¸ªå¾ˆå¤´ç–¼çš„æ¦‚å¿µã€‚ç®€å•ç†è§£ä¸ºï¼š<strong>é€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è·å¾—ç¨‹åºæˆ–ç¨‹åºé›†ä¸­æ¯ä¸€ä¸ªç±»å‹çš„æˆå‘˜å’Œæˆå‘˜çš„ä¿¡æ¯ã€‚å¯¹äºJavaæ¥è¯´ï¼Œç¨‹åºä¸­ä¸€èˆ¬çš„å¯¹è±¡çš„ç±»å‹éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥çš„ï¼Œè€ŒJavaåå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œè¿™æ ·çš„å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚</strong></p><p>è€Œå¯¹äºjsæ¥è¯´è‡ªç„¶æ˜¯æœ‰äº›ä¸åŒäº†ã€‚æ¯•ç«Ÿ<strong>jsä¸éœ€è¦ç¼–è¯‘</strong>ï¼ŒåŒæ—¶<strong>ä¸‡ç‰©çš†å¯¹è±¡</strong>çš„ç‰¹æ€§ï¼Œè¿™äº›éƒ½è®©ç†è§£jsçš„reflectèµ·æ¥ç›¸å½“ç®€å•ã€‚</p><p>å¯¹äºJSä¸­çš„reflectï¼Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºï¼š<strong>æœ‰è¿™ä¹ˆä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œä¸Šé¢ç›´æ¥æŒ‚è½½äº†å¯¹è±¡çš„æŸäº›ç‰¹æ®Šæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥é€šè¿‡<code>Reflect.apply</code>è¿™ç§å½¢å¼æ¥ä½¿ç”¨ï¼Œå½“ç„¶æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å¯ä»¥åœ¨ Object çš„åŸå‹é“¾ä¸­æ‰¾åˆ°çš„ã€‚</strong>æ˜¯ä¸æ˜¯ç›¸å½“ç®€å•ã€‚</p><h3 id="ä½¿ç”¨reflectçš„å¥½å¤„"><a href="#ä½¿ç”¨reflectçš„å¥½å¤„" class="headerlink" title="ä½¿ç”¨reflectçš„å¥½å¤„"></a><strong>ä½¿ç”¨reflectçš„å¥½å¤„</strong></h3><p>å¼•è‡ª<a href="https://zhuanlan.zhihu.com/p/24778807">çŸ¥ä¹ä¸“æ ï¼šES6 Reflect</a></p><ol><li>Reflectä¸Šé¢çš„ä¸€äº›æ–¹æ³•å¹¶ä¸æ˜¯ä¸“é—¨ä¸ºå¯¹è±¡è®¾è®¡çš„ï¼Œæ¯”å¦‚Reflect.applyæ–¹æ³•ï¼Œå®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœä½¿ç”¨Object.apply(func)ä¼šè®©äººæ„Ÿè§‰å¾ˆå¥‡æ€ªã€‚</li><li>ç”¨ä¸€ä¸ªå•ä¸€çš„å…¨å±€å¯¹è±¡å»å­˜å‚¨è¿™äº›æ–¹æ³•ï¼Œèƒ½å¤Ÿä¿æŒå…¶å®ƒçš„JavaScriptä»£ç çš„æ•´æ´ã€å¹²å‡€ã€‚ä¸ç„¶çš„è¯ï¼Œè¿™äº›æ–¹æ³•å¯èƒ½æ˜¯å…¨å±€çš„ï¼Œæˆ–è€…è¦é€šè¿‡åŸå‹æ¥è°ƒç”¨ã€‚</li><li>å°†ä¸€äº›å‘½ä»¤å¼çš„æ“ä½œå¦‚deleteï¼Œinç­‰ä½¿ç”¨å‡½æ•°æ¥æ›¿ä»£ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†è®©ä»£ç æ›´åŠ å¥½ç»´æŠ¤ï¼Œæ›´å®¹æ˜“å‘ä¸‹å…¼å®¹ï¼›ä¹Ÿé¿å…å‡ºç°æ›´å¤šçš„ä¿ç•™å­—ã€‚</li></ol><h3 id="å¸¸è§çš„æ–¹æ³•"><a href="#å¸¸è§çš„æ–¹æ³•" class="headerlink" title="å¸¸è§çš„æ–¹æ³•"></a><strong>å¸¸è§çš„æ–¹æ³•</strong></h3><pre><code>Reflect.applyReflect.constructReflect.definePropertyReflect.deletePropertyReflect.enumerate // åºŸå¼ƒçš„Reflect.getReflect.getOwnPropertyDescriptorReflect.getPrototypeOfReflect.hasReflect.isExtensibleReflect.ownKeysReflect.preventExtensionsReflect.setReflect.setPrototypeOf</code></pre><p>å…·ä½“ç”¨æ³•å½“ç„¶æ˜¯çœ‹ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">MDN: reflectä»‹ç»</a></p><h2 id="ä¸€ä¸ªä½¿ç”¨proxyå’Œreflectå®ç°ç›‘å¬å¯¹è±¡çš„å°ä¾‹å­"><a href="#ä¸€ä¸ªä½¿ç”¨proxyå’Œreflectå®ç°ç›‘å¬å¯¹è±¡çš„å°ä¾‹å­" class="headerlink" title="ä¸€ä¸ªä½¿ç”¨proxyå’Œreflectå®ç°ç›‘å¬å¯¹è±¡çš„å°ä¾‹å­"></a><strong>ä¸€ä¸ªä½¿ç”¨proxyå’Œreflectå®ç°ç›‘å¬å¯¹è±¡çš„å°ä¾‹å­</strong></h2><p>æ —å­æ¥æº(éæœ¬äºº):<a href="https://github.com/sindresorhus/on-change">https://github.com/sindresorhus/on-change</a></p><p>on-changeæ˜¯ä¸€ä¸ªå¯ä»¥ç›‘å¬å¯¹è±¡æˆ–è€…<strong>æ•°ç»„</strong>å†…éƒ¨å˜åŒ–çš„å°å·¥å…·ï¼Œä¸»è¦ä½¿ç”¨proxyæ¥å®ç°ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒä»£ç ï¼š</p><pre><code>// onChange å³è¦è¿›è¡Œçš„ç›‘å¬æ“ä½œmodule.exports = (object, onChange) =&gt; &#123;    const handler = &#123;        get(target, property, receiver) &#123;            try &#123;                return new Proxy(target[property], handler);            &#125; catch (err) &#123;                return Reflect.get(target, property, receiver);            &#125;        &#125;,        defineProperty(target, property, descriptor) &#123;            onChange();            return Reflect.defineProperty(target, property, descriptor);        &#125;,        deleteProperty(target, property) &#123;            onChange();            return Reflect.deleteProperty(target, property);        &#125;    &#125;;    return new Proxy(object, handler);&#125;;</code></pre><p>ä»£ç å¾ˆç²¾ç®€ï¼Œä½†æ˜¯ä¹Ÿæ˜¯æœ‰å¿…è¦ç ”ç©¶ä¸‹ï¼Œæ˜¯ä¸€ä½å¤§å¤§ç‰› <strong><a href="https://sindresorhus.com/">sindresorhus</a></strong> çš„ä½œå“ã€‚</p><p>å…¶å®ä¸€å…±æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼Œ<code>get</code> <code>defineProperty</code> <a href="">defineProperty</a>,ä¸Šé¢ä»£ç å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œæ“ä½œå°±æ˜¯å› ä¸ºç”¨äº†proxyï¼Œå…·ä½“çš„å®ç°åœ¨<code>get</code>æ–¹æ³•ï¼Œæ¯ä¸€å±‚è¿”å›ä¸€ä¸ªproxyï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨ç›‘å¬æ“ä½œè¿™é‡Œä¾ç„¶ä½¿ç”¨çš„æ˜¯ es5çš„ defineProperty æ–¹æ³•ã€‚å…·ä½“çš„å¯ä»¥è‡ªå·±ç ”ç©¶ä¸‹ï¼Œè¿˜æ˜¯å¾ˆæœ‰å¯ç©æ€§çš„ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a><strong>å‚è€ƒ</strong></h2><ul><li><a href="https://segmentfault.com/a/1190000010471230">ã€Šæ·±å…¥ç†è§£ES6ã€‹ç¬”è®°â€”â€”ä»£ç†ï¼ˆProxyï¼‰å’Œåå°„ï¼ˆReflectionï¼‰API</a></li><li><a href="http://www.jianshu.com/p/34f0e6abe312">ES6 ä¹‹ Proxy ä»‹ç»</a></li><li><a href="http://pinggod.com/2016/%E5%AE%9E%E4%BE%8B%E8%A7%A3%E6%9E%90-ES6-Proxy-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/">å®ä¾‹è§£æ ES6 Proxy ä½¿ç”¨åœºæ™¯</a></li><li><a href="https://www.zhihu.com/question/44724640?sort=created">çŸ¥ä¹å›ç­”ï¼šå¦‚ä½•ç›‘å¬ js ä¸­å˜é‡çš„å˜åŒ–?</a></li><li><a href="https://zhuanlan.zhihu.com/p/24778807">çŸ¥ä¹ä¸“æ ï¼šES6 Reflect</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
            <tag> proxy </tag>
            
            <tag> reflect </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨</title>
      <link href="/2017/12/14/"/>
      <url>/2017/12/14/</url>
      
        <content type="html"><![CDATA[<h1 id="Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨"><a href="#Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨" class="headerlink" title="Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨"></a><strong>Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨</strong></h1><h2 id="å‡†å¤‡å·¥ä½œè¦åšå¥½"><a href="#å‡†å¤‡å·¥ä½œè¦åšå¥½" class="headerlink" title="å‡†å¤‡å·¥ä½œè¦åšå¥½"></a><strong>å‡†å¤‡å·¥ä½œè¦åšå¥½</strong></h2><p>åœ¨å­¦ä¹ äº†<strong>Docker</strong>çš„åŸºæ“ä¹‹åï¼Œä¸€å®šå¾ˆæƒ³æ‰¾å°æœºå­ç»ƒç»ƒæ‰‹ï¼Œæœ¬æœºå…¶å®ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€å°æœåŠ¡å™¨å¹¶ä¸”è¿˜æ˜¯çº¿ä¸Šçš„å½“ç„¶æœ€å¥½å•¦ã€‚</p><p>è¿™é‡Œæ¨èä¸¤ä¸ªç¦åˆ©ï¼Œä¹‹æ‰€ä»¥è¯´æ˜¯ç¦åˆ©ï¼Œæ˜¯å› ä¸ºè¿™ç®€ç›´æ˜¯ç§‘æŠ€å¤§è€æ¿ç»™æˆ‘ä»¬è¿™äº›ç©·é€¼å¼€å‘çš„å­¦ä¹ ç¦åˆ©å•Šï¼Œè¯ä¸å¤šè¯´ã€‚</p><p><strong>è…¾è®¯å¼€å‘è€…å®éªŒå®¤</strong></p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg43jt7bqj227s14gk0t.jpg"></p><p><a href="https://cloud.tencent.com/developer/labs/gallery"><strong>è…¾è®¯å¼€å‘è€…å®éªŒå®¤</strong></a>æ˜¯è…¾è®¯æä¾›çš„å¼€å‘è€…ä¸“å±åœ¨çº¿å®éªŒå¹³å°ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥åƒå¤§å­¦é‡Œè®¡ç®—æœºä¸Šæœºè¯¾ç¨‹ä¸€æ ·ï¼Œè·Ÿç€æ•™ç¨‹æ¥ä½“éªŒæœåŠ¡å™¨è¿ç»´çš„å¿«ä¹ï¼Œä½“éªŒæ—¶é•¿å¯ä»¥è¯´æ˜¯ç›¸å½“é•¿äº†ã€‚</p><p><strong>Daocloud</strong></p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg43jz19ij227013iqe1.jpg"></p><p><a href="http://www.daocloud.io/"><strong>Daocloud</strong></a>æ˜¯å›½å†…çš„ä¸€ä¸ªä¼ä¸šçº§å®¹å™¨äº‘å¹³å°ã€‚è™½è¯´æ˜¯ä¼ä¸šçš„ï¼Œä½†æ˜¯æ³¨å†Œäº†ä¹‹åå¯ä»¥æœ‰å¾ˆå¤šçš„å…è´¹ä½“éªŒã€‚ç‰¹åˆ«æ˜¯æ¯æ¬¡å¯ä»¥å…è´¹è¯•ç”¨ä¸¤å°æ—¶çš„èƒ¶å›Šä¸»æœºï¼Œæ›´é‡è¦çš„æ˜¯ä½¿ç”¨å®Œäº†è¿˜å¯ä»¥ç»­æ¯é‡æ–°ä½¿ç”¨ã€‚å¯¹äºæˆ‘ä»¬å­¦ä¹ æ¥è¯´ç»å¯¹å¤Ÿç”¨äº†ã€‚</p><p>æœ¬æ–‡åŸºäºDaocloudæ¥åšè¿™ä¸€æ¬¡å®è·µï¼Œæƒ³ä½¿ç”¨è…¾è®¯å¼€å‘å®éªŒå®¤çš„å¯ä»¥è‡ªå·±å»ä½“éªŒå“ˆã€‚</p><h2 id="å¼€å§‹ä¸Šæ‰‹"><a href="#å¼€å§‹ä¸Šæ‰‹" class="headerlink" title="å¼€å§‹ä¸Šæ‰‹"></a><strong>å¼€å§‹ä¸Šæ‰‹</strong></h2><h3 id="æ‰¾ä¸€ä¸ªå¯ä»¥ä¸Šæ‰‹çš„ç©å„¿çš„é¡¹ç›®"><a href="#æ‰¾ä¸€ä¸ªå¯ä»¥ä¸Šæ‰‹çš„ç©å„¿çš„é¡¹ç›®" class="headerlink" title="æ‰¾ä¸€ä¸ªå¯ä»¥ä¸Šæ‰‹çš„ç©å„¿çš„é¡¹ç›®"></a><strong>æ‰¾ä¸€ä¸ªå¯ä»¥ä¸Šæ‰‹çš„ç©å„¿çš„é¡¹ç›®</strong></h3><p>è¿™ç‚¹ï¼Œä»»ä½•ä¸€ä¸ªéœ€è¦éƒ¨ç½²ä¸”ç¡®ä¿ç¼–è¯‘æˆåŠŸçš„é¡¹ç›®éƒ½å¯ä»¥ã€‚å› ä¸ºæ˜¯ç®€å•å®è·µï¼Œæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨<strong>Daocloud</strong>é•œåƒä»“åº“é‡Œé¢åˆ«äººæä¾›çš„ä¸€ä¸ªé•œåƒ<strong>WordPress</strong>ã€‚</p><p>å¯ä»¥åœ¨ <code>å‘ç°é•œåƒ</code> â€“&gt; <code>ç²¾é€‰é•œåƒ</code> â€“&gt; <code>å†…å®¹ç®¡ç†ç³»ç»Ÿ</code> â€“&gt; <code>WordPress</code> æ‰¾åˆ°</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg43j0j3dj227s0yw44s.jpg"></p><h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a><strong>éƒ¨ç½²</strong></h3><p>ä¹‹åç›´æ¥è¿›å…¥é•œåƒï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’ <code>éƒ¨ç½²</code> ï¼Œè¿›å»</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg4lr1rrvj21s70uujud.jpg"></p><p>åº”ç”¨åç§°éšä¾¿èµ·ï¼Œä¸»æœºé‚£é‡Œå¯ä»¥ç‚¹å‡»è¯•ç”¨2å°æ—¶çš„èƒ¶å›Šä¸»æœºï¼Œç„¶åç‚¹å‡» ä¸‹ä¸€æ­¥ è¿›å…¥åˆ°é…ç½®é¡µ</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg4lquq6gj21vy144aeo.jpg"></p><p>åœ¨é…ç½®é¡µï¼Œä¼šæœ‰ä¸€äº›å‚æ•°é…ç½®ï¼Œ<strong>Volumes</strong> ç›´æ¥é»˜è®¤å€¼ï¼Œ<strong>YAML</strong> æ˜¯ç”¨äºå¤æ‚å¤šèŠ‚ç‚¹éƒ¨ç½²çš„é…ç½®æ–‡ä»¶ï¼Œä¸ç†ï¼Œç›´æ¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº› <strong>é«˜çº§é…ç½®</strong>ï¼Œä»€ä¹ˆå¯åŠ¨æƒé™ï¼Œå¯åŠ¨å‘½ä»¤çš„ï¼Œå·´æ‹‰å·´æ‹‰ï¼Œå½“ç„¶å¦‚æœä½ ä¸æ‡‚ï¼Œç›´æ¥é»˜è®¤ï¼Œ<strong>ç«‹å³éƒ¨ç½²</strong>ã€‚</p><p>ç„¶åå°±ä¼šè·³è½¬æ—¥å¿—é¡µï¼Œç­‰å€™ä¸€ä¸‹ä¸‹ï¼Œç‚¹å‡» <strong>åº”ç”¨</strong> èœå•ï¼Œå¦‚æœä½ åˆšåˆ›å»ºçš„åº”ç”¨æ˜¾ç¤ºçš„æ˜¯ <strong>è¿è¡Œä¸­</strong>ï¼Œé‚£å°±è¯æ˜ä½ éƒ¨ç½²æˆåŠŸäº†ã€‚</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg4lq5llij21t6081dha.jpg"></p><p>è¿™æ—¶ï¼Œç‚¹å‡» <code>é›†ç¾¤ç®¡ç†</code> â€“&gt; <code>ç®¡ç†ä¸»æœº</code> å³å¯çœ‹åˆ°ä¸‹é¢çš„å®¹å™¨åˆ—è¡¨</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg4lr0y0nj221c10sjy7.jpg"></p><p>æµè§ˆå™¨ï¼Œè¾“å…¥ä½ å½“å‰ä¸»æœºçš„å…¬ç½‘IPå’Œç«¯å£å°±å¯ä»¥æ­£å¸¸è®¿é—®åˆ° <strong>WordPress</strong> çš„ä¸»é¡µäº†</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg4lr1p9nj214w13jgph.jpg"></p><p>ä»¥ä¸Šï¼Œéƒ¨ç½²å¤§åŠŸå‘Šæˆã€‚</p><h3 id="ç»§ç»­æŠŠç©"><a href="#ç»§ç»­æŠŠç©" class="headerlink" title="ç»§ç»­æŠŠç©"></a><strong>ç»§ç»­æŠŠç©</strong></h3><p>æ˜¯ä¸æ˜¯æ„Ÿè§‰å¤ªç®€å•äº†ï¼Œå®Œå…¨æ²¡æœ‰æŠ€æœ¯å«é‡ã€‚äº‹å®ä¸Šå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚åªæ˜¯ä¸€ä¸ªç®€å•çš„éƒ¨ç½²ä»»åŠ¡ï¼Œç›®çš„åœ°ä¸ä¸€æ ·è€Œå·²ï¼Œå½“ç„¶é€Ÿåº¦ä¸Šä¹Ÿæ¯”æ­£å¸¸çš„éƒ¨ç½²å¿«äº†ä¸€ä¸ªæ¡£æ¬¡ã€‚</p><p>å½“ç„¶ä¸ä¼šè¿™ä¹ˆç®€å•äº†ã€‚</p><p><strong>éƒ¨ç½²é…ç½®</strong></p><p>åœ¨éƒ¨ç½²æ—¶å…¨éƒ¨é€‰æ‹©é»˜è®¤çš„åœ°æ–¹éƒ½å€¼å¾—ä½ å»ç ”ç©¶ä¸€ä¸‹ï¼Œå¥½çš„é…ç½®æ–¹æ¡ˆï¼Œè®©ä½ çš„åº”ç”¨æ›´è½»æ›´å¿«æ›´ç¨³å®šã€‚</p><p><strong>CI CD</strong></p><p>å¦‚æœä½ è¿˜è¦æ·±å…¥ï¼Œä½ ä¹Ÿå¯ä»¥å»è¯•ç”¨ åˆ©ç”¨æ¥dockeræ¥åšæŒç»­é›†æˆï¼ˆCIï¼‰å’ŒæŒç»­äº¤ä»˜ï¼ˆCDï¼‰ã€‚è¿™ä¸ªåŠŸèƒ½è²Œä¼¼æœ‰ä½¿ç”¨é™åº¦ï¼ˆå› ä¸ºå½“æˆ‘æƒ³è¦å»æˆªå›¾çš„æ—¶å€™ï¼Œæˆ‘å‘ç°æˆ‘å·²ç»æ²¡æœ‰ä½¿ç”¨æƒé™äº†ï¼‰ï¼Œéœ€è¦ä½ æ‹‰å–ä½ è‡ªå·±çš„ç§äººé¡¹ç›®ï¼Œç„¶åä¼šæœ‰ä¸€ç³»åˆ—çš„æµç¨‹å®šä¹‰ï¼Œå¯ä»¥æŒ‰é”®æ“ä½œï¼Œä¹Ÿå¯ä»¥è‡ªå·±å†™YAMLï¼Œæ€»ä¹‹å°±æ˜¯å¾ˆç®€å•çš„æ“ä½œå•¦ã€‚</p><p><strong>è¿œç¨‹è¿æ¥ä¸»æœºæ¥ç©å–½</strong></p><p>åŒæ ·çš„ç‚¹å‡» ç‚¹å‡» <code>é›†ç¾¤ç®¡ç†</code> â€“&gt; <code>ç®¡ç†ä¸»æœº</code> ï¼Œè¿›å…¥ä¸»æœºå®¹å™¨åˆ—è¡¨</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmg85won3aj213a0hcwgk.jpg"></p><p>é€šè¿‡ä¸»æœºæä¾›çš„ç”¨æˆ·åå¯†ç æ¥è¿œç¨‹ç™»å½•ï¼Œç»ƒä¹ ä½ çš„LinuxæŠ€èƒ½ã€‚</p><p>å¦‚æœä½ ä¸çŸ¥é“æ€ä¹ˆè¿æ¥ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« ã€‚</p><p><a href="https://help.aliyun.com/document_detail/51798.html?spm=5176.doc25429.2.13.s1A6X1">sshè¿æ¥è¿œç¨‹ä¸»æœºåŠæ³•</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><p>ä»¥ä¸Šï¼Œç›¸ä¿¡ä½ å¯ä»¥æ„‰å¿«çš„ç©è€äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿˜åœ¨ç”¨è™šæ‹Ÿæœºå—ï¼Œæ˜¯æ—¶å€™ç”¨Dockeräº†</title>
      <link href="/2017/12/13/"/>
      <url>/2017/12/13/</url>
      
        <content type="html"><![CDATA[<h2 id="Dockeræ˜¯å•¥ï¼Ÿ"><a href="#Dockeræ˜¯å•¥ï¼Ÿ" class="headerlink" title="Dockeræ˜¯å•¥ï¼Ÿ"></a><strong>Dockeræ˜¯å•¥ï¼Ÿ</strong></h2><p>å¦‚æœæœ‰äººé—®èµ·äº†ä½ è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥è¿™æ ·å›ç­”ä»–ï¼š<strong>Dockerå°±æ˜¯ä¸€ä¸ªè½»é‡å‹çš„è™šæ‹Ÿæœºï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨æœåŠ¡å™¨æ€§èƒ½ã€‚</strong></p><p>å¦‚æœä½ çš„è¿™ä¸ªå›ç­”è¢«æ€¼äº†ï¼Ÿ</p><ul><li><p>çˆ±æ€¼æ€¼ç”¨æˆ·Aï¼šä»€ä¹ˆè½»é‡å‹çš„è™šæ‹Ÿæœºï¼Œè·Ÿè™šæ‹Ÿæœºæœ¬è´¨ä¸Šæ˜¯æœ‰åŒºåˆ«çš„å¥½å§ï¼Ÿè™šæ‹Ÿæœºå¤šäº†ä¸€å±‚guest OSï¼ŒåŒæ—¶Hypervisorä¼šå¯¹ç¡¬ä»¶èµ„æºè¿›è¡Œè™šæ‹ŸåŒ–ï¼Œè¿è¡Œåœ¨è™šæ‹Ÿæœºä¸Šçš„åº”ç”¨ç¨‹åºåœ¨è¿›è¡Œæ•°å€¼è®¡ç®—æ—¶æ˜¯è¿è¡Œåœ¨Hypervisorè™šæ‹Ÿçš„CPUä¸Šçš„ï¼ˆå¦‚æœä½ ä½¿ç”¨è¿‡win10çš„hyper-vè™šæ‹Ÿæœºå·¥å…·ï¼Œä½ å°±ä¼šå‘ç°å¦‚æœè¦å¼€å¯è™šæ‹Ÿæœºå°±è¦åœ¨bioså¼€å¯cpuçš„è™šæ‹ŸåŒ–ï¼‰ã€‚è€Œdockerç›´æ¥ä½¿ç”¨ç¡¬ä»¶èµ„æºè™šæ‹Ÿæœºå¢åŠ äº†ä¸€å±‚è™šæ‹Ÿç¡¬ä»¶å±‚ï¼Œæ‰€ä»¥èµ„æºåˆ©ç”¨ç‡ç›¸å¯¹dockerä½ã€‚</p></li><li><p>çˆ±æ€¼æ€¼ç”¨æˆ·Bï¼š Dockerå…¶å®ä¹Ÿæ˜¯ç±»ä¼¼äºè™šæ‹Ÿæœºçš„ã€‚è‡³å°‘åœ¨ä½œç”¨ç›®çš„ä¸Šæ˜¯ä¸€è‡´çš„ã€‚ç”¨ä¸€ä¸ªâ€œç»å…¸â€çš„ä¾‹å­æ¥ä½œå¯¹æ¯”å°±æ˜¯ï¼šå°†éƒ¨ç½²åº”ç”¨æ¯”ä½œé¸£äººæ¥æ“èºæ—‹ä¸¸ï¼Œè™šæ‹Ÿæœºç±»ä¼¼äºé¸£äººçš„å½±åˆ†èº«ä¹‹æœ¯ï¼Œæ¯ä¸ªåˆ†èº«ï¼ˆè™šæ‹Ÿæœºï¼‰éƒ½æ‹¥æœ‰åŒæ ·çš„èº«ä½“ï¼ˆOSï¼Œç¯å¢ƒï¼‰,ä½†æ˜¯åœ¨æŸ¥å…‹æ‹‰ï¼ˆCPUï¼‰çš„ä½¿ç”¨ä¸Šï¼Œæ¯ä¸ªåˆ†èº«çš„æŸ¥å…‹æ‹‰ä¼šå‡åˆ†è‡ªçœŸèº«ï¼ˆçœŸæ­£çš„ä¸»æœºï¼‰ï¼Œè¿™ä¸ªè¡Œä¸ºä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºCPUè™šæ‹ŸåŒ–ï¼Œä½†æ˜¯è¿™é‡Œæµªè´¹äº†åˆ†èº«ï¼Œç”¨åˆ†èº«æ¥æ“ä¸€ä¸ªå°èºæ—‹ä¸¸ï¼Œå¤ªæµªè´¹äº†â€¦â€¦è€Œå¯¹äºdockeræ¥è¯´ï¼Œå°±åƒæ˜¯ä¹å°¾æ¨¡å¼çš„é¸£äººï¼Œæˆ‘ç›´æ¥åˆ©ç”¨æˆ‘ä½“å†…çš„ä¹å°¾æŸ¥å…‹æ‹‰ï¼ˆç¡¬ä»¶èµ„æºï¼‰ï¼Œåˆ†æˆä¹åªçˆªå­ï¼Œæ¯åªçˆªå­ç›¸äº’ç‹¬ç«‹ï¼Œä¹Ÿå¯ä»¥æ“å°èºæ—‹ä¸¸â€¦â€¦</p></li><li><p>çˆ±æ€¼æ€¼ç”¨æˆ·Cï¼š æ¥¼ä¸Šèœé¸¡ï¼Œç›´æ¥çœ‹å®˜æ–¹ä»‹ç»ä¸å°±è¡Œäº†ï¼Œ<a href="https://www.docker.com/what-docker">Dockerå®˜æ–¹ä»‹ç»</a>ï¼Œ<a href="https://www.zhihu.com/question/22871084/answer/88293837">Dockeré›†è£…ç®±</a></p></li><li><p>â€¦â€¦</p></li></ul><p>å¯¹äºè¿™äº›ï¼Œä½ åªéœ€å›ç­”ï¼šçœ‹æ¥ä½ ä¸æ˜¯éƒ½çŸ¥é“ä¹ˆâ€¦â€¦</p><p>é‚£ä¹ˆä½¿ç”¨Dockeræœ‰å“ªäº›å¥½å¤„å‘¢?</p><h2 id="ç”¨Dockeræœ‰å•¥å¥½å¤„ï¼Ÿ"><a href="#ç”¨Dockeræœ‰å•¥å¥½å¤„ï¼Ÿ" class="headerlink" title="ç”¨Dockeræœ‰å•¥å¥½å¤„ï¼Ÿ"></a><strong>ç”¨Dockeræœ‰å•¥å¥½å¤„ï¼Ÿ</strong></h2><ul><li>é€Ÿåº¦é£å¿«ä»¥åŠä¼˜é›…çš„éš”ç¦»æ¡†æ¶ï¼š æ¯ä¸ªDockerä¹‹é—´äº’ç›¸éš”ç¦»ã€‚</li><li>ç‰©ç¾ä»·å»‰ï¼š æœåŠ¡å™¨ä¸€å°å¤šè´µæ™“å¾—ä¸ï¼Œçœäº†ä¸å°‘ç»è´¹äº†ã€‚</li><li>CPU&#x2F;å†…å­˜çš„ä½æ¶ˆè€—ï¼šå°‘äº†å¤§éƒ¨åˆ†è™šæ‹Ÿæœºçš„æ²¡å¤ªå¤§ä½œç”¨çš„ç¡¬ä»¶èµ„æºå ç”¨ï¼Œè‡ªç„¶æ¶ˆè€—å°‘äº†ã€‚  </li><li>å¿«é€Ÿå¼€&#x2F;å…³æœºï¼š ç›¸å¯¹äºè™šæ‹Ÿæœºè‚‰é¸¡å¼€æœºé€Ÿåº¦è€Œè¨€ã€‚</li><li>è·¨äº‘è®¡ç®—åŸºç¡€æ„æ¶ï¼š å°±æ˜¯äº‘è®¡ç®—å–½ã€‚</li></ul><h2 id="ç®€å•æ“ä½œï¼šæ­å»º-Docker-ç¯å¢ƒ"><a href="#ç®€å•æ“ä½œï¼šæ­å»º-Docker-ç¯å¢ƒ" class="headerlink" title="ç®€å•æ“ä½œï¼šæ­å»º Docker ç¯å¢ƒ"></a><strong>ç®€å•æ“ä½œï¼šæ­å»º Docker ç¯å¢ƒ</strong></h2><p>ä»¥ä¸‹ä¸Šæ‰‹åŸºäº <strong>CentOS</strong> ï¼Œæ‰€ä»¥ä½ é¦–å…ˆéœ€è¦ä¸€ä¸ªLinuxçš„ç³»ç»Ÿä¸»æœºã€‚</p><h4 id="å®‰è£…ä¸é…ç½®-Docker"><a href="#å®‰è£…ä¸é…ç½®-Docker" class="headerlink" title="å®‰è£…ä¸é…ç½® Docker"></a><strong>å®‰è£…ä¸é…ç½® Docker</strong></h4><p><strong>å®‰è£… Docker</strong></p><p>Docker è½¯ä»¶åŒ…å·²ç»åŒ…æ‹¬åœ¨é»˜è®¤çš„ CentOS-Extras è½¯ä»¶æºé‡Œã€‚å› æ­¤æƒ³è¦å®‰è£… dockerï¼Œåªéœ€è¦è¿è¡Œä¸‹é¢çš„ yum å‘½ä»¤ï¼š</p><pre><code>yum install docker-io -yç›´æ¥yumå®‰è£…ï¼Œå®‰è£…æˆåŠŸåæŸ¥çœ‹ç‰ˆæœ¬docker -vå¯åŠ¨dockerservice docker startè®¾ç½®å¼€æœºå¯åŠ¨chkconfig docker oné…ç½® Docker</code></pre><p>å› ä¸ºå›½å†…è®¿é—® Docker Hub è¾ƒæ…¢, å¯ä»¥ä½¿ç”¨è…¾è®¯äº‘æä¾›çš„å›½å†…é•œåƒæº, åŠ é€Ÿè®¿é—® Docker Hub</p><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><pre><code>echo &quot;OPTIONS=&#39;--registry-mirror=https://mirror.ccs.tencentyun.com&#39;&quot; &gt;&gt; /etc/sysconfig/dockersystemctl daemon-reloadservice docker restart</code></pre><h4 id="Docker-ä¸Šæ‰‹"><a href="#Docker-ä¸Šæ‰‹" class="headerlink" title="Docker ä¸Šæ‰‹"></a><strong>Docker ä¸Šæ‰‹</strong></h4><p><strong>ä¸‹è½½é•œåƒ</strong></p><pre><code>ä¸‹è½½ä¸€ä¸ªå®˜æ–¹çš„ CentOS é•œåƒåˆ°æœ¬åœ°docker pull centosä¸‹è½½å¥½çš„é•œåƒå°±ä¼šå‡ºç°åœ¨é•œåƒåˆ—è¡¨é‡Œdocker imagesè¿è¡Œå®¹å™¨</code></pre><p>è¿™æ—¶æˆ‘ä»¬å¯ä»¥åœ¨åˆšæ‰ä¸‹è½½çš„ <strong>CentOS</strong> é•œåƒç”Ÿæˆçš„å®¹å™¨å†…æ“ä½œäº†ã€‚</p><p>ç”Ÿæˆä¸€ä¸ª centos é•œåƒä¸ºæ¨¡æ¿çš„å®¹å™¨å¹¶ä½¿ç”¨ bash shell</p><pre><code>docker run -it centos /bin/bash</code></pre><p>è¿™ä¸ªæ—¶å€™å¯ä»¥çœ‹åˆ°å‘½ä»¤è¡Œçš„å‰ç«¯å·²ç»å˜æˆäº† <code>[root@(ä¸€ä¸² hash Id)]</code> çš„å½¢å¼, è¿™è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸè¿›å…¥äº† CentOS å®¹å™¨ã€‚</p><p>åœ¨å®¹å™¨å†…æ‰§è¡Œä»»æ„å‘½ä»¤, ä¸ä¼šå½±å“åˆ°å®¿ä¸»æœº, å¦‚ä¸‹</p><pre><code>mkdir -p /data/simple_dockerå¯ä»¥çœ‹åˆ° /data ç›®å½•ä¸‹å·²ç»åˆ›å»ºæˆåŠŸäº† simple_docker æ–‡ä»¶å¤¹ls /dataé€€å‡ºå®¹å™¨exitæŸ¥çœ‹å®¿ä¸»æœºçš„ /data ç›®å½•, å¹¶æ²¡æœ‰ simple_docker æ–‡ä»¶å¤¹, è¯´æ˜å®¹å™¨å†…çš„æ“ä½œä¸ä¼šå½±å“åˆ°å®¿ä¸»æœºls /dataä¿å­˜å®¹å™¨æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨ä¿¡æ¯ï¼Œ èƒ½è·å–å®¹å™¨çš„iddocker ps -aç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤[?]ï¼Œä¿å­˜é•œåƒï¼šdocker commit -m=&quot;å¤‡æ³¨&quot; ä½ çš„CONTAINER_ID ä½ çš„IMAGEè¯·è‡ªè¡Œå°† -m åé¢çš„ä¿¡æ¯æ”¹æˆè‡ªå·±çš„å®¹å™¨çš„ä¿¡æ¯</code></pre><p><strong>Dockerå®¹å™¨çš„åŸºæœ¬æ“ä½œ</strong></p><pre><code>docker [å‘½ä»¤å] --help æŸ¥çœ‹å‘½ä»¤ä»‹ç»docker run åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œåœ¨runåé¢åŠ ä¸Š-då‚æ•°ï¼Œåˆ™ä¼šåˆ›å»ºä¸€ä¸ªå®ˆæŠ¤å¼å®¹å™¨åœ¨åå°è¿è¡Œã€‚docker ps -a æŸ¥çœ‹å·²ç»åˆ›å»ºçš„å®¹å™¨docker ps -s æŸ¥çœ‹å·²ç»å¯åŠ¨çš„å®¹å™¨docker start con_name å¯åŠ¨å®¹å™¨åä¸ºcon_nameçš„å®¹å™¨docker stop con_name åœæ­¢å®¹å™¨åä¸ºcon_nameçš„å®¹å™¨docker rm con_name åˆ é™¤å®¹å™¨åä¸ºcon_nameçš„å®¹å™¨docker rename old_name new_name é‡å‘½åä¸€ä¸ªå®¹å™¨docker attach con_name å°†ç»ˆç«¯é™„ç€åˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨åä¸ºcon_nameçš„å®¹å™¨çš„ç»ˆç«¯ä¸Šé¢å»ï¼Œå‰ææ˜¯åˆ›å»ºè¯¥å®¹å™¨æ—¶æŒ‡å®šäº†ç›¸åº”çš„shæ‰§è¡Œè¿™ä¸ªå‘½ä»¤åï¼ŒæŒ‰ä¸‹å›è½¦é”®ï¼Œä¼šè¿›å…¥å®¹å™¨çš„å‘½ä»¤è¡ŒShellä¸­ã€‚docker logs con_name è·å–å®¹å™¨åä¸ºcon_nameçš„å®¹å™¨æ—¥å¿—docker inspect æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯docker top con_name æŸ¥çœ‹å®¹å™¨åä¸ºcon_nameçš„å®¹å™¨å†…éƒ¨çš„è¿›ç¨‹docker exec å¯ä»¥ç”¨æ¥åœ¨å®¹å™¨ä¸­è¿è¡Œä¸€ä¸ªè¿›ç¨‹</code></pre><p><strong>Dockerçš„è¯¦ç»†æ“ä½œ</strong></p><p>ä¸é€ è½®å­ï¼Œ<a href="http://www.runoob.com/docker/docker-container-usage.html">è¯·æˆ³èœé¸Ÿæ•™ç¨‹ã€‚</a></p><p><strong>shellè„šæœ¬éƒ¨ç½²åˆ°Dockerçš„ä¸€ä¸ªå°æ —å­</strong></p><blockquote><p>å‚è€ƒé“¾æ¥ï¼š</p></blockquote><blockquote><ul><li><a href="https://segmentfault.com/a/1190000004491286">dockeræ¸…ç†é•œåƒ</a></li><li><a href="http://blog.51cto.com/onlyzq/546459">åœ¨Linuxä¸­è®©echoå‘½ä»¤æ˜¾ç¤ºå¸¦é¢œè‰²çš„å­—ã€‚</a></li></ul></blockquote><ul><li><code>echo -e &quot;\033[40;37m é»‘åº•ç™½å­— \033[0m&quot;</code> æ­¤æ–¹æ³•æ˜¯è¾“å…¥å¸¦ä¸Šé¢œè‰²</li><li>æ¸…ç†é•œåƒçš„æ“ä½œæ˜¯ä¸€ç³»åˆ—çš„ã€‚å…·ä½“æƒ…å†µå…·ä½“åˆ†æã€‚ä¾‹å¦‚å¦ä¸€ä¸ªä¾‹å­ï¼š</li><li><code>$ docker ps --filter &quot;status=exited&quot; | grep &#39;weeks ago&#39; | awk &#39;&#123;print $1&#125;&#39; | xargs --no-run-if-empty docker rm</code>ï¼Œæ¥è‡ª<a href="https://stackoverflow.com/questions/17236796/how-to-remove-old-docker-containers">How to remove old Docker containers</a> </li><li><code>awk</code>æ˜¯ä¸€ä¸ªæ–‡æœ¬åˆ†æå·¥å…·ï¼Œæ‰¾å‡ºæ–‡æœ¬æŒ‡å®šä½ç½®çš„å†…å®¹å¹¶printå‡ºæ¥ï¼ˆè§£é‡Šä¸å½“ï¼‰</li></ul><pre><code># å£°æ˜å˜é‡SERVER_HOST=&quot;root@xx.x.xxx.xx&quot;SERVER_PATH=&quot;/home/test/src&quot;BUILD_TIME=`date &quot;+%Y%m%d%H%M&quot;`IMAGE_NAME=&quot;xxxx(dockeré•œåƒ)&quot;# ä¼ è¾“ä¹‹åç‰¹æ®Šæ–‡ä»¶çš„ä¿®æ”¹rsync -cavzP --delete-after ./ --exclude-from=&#39;.rsync-exclude&#39; $SERVER_HOST:$SERVER_PATHrsync -cavzP --delete-after ./node_modules/ftp-client $SERVER_HOST:$SERVER_PATH/node_modulesssh $SERVER_HOST &quot;\  cd $SERVER_PATH; \  echo &quot;å®‰è£…ä¾èµ–&quot;; \  npm install; \  echo &quot;æ¸…ç†è¿‡æ—¶çš„æµ‹è¯•é•œåƒ&quot;; \  docker images | awk &#39;&#123; print \$3 &#125;&#39; | xargs docker rmi ; \  echo &quot;æ„å»ºdockeré•œåƒ $IMAGE_NAME&quot;; \  docker build -t $MAGE_NAME . ;\  echo &quot;å‘å¸ƒdockeré•œåƒ&quot;; \  docker push $IMAGE_NAME ;\  exit; \  &quot;echo &quot;\033[40;32m\n&quot;echo &quot;Sync to Server: $MARKET_SERVER_HOST&quot;echo &quot;Build source code path: $MARKET_SERVER_PATH&quot;echo &quot;Image: $MARKET_IMAGE_NAME&quot;echo &quot;Image deploy success&quot;echo &quot;\033[0m&quot;</code></pre><h2 id="Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨"><a href="#Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨" class="headerlink" title="Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨"></a><strong>Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨</strong></h2><p>è¯¥éƒ¨åˆ†å†…å®¹è¿‡å¤šï¼Œè¯·ç›´æ¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡åšå®¢ï¼š<a href="http://blog.csdn.net/u013707249/article/details/78801575">Dockerå®è·µï¼Œåˆ©ç”¨DaoCloudæ¥éƒ¨ç½²åº”ç”¨</a></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> Linux </tag>
            
            <tag> æŒç»­é›†æˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é«˜æ€§èƒ½æ‰“åŒ…å·¥å…·ï¼šWebpack å¯¹æ¯” Parcel</title>
      <link href="/2017/12/12/"/>
      <url>/2017/12/12/</url>
      
        <content type="html"><![CDATA[<h1 id="Webpack-å¯¹æ¯”-Parcel"><a href="#Webpack-å¯¹æ¯”-Parcel" class="headerlink" title="Webpack å¯¹æ¯” Parcel"></a>Webpack å¯¹æ¯” Parcel</h1><blockquote><p>æœ€è¿‘ç«çš„ä¸€å¡Œç³Šæ¶‚çš„æ‰“åŒ…å·¥å…·<code>parcel</code>,5å¤©å·¦å³å°±å·²ç»è¾¾åˆ°äº†<strong>8K</strong>ä¸ªstarã€‚ç›¸å¯¹äºwebpackçš„èœ—ç‰›ç¼–è¯‘ï¼Œparcelå®£ç§°<strong>Parcel ä½¿ç”¨ worker è¿›ç¨‹å»å¯ç”¨å¤šæ ¸ç¼–è¯‘ã€‚åŒæ—¶æœ‰æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œå³ä½¿åœ¨é‡å¯æ„å»ºåä¹Ÿèƒ½å¿«é€Ÿå†ç¼–è¯‘</strong>ã€‚æ¢å¥è¯è¯´å°±æ˜¯é«˜æ€§èƒ½ï¼Œè¿™ä¹Ÿæ˜¯å®ƒæœ€å¸å¼•äººçš„åœ°æ–¹ã€‚</p><p>å› ä¸ºåœ¨é¡¹ç›®è¢«webpackæŠ˜ç£¨è¿‡ï¼Œæ‰€ä»¥ä»Šå¤©è¿™é‡Œç®€å•ç”¨ä¸¤ä¸ªå°demoæ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p></blockquote><h2 id="å®˜ç½‘åœ°å€"><a href="#å®˜ç½‘åœ°å€" class="headerlink" title="å®˜ç½‘åœ°å€"></a>å®˜ç½‘åœ°å€</h2><ul><li><a href="https://parceljs.org/">å®˜æ–¹ç½‘å€</a></li><li><a href="http://www.parceljs.io/">Parcelä¸­æ–‡ç½‘</a></li><li><a href="https://github.com/parcel-bundler/parcel">Github</a></li><li><a href="https://github.com/justjavac/parcel-example">å…¶ä»–åŒä»çš„æµ‹è¯•</a></li><li><a href="https://juejin.im/post/5a2b6c0cf265da431523d4e2?utm_source=gold_browser_extension">Parceljså’ŒWebpackåœ¨Reacté¡¹ç›®ä¸Šæ‰“åŒ…é€Ÿåº¦å¯¹æ¯”</a></li></ul><h2 id="åˆçº§æµ‹è¯•"><a href="#åˆçº§æµ‹è¯•" class="headerlink" title="åˆçº§æµ‹è¯•"></a>åˆçº§æµ‹è¯•</h2><p>è¿™é‡Œæœ‰ä¸¤ä¸ªåŸºäº<code>webpack</code>å’Œ<code>parcel</code>æ„å»ºçš„reactå°é¡¹ç›®ã€‚</p><ul><li><a href="https://github.com/Michaelooo/webpackToParcel/tree/master/parcel_demo">parcel_demo</a></li><li><a href="https://github.com/Michaelooo/webpackToParcel/tree/master/webpack_demo">webpack_demo</a></li></ul><p>ä¸¤ä¸ªå°é¡¹ç›®åŒæ—¶å¼•ç”¨äº† <code>react</code> ,<code>react-demo</code>,ä»¥åŠç”¨äºè§£æçš„<code>babel-preset-react</code>ã€‚å¯¹äº<code>webapck</code>,è¿˜å¼•å…¥äº†ä¸€ä¸ªè§£æ es6 çš„<code>babel-loader</code>ã€‚</p><h3 id="é€Ÿåº¦å¯¹æ¯”"><a href="#é€Ÿåº¦å¯¹æ¯”" class="headerlink" title="é€Ÿåº¦å¯¹æ¯”"></a>é€Ÿåº¦å¯¹æ¯”</h3><p><strong>parcelåˆæ¬¡æ„å»º</strong>ï¼ˆ2sï¼‰</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmcnecmt65j20xa05s3zh.jpg"></p><p><strong>parcelå·²æ‰“åŒ…çš„æƒ…å†µä¸‹å†æ¬¡æ„å»º</strong> (556ms)<br><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmcnecnk99j20xw05yq3w.jpg"></p><p><strong>webpackåˆæ¬¡æ„å»º</strong> (4s)<br><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fmcnecmyj6j20ps060gms.jpg"></p><p><strong>webpackå·²æ‰“åŒ…çš„æƒ…å†µä¸‹å†æ¬¡æ„å»º</strong> (4s)</p><p>è¿™é‡Œæœ‰äº›é—®é¢˜ï¼Œå› ä¸ºæœªå¯¹webpackçš„é…ç½®åšä¼˜åŒ–ï¼Œæ¯”å¦‚æå–å…¬å…±æ¨¡å—ï¼Œåˆ†å¼€æ‰“åŒ…ç­‰ï¼Œæ‰€ä»¥å³ä½¿åŠ äº†<code>cache = true </code>æµ‹å‡ºçš„ç»“æœå’Œåˆæ¬¡æ„å»ºä¹Ÿå·®ä¸å¤šï¼Œéƒ½æ˜¯ <strong>4s</strong>å·¦å³ã€‚</p><h2 id="è¿›ä¸€æ­¥æµ‹è¯•"><a href="#è¿›ä¸€æ­¥æµ‹è¯•" class="headerlink" title="è¿›ä¸€æ­¥æµ‹è¯•"></a>è¿›ä¸€æ­¥æµ‹è¯•</h2><p>æ­£åœ¨è¿›è¡Œä¸­ã€‚ã€‚ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><strong>ä¸è´Ÿè´£ä»»ç‰ˆï¼š</strong> æ ¹æ®ä»¥ä¸Šæƒ…å†µæ¥çœ‹ï¼Œ<code>Parcel</code>åœ¨é€Ÿåº¦ä¸Šæ¥çœ‹ç¡®å®æœ‰ä¸å°çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯å¦‚æœåœ¨ä¸€ä¸ªå·²ç»ç”¨äº†<code>webpack</code>çš„é¡¹ç›®è¿ç§»çš„è¯ï¼Œä¼°è®¡è¿˜æ˜¯ä¼šæœ‰äº›éº»çƒ¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> webpack </tag>
            
            <tag> parcel.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼ç¬”è®°</title>
      <link href="/2017/12/11/"/>
      <url>/2017/12/11/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å­¦ä¼šä½¿ç”¨ä¸‹é¢çš„æ­£åˆ™ä¹‹å‰åº”è¯¥å…ˆäº†è§£åŸºæœ¬çš„æ­£åˆ™è¯­æ³•ã€‚å¯ä»¥ä»ä¸‹é¢çš„é“¾æ¥è¿›è¡Œå­¦ä¹ ã€‚</p><ul><li><a href="http://yanhaijing.com/javascript/2017/08/06/regexp-syntax/">æ­£åˆ™è¡¨è¾¾å¼æ•™ç¨‹â€”â€”è¯­æ³•ç¯‡</a></li><li><a href="http://yanhaijing.com/javascript/2017/08/26/regexp-practice/">æ­£åˆ™è¡¨è¾¾å¼æ•™ç¨‹â€”â€”jså®è·µç¯‡</a></li><li><a href="http://deerchao.net/tutorials/regex/regex.htm">æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹</a></li><li><a href="https://regexper.com/#%5Cbis%5Cb">æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–å·¥å…·</a></li></ul><h2 id="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"></a>å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</h2><p><strong>å‚è€ƒé“¾æ¥ï¼š</strong> <a href="http://www.jb51.net/article/77687.htm">å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</a></p><p><strong>ä¸€ã€æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼</strong></p><pre><code>1 æ•°å­—ï¼š^[0-9]*$2 nä½çš„æ•°å­—ï¼š^\d&#123;n&#125;$3 è‡³å°‘nä½çš„æ•°å­—ï¼š^\d&#123;n,&#125;$4 m-nä½çš„æ•°å­—ï¼š^\d&#123;m,n&#125;$5 é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š^(0|[1-9][0-9]*)$6 éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š^([1-9][0-9]*)+(.[0-9]&#123;1,2&#125;)?$7 å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š^(\-)?\d+(\.\d&#123;1,2&#125;)?$8 æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š^(\-|\+)?\d+(\.\d+)?$9 æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]&#123;2&#125;)?$10 æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]&#123;1,3&#125;)?$11 éé›¶çš„æ­£æ•´æ•°ï¼š^[1-9]\d*$ æˆ– ^([1-9][0-9]*)&#123;1,3&#125;$ æˆ– ^\+?[1-9][0-9]*$12 éé›¶çš„è´Ÿæ•´æ•°ï¼š^\-[1-9][]0-9&quot;*$ æˆ– ^-[1-9]\d*$13 éè´Ÿæ•´æ•°ï¼š^\d+$ æˆ– ^[1-9]\d*|0$14 éæ­£æ•´æ•°ï¼š^-[1-9]\d*|0$ æˆ– ^((-\d+)|(0+))$15 éè´Ÿæµ®ç‚¹æ•°ï¼š^\d+(\.\d+)?$ æˆ– ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$16 éæ­£æµ®ç‚¹æ•°ï¼š^((-\d+(\.\d+)?)|(0+(\.0+)?))$ æˆ– ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$17 æ­£æµ®ç‚¹æ•°ï¼š^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ æˆ– ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$18 è´Ÿæµ®ç‚¹æ•°ï¼š^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ æˆ– ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$19 æµ®ç‚¹æ•°ï¼š^(-?\d+)(\.\d+)?$ æˆ– ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</code></pre><p><strong>äºŒã€æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼</strong></p><pre><code>1 æ±‰å­—ï¼š^[\u4e00-\u9fa5]&#123;0,&#125;$2 è‹±æ–‡å’Œæ•°å­—ï¼š^[A-Za-z0-9]+$ æˆ– ^[A-Za-z0-9]&#123;4,40&#125;$3 é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ï¼š^.&#123;3,20&#125;$4 ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z]+$5 ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Z]+$6 ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[a-z]+$7 ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z0-9]+$8 ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^\w+$ æˆ– ^\w&#123;3,20&#125;$9 ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š^[\u4E00-\u9FA5A-Za-z0-9_]+$10 ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š^[\u4E00-\u9FA5A-Za-z0-9]+$ æˆ– ^[\u4E00-\u9FA5A-Za-z0-9]&#123;2,20&#125;$11 å¯ä»¥è¾“å…¥å«æœ‰^%&amp;&#39;,;=?$\&quot;ç­‰å­—ç¬¦ï¼š[^%&amp;&#39;,;=?$\x22]+12 ç¦æ­¢è¾“å…¥å«æœ‰~çš„å­—ç¬¦ï¼š[^~\x22]+</code></pre><p><strong>ä¸‰ã€ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼</strong></p><pre><code>1 Emailåœ°å€ï¼š^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$2 åŸŸåï¼š[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?3 InternetURLï¼š[a-zA-z]+://[^\s]* æˆ– ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$4 æ‰‹æœºå·ç ï¼š^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d&#123;8&#125;$5 ç”µè¯å·ç (&quot;XXX-XXXXXXX&quot;ã€&quot;XXXX-XXXXXXXX&quot;ã€&quot;XXX-XXXXXXX&quot;ã€&quot;XXX-XXXXXXXX&quot;ã€&quot;XXXXXXX&quot;å’Œ&quot;XXXXXXXX)ï¼š^(\(\d&#123;3,4&#125;-)|\d&#123;3.4&#125;-)?\d&#123;7,8&#125;$6 å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼š\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;7 èº«ä»½è¯å·(15ä½ã€18ä½æ•°å­—)ï¼š^\d&#123;15&#125;|\d&#123;18&#125;$8 çŸ­èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾)ï¼š^([0-9])&#123;7,18&#125;(x|X)?$ æˆ– ^\d&#123;8,18&#125;|[0-9x]&#123;8,18&#125;|[0-9X]&#123;8,18&#125;?$9 å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$10 å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š^[a-zA-Z]\w&#123;5,17&#125;$11 å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´)ï¼š^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$12 æ—¥æœŸæ ¼å¼ï¼š^\d&#123;4&#125;-\d&#123;1,2&#125;-\d&#123;1,2&#125;13 ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š^(0?[1-9]|1[0-2])$14 ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š^((0?[1-9])|((1|2)[0-9])|30|31)$15 é’±çš„è¾“å…¥æ ¼å¼ï¼š    *. æœ‰å››ç§é’±çš„è¡¨ç¤ºå½¢å¼æˆ‘ä»¬å¯ä»¥æ¥å—:&quot;10000.00&quot; å’Œ &quot;10,000.00&quot;, å’Œæ²¡æœ‰ &quot;åˆ†&quot; çš„ &quot;10000&quot; å’Œ &quot;10,000&quot;ï¼š^[1-9][0-9]*$    *. è¿™è¡¨ç¤ºä»»æ„ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—,ä½†æ˜¯,è¿™ä¹Ÿæ„å‘³ç€ä¸€ä¸ªå­—ç¬¦&quot;0&quot;ä¸é€šè¿‡,æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ä¸‹é¢çš„å½¢å¼ï¼š^(0|[1-9][0-9]*)$    *. ä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—.æˆ‘ä»¬è¿˜å¯ä»¥å…è®¸å¼€å¤´æœ‰ä¸€ä¸ªè´Ÿå·ï¼š^(0|-?[1-9][0-9]*)$    *. è¿™è¡¨ç¤ºä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªå¯èƒ½ä¸ºè´Ÿçš„å¼€å¤´ä¸ä¸º0çš„æ•°å­—.è®©ç”¨æˆ·ä»¥0å¼€å¤´å¥½äº†.æŠŠè´Ÿå·çš„ä¹Ÿå»æ‰,å› ä¸ºé’±æ€»ä¸èƒ½æ˜¯è´Ÿçš„å§.ä¸‹é¢æˆ‘ä»¬è¦åŠ çš„æ˜¯è¯´æ˜å¯èƒ½çš„å°æ•°éƒ¨åˆ†ï¼š^[0-9]+(.[0-9]+)?$    *. å¿…é¡»è¯´æ˜çš„æ˜¯,å°æ•°ç‚¹åé¢è‡³å°‘åº”è¯¥æœ‰1ä½æ•°,æ‰€ä»¥&quot;10.&quot;æ˜¯ä¸é€šè¿‡çš„,ä½†æ˜¯ &quot;10&quot; å’Œ &quot;10.2&quot; æ˜¯é€šè¿‡çš„ï¼š^[0-9]+(.[0-9]&#123;2&#125;)?$    *. è¿™æ ·æˆ‘ä»¬è§„å®šå°æ•°ç‚¹åé¢å¿…é¡»æœ‰ä¸¤ä½,å¦‚æœä½ è®¤ä¸ºå¤ªè‹›åˆ»äº†,å¯ä»¥è¿™æ ·ï¼š^[0-9]+(.[0-9]&#123;1,2&#125;)?$    *. è¿™æ ·å°±å…è®¸ç”¨æˆ·åªå†™ä¸€ä½å°æ•°.ä¸‹é¢æˆ‘ä»¬è¯¥è€ƒè™‘æ•°å­—ä¸­çš„é€—å·äº†,æˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š^[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*(.[0-9]&#123;1,2&#125;)?$    *. 1åˆ°3ä¸ªæ•°å­—,åé¢è·Ÿç€ä»»æ„ä¸ª é€—å·+3ä¸ªæ•°å­—,é€—å·æˆä¸ºå¯é€‰,è€Œä¸æ˜¯å¿…é¡»ï¼š^([0-9]+|[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*)(.[0-9]&#123;1,2&#125;)?$    *. å¤‡æ³¨ï¼šè¿™å°±æ˜¯æœ€ç»ˆç»“æœäº†,åˆ«å¿˜äº†&quot;+&quot;å¯ä»¥ç”¨&quot;*&quot;æ›¿ä»£å¦‚æœä½ è§‰å¾—ç©ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ¥å—çš„è¯(å¥‡æ€ª,ä¸ºä»€ä¹ˆ?)æœ€å,åˆ«å¿˜äº†åœ¨ç”¨å‡½æ•°æ—¶å»æ‰å»æ‰é‚£ä¸ªåæ–œæ ,ä¸€èˆ¬çš„é”™è¯¯éƒ½åœ¨è¿™é‡Œ16 xmlæ–‡ä»¶ï¼š^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$17 ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š[\u4e00-\u9fa5]18 åŒå­—èŠ‚å­—ç¬¦ï¼š[^\x00-\xff] (åŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1))19 ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\n\s*\r (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ)20 HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt; (ç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬å¤ªç³Ÿç³•ï¼Œä¸Šé¢è¿™ä¸ªä¹Ÿä»…ä»…èƒ½éƒ¨åˆ†ï¼Œå¯¹äºå¤æ‚çš„åµŒå¥—æ ‡è®°ä¾æ—§æ— èƒ½ä¸ºåŠ›)21 é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š^\s*|\s*$æˆ–(^\s*)|(\s*$) (å¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼)22 è…¾è®¯QQå·ï¼š[1-9][0-9]&#123;4,&#125; (è…¾è®¯QQå·ä»10000å¼€å§‹)23 ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]\d&#123;5&#125;(?!\d) (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—)24 IPåœ°å€ï¼š\d+\.\d+\.\d+\.\d+ (æå–IPåœ°å€æ—¶æœ‰ç”¨)25 IPåœ°å€ï¼š((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))</code></pre>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è½¬è½½ã€‘Linuxæ­å»º Node.js ç¯å¢ƒ</title>
      <link href="/2017/12/10/"/>
      <url>/2017/12/10/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxæ­å»º-Node-js-ç¯å¢ƒ"><a href="#Linuxæ­å»º-Node-js-ç¯å¢ƒ" class="headerlink" title="Linuxæ­å»º Node.js ç¯å¢ƒ"></a>Linuxæ­å»º Node.js ç¯å¢ƒ</h1><h2 id="å®‰è£…-Node-js-ç¯å¢ƒ"><a href="#å®‰è£…-Node-js-ç¯å¢ƒ" class="headerlink" title="å®‰è£… Node.js ç¯å¢ƒ"></a>å®‰è£… Node.js ç¯å¢ƒ</h2><p>Node.js æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScript, æ˜¯åŸºäº Chrome JavaScript V8 å¼•æ“å»ºç«‹çš„å¹³å°ã€‚</p><h3 id="ä¸‹è½½å¹¶å®‰è£…-Node-js"><a href="#ä¸‹è½½å¹¶å®‰è£…-Node-js" class="headerlink" title="ä¸‹è½½å¹¶å®‰è£… Node.js"></a>ä¸‹è½½å¹¶å®‰è£… Node.js</h3><p>ä¸‹è½½æœ€æ–°çš„ç¨³å®šç‰ˆ v6.10.3 åˆ°æœ¬åœ°</p><pre><code>wget https://nodejs.org/dist/v6.10.3/node-v6.10.3-linux-x64.tar.xz</code></pre><p>ä¸‹è½½å®Œæˆå, å°†å…¶è§£å‹</p><pre><code>tar xvJf node-v6.10.3-linux-x64.tar.xz</code></pre><p>å°†è§£å‹çš„ Node.js ç›®å½•ç§»åŠ¨åˆ° &#x2F;usr&#x2F;local ç›®å½•ä¸‹</p><pre><code>mv node-v6.10.3-linux-x64 /usr/local/node-v6</code></pre><p>é…ç½® node è½¯é“¾æ¥åˆ° &#x2F;bin ç›®å½•</p><pre><code>ln -s /usr/local/node-v6/bin/node /bin/node</code></pre><h2 id="é…ç½®å’Œä½¿ç”¨-npm"><a href="#é…ç½®å’Œä½¿ç”¨-npm" class="headerlink" title="é…ç½®å’Œä½¿ç”¨ npm"></a>é…ç½®å’Œä½¿ç”¨ npm</h2><h3 id="é…ç½®-npm"><a href="#é…ç½®-npm" class="headerlink" title="é…ç½® npm"></a>é…ç½® npm</h3><p>npm æ˜¯ Node.js çš„åŒ…ç®¡ç†å’Œåˆ†å‘å·¥å…·ã€‚å®ƒå¯ä»¥è®© Node.js å¼€å‘è€…èƒ½å¤Ÿæ›´åŠ è½»æ¾çš„å…±äº«ä»£ç å’Œå…±ç”¨ä»£ç ç‰‡æ®µ</p><p>ä¸‹è½½ node çš„å‹ç¼©åŒ…ä¸­å·²ç»åŒ…å«äº† npm , æˆ‘ä»¬åªéœ€è¦å°†å…¶è½¯é“¾æ¥åˆ° bin ç›®å½•ä¸‹å³å¯</p><pre><code>ln -s /usr/local/node-v6/bin/npm /bin/npm</code></pre><p>é…ç½®ç¯å¢ƒå˜é‡</p><p>å°† <code>/usr/local/node-v6/bin</code> ç›®å½•æ·»åŠ åˆ° $PATH ç¯å¢ƒå˜é‡ä¸­å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨é€šè¿‡ npm å…¨å±€å®‰è£…çš„ç¬¬ä¸‰æ–¹å·¥å…·</p><p><code>echo &#39;export PATH=/usr/local/node-v6/bin:$PATH&#39; &gt;&gt; /etc/profile</code><br>ç”Ÿæ•ˆç¯å¢ƒå˜é‡</p><pre><code>source /etc/profile</code></pre><h3 id="ä½¿ç”¨-npm"><a href="#ä½¿ç”¨-npm" class="headerlink" title="ä½¿ç”¨ npm"></a>ä½¿ç”¨ npm</h3><p>é€šè¿‡ npm å®‰è£…è¿›ç¨‹ç®¡ç†æ¨¡å— forever</p><p>npm install forever -g<br>å®Œæˆå®éªŒ</p><p>æ­å–œï¼æ‚¨å·²ç»æˆåŠŸå®Œæˆäº†æ­å»º Node.js ç¯å¢ƒçš„å®éªŒä»»åŠ¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§ç¥çš„è‡ªæˆ‘ä¿®å…» co.js çš„å­¦ä¹ </title>
      <link href="/2017/12/09/"/>
      <url>/2017/12/09/</url>
      
        <content type="html"><![CDATA[<h1 id="å¤§ç¥çš„è‡ªæˆ‘ä¿®å…»-co-js-çš„å­¦ä¹ "><a href="#å¤§ç¥çš„è‡ªæˆ‘ä¿®å…»-co-js-çš„å­¦ä¹ " class="headerlink" title="å¤§ç¥çš„è‡ªæˆ‘ä¿®å…» co.js çš„å­¦ä¹ "></a><strong>å¤§ç¥çš„è‡ªæˆ‘ä¿®å…» co.js çš„å­¦ä¹ </strong></h1><p>æœ€è¿‘åœ¨é¡¹ç›®è¿‡ç¨‹ä¸­æ¶‰åŠå¤§é‡å¼‚æ­¥æµç¨‹å¤„ç†ï¼Œå…¶ä¸­æœ‰ä½¿ç”¨å„ç§æµç¨‹æ§åˆ¶åº“ï¼Œå¤§å®¶ç”¨çš„æœ€å¤šçš„ <code>async</code>ï¼Œå·ç§°promiseæ€§èƒ½è¶…åŸç”Ÿçš„ <code>bluebird</code>ï¼Œè¿˜æœ‰tjå¤§ç¥çš„<code>co.js</code>ç­‰ã€‚å¯ä»¥è¯´æ˜¯ç›¸å½“å¤šäº†ï¼Œäºæ˜¯ç©ºæš‡æœŸé—´æ¥æ•´ç†ä¸€ä¸‹promiseçš„å­¦ä¹ ã€‚</p><p>ä»Šå¤©æ¥çœ‹çš„å°±æ˜¯TJå¤§ç¥çš„éå¸¸ç²¾ç‚¼çš„ co.js ã€‚</p><p>å…·ä½“çš„ä»‹ç»å°±ä¸å¤šè¯´äº†ã€‚è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼Œ<a href="mailto:&#99;&#111;&#x40;&#52;&#x2e;&#48;">&#99;&#111;&#x40;&#52;&#x2e;&#48;</a>ä¹‹å‰è¿”å›çš„æ˜¯ä¸€ä¸ª<code>trunk</code>å‡½æ•°ï¼Œç°åœ¨<a href="mailto:&#x63;&#111;&#64;&#52;&#x2e;&#x30;">&#x63;&#111;&#64;&#52;&#x2e;&#x30;</a>æ”¯æŒpromiseï¼Œç°åœ¨co()ä¼šè¿”å›ä¸€ä¸ªpromiseã€‚<br><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fm8c112bnwj20g205aglz.jpg"></p><h2 id="å…ˆçœ‹ç”¨æ³•"><a href="#å…ˆçœ‹ç”¨æ³•" class="headerlink" title="å…ˆçœ‹ç”¨æ³•"></a><strong>å…ˆçœ‹ç”¨æ³•</strong></h2><h3 id="yieldæ”¯æŒ"><a href="#yieldæ”¯æŒ" class="headerlink" title="yieldæ”¯æŒ"></a><strong>yieldæ”¯æŒ</strong></h3><p>coæœ€æ–¹ä¾¿çš„æ“ä½œä¹Ÿå°±æ˜¯yieldçš„æ”¯æŒï¼Œç°åœ¨æ”¯æŒyieldçš„å¯¹è±¡æœ‰ï¼š</p><ul><li>promises</li><li>thunks (functions)</li><li>array (parallel execution)</li><li>objects (parallel execution)</li><li>generators (delegation)</li><li>generator functions (delegation)</li></ul><p>ä¸‹æ–‡åœ¨æºç é‡Œæœ‰ä½“ç°ã€‚</p><h3 id="ä¸€ä¸ªå®˜ç½‘çš„å°ä¾‹å­ğŸŒ°"><a href="#ä¸€ä¸ªå®˜ç½‘çš„å°ä¾‹å­ğŸŒ°" class="headerlink" title="ä¸€ä¸ªå®˜ç½‘çš„å°ä¾‹å­ğŸŒ°"></a><strong>ä¸€ä¸ªå®˜ç½‘çš„å°ä¾‹å­ğŸŒ°</strong></h3><pre><code>var co = require(&#39;co&#39;);co(function *()&#123;  // æ‰§è¡Œpromise  var result = yield Promise.resolve(true);&#125;).catch(onerror);co(function *()&#123;  // å¹¶è¡Œæ‰§è¡Œå¤šä¸ªpromise  var a = Promise.resolve(1);  var b = Promise.resolve(2);  var c = Promise.resolve(3);  var res = yield [a, b, c];  console.log(res);  // =&gt; [1, 2, 3]&#125;).catch(onerror);// é”™è¯¯æ•æ‰co(function *()&#123;  try &#123;    yield Promise.reject(new Error(&#39;boom&#39;));  &#125; catch (err) &#123;    console.error(err.message); // &quot;boom&quot; &#125;&#125;).catch(onerror);function onerror(err) &#123;  console.error(err.stack);&#125;// å°†ä¸€ä¸ªgeneratorå‡½æ•°è½¬æ¢æˆè¿”å›ä¸€ä¸ªpromiseå‡½æ•°çš„æ–¹æ³•var fn = co.wrap(function* (val) &#123;  return yield Promise.resolve(val);&#125;);fn(true).then(function (val) &#123;&#125;);</code></pre><h2 id="çœ‹æºç "><a href="#çœ‹æºç " class="headerlink" title="çœ‹æºç "></a><strong>çœ‹æºç </strong></h2><h3 id="wrap-å‡½æ•°çš„å®ç°"><a href="#wrap-å‡½æ•°çš„å®ç°" class="headerlink" title="wrap å‡½æ•°çš„å®ç°"></a><strong>wrap å‡½æ•°çš„å®ç°</strong></h3><p>å¤§ç¥å†™çš„ä»£ç å°±æ˜¯ååˆ†çš„ç²¾ç‚¼ï¼Œwrap å‡½æ•°çš„å®ç°ä¹Ÿåªæ˜¯7è¡Œä»£ç è€Œå·²ã€‚</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fm8c92jch2j20cr0460sy.jpg"></p><p>å…¶å®æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„çš„ï¼Œå°±æ˜¯ï¼š</p><ol><li><strong>æ²¡æœ‰å†™åœ¨åŸå‹é“¾ä¸Šè€Œæ˜¯ä½œä¸ºä¸€ä¸ªç§æœ‰æ–¹æ³•æ˜¯ä¸ºäº†é¿å…æ¯æ¬¡æ‰§è¡Œ<code>co()</code>çš„æ—¶å€™ç”Ÿæˆä¸€ä¸ªæ–°çš„wrapæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¾ç„¶æ²¡å¿…è¦ã€‚</strong></li><li><strong>å…³é”®åœ¨äºè¿”å›äº†ä¸€ä¸ª<code>co()</code>,å› ä¸º<code>co()</code>ä¼š return ä¸€ä¸ª promiseï¼Œå³ç”Ÿæˆä¸€ä¸ªæ–°çš„promiseã€‚åŒæ—¶åˆ©ç”¨ call å’Œ apply æ”¹å˜äº† this çš„æŒ‡å‘ï¼ŒæŒ‡å‘ <code>co</code> ã€‚</strong></li></ol><h3 id="å¹¶è¡Œå¤šä¸ªpromise"><a href="#å¹¶è¡Œå¤šä¸ªpromise" class="headerlink" title="å¹¶è¡Œå¤šä¸ªpromise"></a><strong>å¹¶è¡Œå¤šä¸ªpromise</strong></h3><p>å…¶å® co æ–¹æ³•çš„ä¸»ä½“ä¸ç”¨ç»†çœ‹ï¼ŒåŸºæœ¬å°±æ˜¯æŒ‰ç…§ es6 promise çš„ä¸€ç§é‡å†™ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯å¹¶è¡Œæ”¯æŒpromiseã€‚å³ï¼Œå½“ yield ä¸€ä¸ª object æˆ–è€… array çš„æ—¶å€™ï¼Œå¹¶è¡Œæ‰§è¡Œå¤šä¸ª promiseã€‚</p><p>ä¸€å¼€å§‹å½“æˆ‘å¬åˆ°å¹¶è¡Œçš„æ—¶å€™ï¼Œæ˜¯æœ‰ç‚¹æ‡µçš„ï¼Œä½†çœ‹åˆ°æºç çš„æ—¶å€™å‘ç°æ²¡æœ‰æƒ³å¾—é‚£ä¹ˆå¤æ‚ï¼Œå…¶å®å°±æ˜¯ promise çš„åŸç”Ÿæ–¹æ³•çš„åŠŸåŠ³ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all">promise.all()</a>,å¯ä»¥å¾€ä¸‹çœ‹ã€‚ã€‚ã€‚</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fm8cz6i569j20h204qdgk.jpg"></p><p>è¿™é‡Œçš„ <code>toPromise()</code> æ˜¯åœ¨ next æ–¹æ³•çš„å®ç°ä¸­æ‰§è¡Œçš„ï¼Œå…³é”®çš„ä»£ç å°±ä¸¤å¥ï¼š</p><pre><code>var value = toPromise.call(ctx, ret.value);if (value &amp;&amp; isPromise(value)) return value.then(onFulfilled, onRejected);</code></pre><p>ç„¶åï¼Œå°±æ˜¯ <code>arrayToPromise</code> å’Œ <code>objectToPromise</code> ä¸¤ä¸ªæ–¹æ³•çš„å®ç°ï¼š</p><p><img src="http://ww1.sinaimg.cn/large/86c7c947gy1fm8cz6jak7j20dk0dnq49.jpg"></p><p>å°±æ˜¯è¿™ä¹ˆç®€å•â€¦â€¦</p><p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1512702212168&di=9bc459180689c8af63056bc2c0a9ca2e&imgtype=jpg&src=http://img4.imgtn.bdimg.com/it/u=2105664939,4183524365&fm=214&gp=0.jpg"></p><h3 id="åºå±±çœŸé¢ç›®ï¼ŒçœŸæ­£çš„æºç "><a href="#åºå±±çœŸé¢ç›®ï¼ŒçœŸæ­£çš„æºç " class="headerlink" title="åºå±±çœŸé¢ç›®ï¼ŒçœŸæ­£çš„æºç "></a><strong>åºå±±çœŸé¢ç›®ï¼ŒçœŸæ­£çš„æºç </strong></h3><pre><code>var slice = Array.prototype.slice;module.exports = co[&#39;default&#39;] = co.co = co;co.wrap = function (fn) &#123;  createPromise.__generatorFunction__ = fn;  return createPromise;  function createPromise() &#123;    return co.call(this, fn.apply(this, arguments));  &#125;&#125;;function co(gen) &#123;  var ctx = this;  var args = slice.call(arguments, 1);  return new Promise(function(resolve, reject) &#123;    if (typeof gen === &#39;function&#39;) gen = gen.apply(ctx, args);    if (!gen || typeof gen.next !== &#39;function&#39;) return resolve(gen);    onFulfilled();    function onFulfilled(res) &#123;      var ret;      try &#123;        ret = gen.next(res);      &#125; catch (e) &#123;        return reject(e);      &#125;      next(ret);      return null;    &#125;    function onRejected(err) &#123;      var ret;      try &#123;        ret = gen.throw(err);      &#125; catch (e) &#123;        return reject(e);      &#125;      next(ret);    &#125;    function next(ret) &#123;      if (ret.done) return resolve(ret.value);      var value = toPromise.call(ctx, ret.value);      if (value &amp;&amp; isPromise(value)) return value.then(onFulfilled, onRejected);      return onRejected(new TypeError(&#39;You may only yield a function, promise, generator, array, or object, &#39;        + &#39;but the following object was passed: &quot;&#39; + String(ret.value) + &#39;&quot;&#39;));    &#125;  &#125;);&#125;function toPromise(obj) &#123;  if (!obj) return obj;  if (isPromise(obj)) return obj;  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);  if (&#39;function&#39; == typeof obj) return thunkToPromise.call(this, obj);  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);  if (isObject(obj)) return objectToPromise.call(this, obj);  return obj;&#125;function thunkToPromise(fn) &#123;  var ctx = this;  return new Promise(function (resolve, reject) &#123;    fn.call(ctx, function (err, res) &#123;      if (err) return reject(err);      if (arguments.length &gt; 2) res = slice.call(arguments, 1);      resolve(res);    &#125;);  &#125;);&#125;function arrayToPromise(obj) &#123;  return Promise.all(obj.map(toPromise, this));&#125;function objectToPromise(obj)&#123;  var results = new obj.constructor();  var keys = Object.keys(obj);  var promises = [];  for (var i = 0; i &lt; keys.length; i++) &#123;    var key = keys[i];    var promise = toPromise.call(this, obj[key]);    if (promise &amp;&amp; isPromise(promise)) defer(promise, key);    else results[key] = obj[key];  &#125;  return Promise.all(promises).then(function () &#123;    return results;  &#125;);  function defer(promise, key) &#123;    // predefine the key in the result    results[key] = undefined;    promises.push(promise.then(function (res) &#123;      results[key] = res;    &#125;));  &#125;&#125;function isPromise(obj) &#123;  return &#39;function&#39; == typeof obj.then;&#125;function isGenerator(obj) &#123;  return &#39;function&#39; == typeof obj.next &amp;&amp; &#39;function&#39; == typeof obj.throw;&#125; function isGeneratorFunction(obj) &#123;  var constructor = obj.constructor;  if (!constructor) return false;  if (&#39;GeneratorFunction&#39; === constructor.name || &#39;GeneratorFunction&#39; === constructor.displayName) return true;  return isGenerator(constructor.prototype);&#125;function isObject(val) &#123;  return Object == val.constructor;&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> promise </tag>
            
            <tag> es6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºJSäº‹ä»¶é˜Ÿåˆ—çš„ä¸€äº›æ€»ç»“</title>
      <link href="/2017/12/08/"/>
      <url>/2017/12/08/</url>
      
        <content type="html"><![CDATA[<h1 id="å…³äºJSäº‹ä»¶é˜Ÿåˆ—çš„ä¸€äº›æ€»ç»“"><a href="#å…³äºJSäº‹ä»¶é˜Ÿåˆ—çš„ä¸€äº›æ€»ç»“" class="headerlink" title="å…³äºJSäº‹ä»¶é˜Ÿåˆ—çš„ä¸€äº›æ€»ç»“"></a><strong>å…³äºJSäº‹ä»¶é˜Ÿåˆ—çš„ä¸€äº›æ€»ç»“</strong></h1><h2 id="å…³äºä»»åŠ¡é˜Ÿåˆ—"><a href="#å…³äºä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="å…³äºä»»åŠ¡é˜Ÿåˆ—"></a><strong>å…³äºä»»åŠ¡é˜Ÿåˆ—</strong></h2><p>å…¶å®ä¹‹æ‰€ä»¥æˆ‘ä»¬è¦å»å…³å¿ƒJSçš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸»è¦è¿˜æ˜¯å› ä¸ºJSçš„å•çº¿ç¨‹çš„ç‰¹è´¨å†³å®šã€‚</p><h3 id="ä¸ºä»€ä¹ˆJavaScriptæ˜¯å•çº¿ç¨‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆJavaScriptæ˜¯å•çº¿ç¨‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆJavaScriptæ˜¯å•çº¿ç¨‹ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆJavaScriptæ˜¯å•çº¿ç¨‹ï¼Ÿ</strong></h3><p>æœ¬æ®µæ¥è‡ªé˜®è€å¸ˆçš„åšå®¢ä¸­å¯¹JSå•çº¿ç¨‹çš„ä»‹ç»ã€‚</p><blockquote><p>JavaScriptè¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆJavaScriptä¸èƒ½æœ‰å¤šä¸ªçº¿ç¨‹å‘¢ï¼Ÿè¿™æ ·èƒ½æé«˜æ•ˆç‡å•Šã€‚</p><p>JavaScriptçš„å•çº¿ç¨‹ï¼Œä¸å®ƒçš„ç”¨é€”æœ‰å…³ã€‚ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScriptçš„ä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨ï¼Œä»¥åŠæ“ä½œDOMã€‚è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚æ¯”å¦‚ï¼Œå‡å®šJavaScriptåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨æŸä¸ªDOMèŠ‚ç‚¹ä¸Šæ·»åŠ å†…å®¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åˆ é™¤äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶æµè§ˆå™¨åº”è¯¥ä»¥å“ªä¸ªçº¿ç¨‹ä¸ºå‡†ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿï¼ŒJavaScriptå°±æ˜¯å•çº¿ç¨‹ï¼Œè¿™å·²ç»æˆäº†è¿™é—¨è¯­è¨€çš„æ ¸å¿ƒç‰¹å¾ï¼Œå°†æ¥ä¹Ÿä¸ä¼šæ”¹å˜ã€‚</p><p>ä¸ºäº†åˆ©ç”¨å¤šæ ¸CPUçš„è®¡ç®—èƒ½åŠ›ï¼ŒHTML5æå‡ºWeb Workeræ ‡å‡†ï¼Œå…è®¸JavaScriptè„šæœ¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œä¸”ä¸å¾—æ“ä½œDOMã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ–°æ ‡å‡†å¹¶æ²¡æœ‰æ”¹å˜JavaScriptå•çº¿ç¨‹çš„æœ¬è´¨ã€‚</p></blockquote><h3 id="ä»»åŠ¡é˜Ÿåˆ—çš„æœ¬è´¨"><a href="#ä»»åŠ¡é˜Ÿåˆ—çš„æœ¬è´¨" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—çš„æœ¬è´¨"></a><strong>ä»»åŠ¡é˜Ÿåˆ—çš„æœ¬è´¨</strong></h3><ul><li>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚</li><li>ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªâ€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚</li><li>ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚</li><li>ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚</li></ul><h2 id="å…³äº-setTimeOutã€setImmediateã€process-nextTick-çš„æ¯”è¾ƒ"><a href="#å…³äº-setTimeOutã€setImmediateã€process-nextTick-çš„æ¯”è¾ƒ" class="headerlink" title="å…³äº setTimeOutã€setImmediateã€process.nextTick()çš„æ¯”è¾ƒ"></a><strong>å…³äº setTimeOutã€setImmediateã€process.nextTick()çš„æ¯”è¾ƒ</strong></h2><h3 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout()"></a><strong>setTimeout()</strong></h3><ul><li>å°†äº‹ä»¶æ’å…¥åˆ°äº†äº‹ä»¶é˜Ÿåˆ—ï¼Œå¿…é¡»ç­‰åˆ°å½“å‰ä»£ç ï¼ˆæ‰§è¡Œæ ˆï¼‰æ‰§è¡Œå®Œï¼Œä¸»çº¿ç¨‹æ‰ä¼šå»æ‰§è¡Œå®ƒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</li><li>å½“ä¸»çº¿ç¨‹æ—¶é—´æ‰§è¡Œè¿‡é•¿ï¼Œæ— æ³•ä¿è¯å›è°ƒä¼šåœ¨äº‹ä»¶æŒ‡å®šçš„æ—¶é—´æ‰§è¡Œã€‚</li><li>æµè§ˆå™¨ç«¯æ¯æ¬¡<code>setTimeout </code>ä¼šæœ‰4msçš„å»¶è¿Ÿï¼Œå½“è¿ç»­æ‰§è¡Œå¤šä¸ª<code>setTimeout </code>ï¼Œæœ‰å¯èƒ½ä¼šé˜»å¡è¿›ç¨‹ï¼Œé€ æˆæ€§èƒ½é—®é¢˜ã€‚</li></ul><h3 id="setImmediate"><a href="#setImmediate" class="headerlink" title="setImmediate()"></a><strong>setImmediate()</strong></h3><ul><li>äº‹ä»¶æ’å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—å°¾éƒ¨ï¼Œä¸»çº¿ç¨‹å’Œäº‹ä»¶é˜Ÿåˆ—çš„å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åç«‹å³æ‰§è¡Œã€‚å’ŒsetTimeout(fn,0)çš„æ•ˆæœå·®ä¸å¤šã€‚</li><li>æœåŠ¡ç«¯nodeæä¾›çš„æ–¹æ³•ã€‚æµè§ˆå™¨ç«¯æœ€æ–°çš„apiä¹Ÿæœ‰ç±»ä¼¼å®ç°:<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/setImmediate">window.setImmediate</a>,ä½†æ”¯æŒçš„æµè§ˆå™¨å¾ˆå°‘ã€‚</li></ul><h3 id="process-nextTick"><a href="#process-nextTick" class="headerlink" title="process.nextTick()"></a><strong>process.nextTick()</strong></h3><ul><li>æ’å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—å°¾éƒ¨ï¼Œä½†åœ¨ä¸‹æ¬¡äº‹ä»¶é˜Ÿåˆ—ä¹‹å‰ä¼šæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæŒ‡å®šçš„ä»»åŠ¡æ€»æ˜¯å‘ç”Ÿåœ¨æ‰€æœ‰å¼‚æ­¥ä»»åŠ¡ä¹‹å‰ï¼Œå½“å‰ä¸»çº¿ç¨‹çš„æœ«å°¾ã€‚</li><li>å¤§è‡´æµç¨‹ï¼šå½“å‰â€æ‰§è¡Œæ ˆâ€çš„å°¾éƒ¨â€“&gt;ä¸‹ä¸€æ¬¡Event Loopï¼ˆä¸»çº¿ç¨‹è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼‰ä¹‹å‰â€“&gt;è§¦å‘processæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</li><li>æœåŠ¡å™¨ç«¯nodeæä¾›çš„åŠæ³•ã€‚ç”¨æ­¤æ–¹æ³•å¯ä»¥ç”¨äºå¤„äºå¼‚æ­¥å»¶è¿Ÿçš„é—®é¢˜ã€‚</li><li>å¯ä»¥ç†è§£ä¸ºï¼šæ­¤æ¬¡ä¸è¡Œï¼Œé¢„çº¦ä¸‹æ¬¡ä¼˜å…ˆæ‰§è¡Œã€‚</li></ul><h2 id="å…³äºæ¶ˆé™¤-setTimeout-å»¶è¿Ÿçš„å®è·µï¼šsoon-js"><a href="#å…³äºæ¶ˆé™¤-setTimeout-å»¶è¿Ÿçš„å®è·µï¼šsoon-js" class="headerlink" title="å…³äºæ¶ˆé™¤ setTimeout å»¶è¿Ÿçš„å®è·µï¼šsoon.js"></a><strong>å…³äºæ¶ˆé™¤ setTimeout å»¶è¿Ÿçš„å®è·µï¼šsoon.js</strong></h2><h3 id="why"><a href="#why" class="headerlink" title="why?"></a><strong>why?</strong></h3><p>å¦‚<code>setTimeout</code> çš„ä»‹ç»æ‰€è¨€ï¼Œæµè§ˆå™¨ç«¯æ¯æ¬¡<code>setTimeout </code>ä¼šæœ‰4msçš„å»¶è¿Ÿï¼Œå½“è¿ç»­æ‰§è¡Œå¤šä¸ª<code>setTimeout </code>ï¼Œæœ‰å¯èƒ½ä¼šé˜»å¡è¿›ç¨‹ï¼Œé€ æˆæ€§èƒ½é—®é¢˜ã€‚</p><p><code>soon.js</code>å°±æ˜¯å…³äºè¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªå¥½çš„å®è·µã€‚ä½†å…¶å®å¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬ä¸å¿…ä¸ºè¿™4msçš„å»¶è¿Ÿè®¡è¾ƒï¼Œé™¤éä½ åœ¨ä¸€æ¬¡æ‰§è¡Œä¸­<code>setTimeout</code>çš„æ¬¡æ•°è¶³å¤Ÿå¤šã€‚ä»£ç å¾ˆçŸ­ï¼Œå¯ä»¥ç”¨æ¥å­¦ä¹ ä¸‹ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a><strong>ä½¿ç”¨æ–¹æ³•</strong></h3><p>å¯ä»¥å‚è€ƒ<a href="https://jsfiddle.net/0tscgwe6/2/">ç¤ºä¾‹</a></p><h3 id="æºç ï¼š"><a href="#æºç ï¼š" class="headerlink" title="æºç ï¼š"></a><strong>æºç ï¼š</strong></h3><pre><code>// See http://www.bluejava.com/4NS/Speed-up-your-Websites-with-a-Faster-setTimeout-using-soon// ä½¿ç”¨ soon.js å¤„ç†åœ¨æµè§ˆå™¨ç«¯ settimeoutï¼ˆå¤§é‡è°ƒç”¨ï¼‰ï¼Œ4ms * n çš„å»¶è¿Ÿé—®é¢˜var soon = (function() &#123;            var fq = []; // äº‹ä»¶é˜Ÿåˆ—;            function callQueue()        &#123;            while(fq.length) // æ‰§è¡Œé˜Ÿåˆ—ä¸­äº‹ä»¶            &#123;                var fe = fq[0];                fe.f.apply(fe.m,fe.a) // æ‰§è¡Œé˜Ÿåˆ—ä¸­äº‹ä»¶                fq.shift();             &#125;        &#125;            // å¼‚æ­¥æ‰§è¡Œé˜Ÿåˆ—äº‹ä»¶ï¼Œæœ€å¤§æ•ˆç‡        var cqYield = (function() &#123;                    // é€šè¿‡ MutationObserver æ¥ç›‘å¬ Dom æ¥æ‰§è¡Œå›è°ƒï¼Œæ­¤æ³•æœ€å¿«                if(typeof MutationObserver !== &quot;undefined&quot;)                &#123;                    var dd = document.createElement(&quot;div&quot;);                    var mo = new MutationObserver(callQueue);                    mo.observe(dd, &#123; attributes: true &#125;);                        return function(fn) &#123; dd.setAttribute(&quot;a&quot;,0); &#125; // trigger callback to                &#125;                    // å¦‚æœæ”¯æŒ setImmediate ï¼Œé‡‡å–æ­¤ç­–ç•¥ï¼Œå…¶å® setImmediate å’Œ setTimeout(callQueue,0) å·®ä¸å¤š                if(typeof setImmediate !== &quot;undefined&quot;)                    return function() &#123; setImmediate(callQueue) &#125;                    // æ²¡åŠæ³•äº†ï¼Œå°±ç”¨ setTimeOut çš„åŠæ³•                return function() &#123; setTimeout(callQueue,0) &#125;            &#125;)();            return function(fn) &#123;                // é˜Ÿåˆ—äº‹ä»¶è£…è½½è¿›ä¸€ä¸ªæ•°ç»„                fq.push(&#123;f:fn,a:[].slice.apply(arguments).splice(1),m:this&#125;);                    if(fq.length == 1) // åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªæ¡ç›®æ—¶ï¼Œå¯åŠ¨å›è°ƒå‡½æ•°                    cqYield();            &#125;;        &#125;)();</code></pre><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a><strong>åˆ†æ</strong></h3><p>å…¶å®ï¼Œå€¼å¾—åˆ†æå°±æ˜¯ä¸€ä¸ªæ–°çš„ä¸œè¥¿â€“<code>MutationObserver</code>ã€‚</p><p><code>MutationObserver</code>ç»™å¼€å‘è€…ä»¬æä¾›äº†ä¸€ç§èƒ½åœ¨æŸä¸ªèŒƒå›´å†…çš„DOMæ ‘å‘ç”Ÿå˜åŒ–æ—¶ä½œå‡ºé€‚å½“ååº”çš„èƒ½åŠ›.è¯¥APIè®¾è®¡ç”¨æ¥æ›¿æ¢æ‰åœ¨DOM3äº‹ä»¶è§„èŒƒä¸­å¼•å…¥çš„<a href="https://developer.mozilla.org/zh-CN/docs/DOM/Mutation_events">Mutation</a>äº‹ä»¶.</p><p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯è¿™ä¸ªä¸œè¥¿æ¯”<code>setTimeOut</code>ï¼Œ<code>setImmediate</code>å¿«ï¼Œæµè§ˆå™¨æ”¯æŒå°±ç”¨å®ƒå°±è¡Œäº†ã€‚</p><p>å…³äº<code>soon.js</code>çš„æ›´è¯¦ç»†çš„ä»‹ç»å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚<a href="http://www.bluejava.com/4NS/Speed-up-your-Websites-with-a-Faster-setTimeout-using-soon">Speed up your Websites with a Faster setTimeout using soon()</a></p><p><code>MutationObserver</code>ç»™å¼€å‘è€…ä»¬æä¾›äº†ä¸€ç§èƒ½åœ¨æŸä¸ªèŒƒå›´å†…çš„DOMæ ‘å‘ç”Ÿå˜åŒ–æ—¶ä½œå‡ºé€‚å½“ååº”çš„èƒ½åŠ›.è¯¥APIè®¾è®¡ç”¨æ¥æ›¿æ¢æ‰åœ¨DOM3äº‹ä»¶è§„èŒƒä¸­å¼•å…¥çš„<a href="https://developer.mozilla.org/zh-CN/docs/DOM/Mutation_events">Mutation</a>äº‹ä»¶.</p><h2 id="å‚è€ƒåšå®¢ï¼š"><a href="#å‚è€ƒåšå®¢ï¼š" class="headerlink" title="å‚è€ƒåšå®¢ï¼š"></a><strong>å‚è€ƒåšå®¢ï¼š</strong></h2><ul><li><p><a href="http://www.cnblogs.com/cdwp8/p/4065846.html">setTimeoutå’ŒsetImmediateä»¥åŠprocess.nextTickçš„åŒºåˆ«</a></p></li><li><p><a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html">JavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> JSäº‹ä»¶é˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½®å­ï¼šä¸€ä¸ªç®€å•çš„nodeçˆ¬è™«è¸©å‘ä¹‹è·¯</title>
      <link href="/2017/12/07/"/>
      <url>/2017/12/07/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ä¸ªç®€å•çš„nodeçˆ¬è™«è¸©å‘ä¹‹è·¯"><a href="#ä¸€ä¸ªç®€å•çš„nodeçˆ¬è™«è¸©å‘ä¹‹è·¯" class="headerlink" title="ä¸€ä¸ªç®€å•çš„nodeçˆ¬è™«è¸©å‘ä¹‹è·¯"></a>ä¸€ä¸ªç®€å•çš„nodeçˆ¬è™«è¸©å‘ä¹‹è·¯</h1><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>æœ€è¿‘åœ¨çœ‹çˆ¬è™«ç›¸å…³çš„æ–‡ç« ï¼Œå¶ç„¶æƒ³èµ·æ¥å°è¯•ä¸€ä¸‹ç”¨nodeæ¥å®ç°ä¸€ä¸ªç®€å•çš„çˆ¬è™«ã€‚ä½†æ˜¯çˆ¬åˆ«çš„å¤šæ²¡æ„æ€ï¼Œå½“ç„¶æ˜¯çˆ¬ç¾å¥³å›¾ç‰‡å•Šã€‚ã€‚ã€‚</p><p>è¿™å¤§æ¦‚ node é‡Œé¢é€ çš„æœ€å¤šçš„è½®å­äº†ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘é€‰å–äº†ä¸‹é¢çš„åœ°å€ï¼š<a href="http://www.zbjuran.com/mei/">ç¾å¥³å›¾ç‰‡æˆ³æˆ‘</a>ï¼Œç®€å•åˆ†æåï¼Œæˆ‘çš„ç›®æ ‡æ˜¯é€šè¿‡çˆ¬å–é¦–é¡µçš„è½®æ’­å›¾ï¼Œç„¶åçˆ¬å–è½®æ’­å›¾çš„ç›´é“¾åé¢çš„è¯¦æƒ…å¤§å›¾ï¼Œå¹¶æŒ‰ç…§å›¾ç‰‡åç§°å­˜åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­ã€‚<br>å¤§è‡´æµç¨‹æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„ï¼š</p><p><img src="https://t1.picb.cc/uploads/2017/12/06/px1gr.jpg" alt="çˆ¬å–çš„å¤§è‡´æµç¨‹"></p><p>çœ‹èµ·æ¥æŒºç®€å•çš„ï¼Œé€‰ç”¨çš„æŠ€æœ¯æ–¹æ¡ˆæ˜¯ï¼š</p><ul><li><code>superagent</code>: è¯·æ±‚åº“</li><li><code>mkdirp</code>: åˆ›å»ºæ–‡ä»¶å¤¹</li><li><code>async</code>: æ§åˆ¶å¹¶å‘è¯·æ±‚</li><li><code>cheerio</code>: Domæ“ä½œåº“</li><li><code>fs</code>: å†…ç½®æ ¸å¿ƒæ–‡ä»¶è¯»å†™åº“</li></ul><h2 id="æœ€ç»ˆçš„æ•ˆæœ"><a href="#æœ€ç»ˆçš„æ•ˆæœ" class="headerlink" title="æœ€ç»ˆçš„æ•ˆæœ"></a>æœ€ç»ˆçš„æ•ˆæœ</h2><p><img src="https://t1.picb.cc/uploads/2017/12/06/pxHd1.jpg" alt="å“ˆå“ˆ"></p><h2 id="æºç ï¼š"><a href="#æºç ï¼š" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h2><pre><code>// å…³é”®åœ¨äºç†æ¸…å¼‚æ­¥æµç¨‹&#39;use strict&#39;let fs = require(&quot;fs&quot;);let cheerio = require(&#39;cheerio&#39;);let asyncQuene = require(&quot;async&quot;).queue;let request = require(&#39;superagent&#39;);require(&#39;superagent-charset&#39;)(request);const config = &#123;    urlPre: &#39;http://www.zbjuran.com&#39;,    indexUrl: &#39;http://www.zbjuran.com/mei/&#39;,    downloadConcurrent: 2, &#125;;let getHtmlAsync = (url) =&gt; &#123;    return new Promise((resolve,reject) =&gt; &#123;        request.get(url).charset(&#39;gbk&#39;).end((err,res) =&gt; &#123;            err ? reject(err) : resolve(cheerio.load(res.text));        &#125;)    &#125;)&#125;let dowloadImg = (albumList) =&gt; &#123;    console.log(&#39;å¼€å§‹ä¸‹è½½å›¾ç‰‡&#39;);    const folder = &#39;./grils/&#39;;    fs.existsSync(folder, status =&gt; &#123;        status ? &#39;&#39; : fs.mkdirSync(folder);    &#125;)    let downloadCount = 0;    let queue = asyncQuene( (&#123; url: albumUrl, title: albumTitle&#125;,done) =&gt; &#123;        request.get(albumUrl).end(function (err, res) &#123;            if (err) &#123;                console.log(err);                done();            &#125; else &#123;                fs.writeFile(`./$&#123;folder&#125;/$&#123;albumTitle&#125;-$&#123;++downloadCount&#125;.jpg`, res.body, function (err) &#123;                    err ? console.log(err) : console.log(`$&#123;albumTitle&#125;ä¿å­˜ä¸€å¼ `);                    done();                &#125;);            &#125;        &#125;);    &#125;,config.downloadConcurrent);    queue.drain = () =&gt; &#123;        console.log(&#39;æ‰€æœ‰å›¾ç‰‡å·²ç»ä¸‹è½½&#39;);    &#125;    let imgListTemp = [];    albumList.forEach(function (&#123; title, imgList &#125;) &#123;        console.log(title,imgList);        imgList.forEach(function (url) &#123;            imgListTemp.push(&#123; title: title, url: url &#125;);        &#125;);    &#125;);    console.log(&#39;sssss&#39;,albumList,imgListTemp);    queue.push(imgListTemp);//å°†æ‰€æœ‰ä»»åŠ¡åŠ å…¥é˜Ÿåˆ—&#125;let getIndexAsync = () =&gt; &#123;    return new Promise((resolve, reject) =&gt;&#123;        console.log(&#39;è¿›å…¥ä¸»é¡µï¼Œå¼€å§‹è·å–ç›®æ ‡url&#39;);        let targetUrl = [];        let queue = asyncQuene(async (url, done) =&gt; &#123;            try &#123;                let $ = await getHtmlAsync(url);                console.log(`æˆåŠŸè·å–ä¸»é¡µ$&#123;url&#125;`);                $(&#39;div.changeDiv a&#39;).each( (index,value) =&gt; &#123;                    targetUrl.push(&#123;                        title: value.attribs.title,                        url: `$&#123;config.urlPre&#125;$&#123;value.attribs.href&#125;`,                        imgList: []                    &#125;)                &#125;);            &#125; catch (err) &#123;                console.log(`åœ¨è®¿é—®$&#123;url&#125;å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š$&#123;err&#125;`);            &#125;            finally &#123;                done();            &#125;        &#125;,config.downloadConcurrent);        queue.drain = () =&gt; &#123;            console.log(&#39;å·²æˆåŠŸç”Ÿæˆç›®æ ‡Url&#39;);            resolve(targetUrl);        &#125;        queue.push(config.indexUrl);    &#125;)&#125;let getTargetAsync = (targetUrl) =&gt; &#123;    return new Promise((resolve, reject) =&gt;&#123;        console.log(&#39;è¿›å…¥ç›®æ ‡é¡µï¼Œå¼€å§‹è·å–ç›®æ ‡url&#39;);        let queue = asyncQuene(async (&#123; url: url, title: title, imgList &#125;,done) =&gt; &#123;            try &#123;                let $ = await getHtmlAsync(url);                console.log(`æˆåŠŸè·å–ä¸»é¡µ$&#123;url&#125;`);                let imgLength = $(&#39;div.page &gt; li&#39;).length - 3;                $(&#39;div.picbox img&#39;).each( (index,value) =&gt; &#123;                    let imgSrcPath = value.attribs.src;                    imgList.push(`$&#123;config.urlPre&#125;$&#123;value.attribs.src&#125;`);                    for (let i = 0,length = imgLength; i &lt; length; i++) &#123;                        if(i &gt;= 1)&#123;                            imgList.push(`$&#123;config.urlPre&#125;$&#123;imgSrcPath.replace(&#39;-0&#39;,&#39;-&#39;+i)&#125;.jpg`);                        &#125;                    &#125;                &#125;);            &#125; catch (err) &#123;                console.log(`åœ¨è®¿é—®$&#123;url&#125;å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š$&#123;err&#125;`);            &#125;            finally &#123;                done();            &#125;        &#125;,config.downloadConcurrent);        queue.drain = () =&gt; &#123;            console.log(&#39;å·²æˆåŠŸè·å–åˆ°æ‰€æœ‰å›¾ç‰‡çš„Url&#39;);            resolve(targetUrl);        &#125;        queue.push(targetUrl);    &#125;)&#125;let spider = async () =&gt; &#123;    // let albumList = await getAlbumsAsync();//è·å–æ‰€æœ‰ç”»å†ŒURL    // albumList = await getImageListAsync(albumList);//æ ¹æ®ç”»å†ŒURLè·å–ç”»å†Œé‡Œçš„æ‰€æœ‰å›¾ç‰‡URL    // downloadImg(albumList);//ä¸‹è½½ç”»å†Œé‡Œé¢çš„æ‰€æœ‰å›¾ç‰‡    let targetUrl = await getIndexAsync();    targetUrl = await getTargetAsync(targetUrl);    dowloadImg(targetUrl);&#125;spider();</code></pre><h2 id="åˆ’é‡ç‚¹"><a href="#åˆ’é‡ç‚¹" class="headerlink" title="åˆ’é‡ç‚¹"></a>åˆ’é‡ç‚¹</h2><h3 id="1-å½“çˆ¬å–ç½‘é¡µç¼–ç ä¸º-gb2312çš„ç½‘é¡µçš„æ—¶å€™ï¼Œçˆ¬åˆ°çš„å†…å®¹ä¸­æ–‡æ˜¾ç¤ºæ˜¯ä¹±ç "><a href="#1-å½“çˆ¬å–ç½‘é¡µç¼–ç ä¸º-gb2312çš„ç½‘é¡µçš„æ—¶å€™ï¼Œçˆ¬åˆ°çš„å†…å®¹ä¸­æ–‡æ˜¾ç¤ºæ˜¯ä¹±ç " class="headerlink" title="1.å½“çˆ¬å–ç½‘é¡µç¼–ç ä¸º gb2312çš„ç½‘é¡µçš„æ—¶å€™ï¼Œçˆ¬åˆ°çš„å†…å®¹ä¸­æ–‡æ˜¾ç¤ºæ˜¯ä¹±ç "></a>1.å½“çˆ¬å–ç½‘é¡µç¼–ç ä¸º <code>gb2312</code>çš„ç½‘é¡µçš„æ—¶å€™ï¼Œçˆ¬åˆ°çš„å†…å®¹ä¸­æ–‡æ˜¾ç¤ºæ˜¯ä¹±ç </h3><p>è¿™ä¸ªé—®é¢˜çš„åŸå› å…¶å®æ˜¯æŒºæ¸…æ™°çš„ï¼Œå°±æ˜¯ç½‘é¡µç¼–ç ä¸æœ¬åœ°ç¼–ç ä¸ä¸€è‡´æˆ–ä¸æ”¯æŒå¼•èµ·çš„ã€‚ä»¥ä¸ºåªæ˜¯ä¸ªå°é—®é¢˜ï¼Œä½†æ˜¯åœ¨æ‰¾è§£å†³åŠæ³•çš„æ—¶å€™å´çº ç»“äº†æˆ‘å¾ˆä¹…ï¼ŒæŸ¥è¯¢äº†ç½‘ä¸Šç›¸å…³èµ„æ–™ï¼Œ<strong>æœ‰è¯´ä½¿ç”¨ <code>iconv</code> è§£ç <code>decode</code>ä¸€ä¸‹å°±å¯ä»¥ï¼Œç„¶å¹¶åµ</strong>ï¼Œ<strong>æœ‰è¯´ä½¿ç”¨encodingçš„ï¼Œå…¶å®ä¹Ÿæ²¡ç”¨</strong>ã€‚å…¶å®æœ€åæŸ¥é˜…èµ„æ–™å¾—å‡ºçš„åŸå› æ˜¯ï¼Œ<code>superagent</code>åªæ”¯æŒutf-8çš„ç¼–ç ï¼Œå¦‚æœéœ€è¦æ”¯æŒå…¶ä»–çš„éœ€è¦å¼•ç”¨ä¸€ä¸ªå®˜æ–¹çš„åº“ï¼š<code>superagent-charset</code>,ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>const request = require(&#39;superagent&#39;);require(&#39;superagent-charset&#39;)(request);//è¯·æ±‚request.get(&#39;xxx&#39;).set(&#39;gbk&#39;).end(xxxxx)</code></pre><p>å¦‚æ­¤ï¼Œå³å¯æ­£å¸¸è¿”å›ä¸­æ–‡</p><h3 id="2-å¼‚æ­¥æ“ä½œç”¨-async-æ¥æ§åˆ¶"><a href="#2-å¼‚æ­¥æ“ä½œç”¨-async-æ¥æ§åˆ¶" class="headerlink" title="2. å¼‚æ­¥æ“ä½œç”¨ async æ¥æ§åˆ¶"></a>2. å¼‚æ­¥æ“ä½œç”¨ async æ¥æ§åˆ¶</h3><p>å¯¹äºä¸‹è½½å›¾ç‰‡ï¼Œè®¿é—® url è¿™æ ·å­˜åœ¨å¼‚æ­¥çš„æ“ä½œï¼Œå¦‚æœæ“ä½œå¯¹åé¢ç¨‹åºçš„æ‰§è¡Œæœ‰å½±å“ï¼Œæœ€å¥½ä½¿ç”¨ <a href="http://caolan.github.io/async/"><code>async</code></a> åº“æ¥æ§åˆ¶å¼‚æ­¥æµç¨‹ï¼Œç±»ä¼¼çš„è¿˜æœ‰ <a href="https://github.com/JacksonTian/eventproxy"><code>eventproxy</code></a>ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æ¥<code>async</code>æ¥æ§åˆ¶è¯·æ±‚é˜Ÿåˆ—çš„å®˜ç½‘ç¤ºä¾‹ï¼Œ</p><pre><code>// create a queue object with concurrency 2var q = async.queue(function(task, callback) &#123;    console.log(&#39;hello &#39; + task.name);    callback();&#125;, 2);// assign a callbackq.drain = function() &#123;    console.log(&#39;all items have been processed&#39;);&#125;;// add some items to the queueq.push(&#123;name: &#39;foo&#39;&#125;, function(err) &#123;    console.log(&#39;finished processing foo&#39;);&#125;);q.push(&#123;name: &#39;bar&#39;&#125;, function (err) &#123;    console.log(&#39;finished processing bar&#39;);&#125;);// add some items to the queue (batch-wise)q.push([&#123;name: &#39;baz&#39;&#125;,&#123;name: &#39;bay&#39;&#125;,&#123;name: &#39;bax&#39;&#125;], function(err) &#123;    console.log(&#39;finished processing item&#39;);&#125;);// add some items to the front of the queueq.unshift(&#123;name: &#39;bar&#39;&#125;, function (err) &#123;    console.log(&#39;finished processing bar&#39;);&#125;);</code></pre><p>å…¶å®å®˜ç½‘æœ‰å¥½å¤šæ —å­ï¼Œè¿‘æœŸè¿˜ä¼šæŠ½æ—¶é—´å¥½å¥½ç ”ç©¶ä¸€ä¸‹ç±»ä¼¼å¼‚æ­¥æµç¨‹åº“çš„å…·ä½“å®ç°ã€‚</p><h3 id="3-404é”™è¯¯ã€‚è·å–ä¸åˆ°èµ„æº"><a href="#3-404é”™è¯¯ã€‚è·å–ä¸åˆ°èµ„æº" class="headerlink" title="3. 404é”™è¯¯ã€‚è·å–ä¸åˆ°èµ„æº"></a>3. 404é”™è¯¯ã€‚è·å–ä¸åˆ°èµ„æº</h3><p>è¿™ä¸ªå…¶å®è¿˜å¥½ï¼Œä¸»è¦æ˜¯ç½‘ç«™ä¸ºäº†é˜²çˆ¬çš„æªæ–½ï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹æ–¹æ³•æ¥è¯•è¯•çœ‹ï¼š</p><ul><li>è®¾ç½®<code>user-agent</code></li><li>é™ä½è¯·æ±‚çš„å¹¶å‘é‡</li><li>æ›´æ¢IP</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è™½ç„¶åªæ˜¯ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼Œä½†æ˜¯å‘ç°è‡ªå·±å¯¹äº <code>promise</code> è¿™ç§çš„å¼‚æ­¥æµç¨‹è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œè¿™ç‚¹éœ€è¦é‡ç‚¹æŒæ¡ã€‚</p><p>å¦å¤–ï¼Œä»çˆ¬è™«çš„è§’åº¦æ¥è¯´ï¼Œnodeç°åœ¨çš„åº“å·²ç»å¾ˆå®Œå–„äº†ï¼Œè¿˜æœ‰ <code>phantomjs</code>ï¼Œ<code>node-crawl</code> è¿™ç§æ“ä½œæ›´6çš„åº“å­˜åœ¨ï¼ŒæŒæ¡ä¸€é—¨å·¥å…·å¾ˆå®¹æ˜“ï¼Œæ›´é‡è¦çš„æ˜¯è¦å­¦ä¼šåˆ¶ä½œå·¥å…·ã€‚</p><p>æœ€åï¼Œç»ƒä¹ çˆ¬è™«åªæ˜¯å‡ºäºå¯¹æŠ€æœ¯çš„çƒ­çˆ±ï¼Œè«è¦ä¹±çˆ¬ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»º GIT æœåŠ¡å™¨æ•™ç¨‹</title>
      <link href="/2017/12/06/"/>
      <url>/2017/12/06/</url>
      
        <content type="html"><![CDATA[<h1 id="æ­å»º-GIT-æœåŠ¡å™¨æ•™ç¨‹"><a href="#æ­å»º-GIT-æœåŠ¡å™¨æ•™ç¨‹" class="headerlink" title="æ­å»º GIT æœåŠ¡å™¨æ•™ç¨‹"></a>æ­å»º GIT æœåŠ¡å™¨æ•™ç¨‹</h1><h2 id="1-ä¸‹è½½å®‰è£…-git"><a href="#1-ä¸‹è½½å®‰è£…-git" class="headerlink" title="1.ä¸‹è½½å®‰è£… git"></a>1.ä¸‹è½½å®‰è£… git</h2><p>Git æ˜¯ä¸€æ¬¾å…è´¹ã€å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚<br>æ­¤å®éªŒä»¥ CentOS 7.2 x64 çš„ç³»ç»Ÿä¸ºç¯å¢ƒï¼Œæ­å»º git æœåŠ¡å™¨ã€‚</p><h3 id="å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·"><a href="#å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·" class="headerlink" title="å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·"></a>å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·</h3><p>ä¸ºäº†åç»­å®‰è£…èƒ½æ­£å¸¸è¿›è¡Œï¼Œæˆ‘ä»¬å…ˆæ¥å®‰è£…ä¸€äº›ç›¸å…³ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…·</p><pre><code>yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel</code></pre><p>å®‰è£…ç¼–è¯‘å·¥å…·</p><pre><code>yum install gcc perl-ExtUtils-MakeMaker</code></pre><h3 id="ä¸‹è½½-git"><a href="#ä¸‹è½½-git" class="headerlink" title="ä¸‹è½½ git"></a>ä¸‹è½½ git</h3><p>é€‰ä¸€ä¸ªç›®å½•ï¼Œç”¨æ¥æ”¾ä¸‹è½½ä¸‹æ¥çš„å®‰è£…åŒ…ï¼Œè¿™é‡Œå°†å®‰è£…åŒ…æ”¾åœ¨ &#x2F;usr&#x2F;local&#x2F;src ç›®å½•é‡Œ</p><pre><code>cd /usr/local/src</code></pre><p>åˆ°å®˜ç½‘æ‰¾ä¸€ä¸ªæ–°ç‰ˆç¨³å®šçš„æºç åŒ…ä¸‹è½½åˆ° &#x2F;usr&#x2F;local&#x2F;src æ–‡ä»¶å¤¹é‡Œ</p><pre><code>wget https://www.kernel.org/pub/software/scm/git/git-2.10.0.tar.gz</code></pre><h3 id="è§£å‹å’Œç¼–è¯‘"><a href="#è§£å‹å’Œç¼–è¯‘" class="headerlink" title="è§£å‹å’Œç¼–è¯‘"></a>è§£å‹å’Œç¼–è¯‘</h3><p>è§£å‹ä¸‹è½½çš„æºç åŒ…</p><pre><code>tar -zvxf git-2.10.0.tar.gz</code></pre><p>è§£å‹åè¿›å…¥ git-2.10.0 æ–‡ä»¶å¤¹</p><pre><code>cd git-2.10.0</code></pre><p>æ‰§è¡Œç¼–è¯‘</p><pre><code>make all prefix=/usr/local/git</code></pre><p>ç¼–è¯‘å®Œæˆå, å®‰è£…åˆ° &#x2F;usr&#x2F;local&#x2F;git ç›®å½•ä¸‹</p><pre><code>make install prefix=/usr/local/git</code></pre><h2 id="2-é…ç½®ç¯å¢ƒå˜é‡"><a href="#2-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="2.é…ç½®ç¯å¢ƒå˜é‡"></a>2.é…ç½®ç¯å¢ƒå˜é‡</h2><p>å°† git ç›®å½•åŠ å…¥ PATH<br>å°†åŸæ¥çš„ PATH æŒ‡å‘ç›®å½•ä¿®æ”¹ä¸ºç°åœ¨çš„ç›®å½•</p><pre><code>echo &#39;export PATH=$PATH:/usr/local/git/bin&#39; &gt;&gt; /etc/bashrc</code></pre><p>ç”Ÿæ•ˆç¯å¢ƒå˜é‡</p><pre><code>source /etc/bashrc</code></pre><p>æ­¤æ—¶æˆ‘ä»¬èƒ½æŸ¥çœ‹ git ç‰ˆæœ¬å·ï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»å®‰è£…æˆåŠŸäº†ã€‚</p><pre><code>git --version</code></pre><h2 id="3-åˆ›å»º-git-è´¦å·å¯†ç "><a href="#3-åˆ›å»º-git-è´¦å·å¯†ç " class="headerlink" title="3.åˆ›å»º git è´¦å·å¯†ç "></a>3.åˆ›å»º git è´¦å·å¯†ç </h2><p>åˆ›å»º git è´¦å·<br>ä¸ºæˆ‘ä»¬åˆšåˆšæ­å»ºå¥½çš„ git åˆ›å»ºä¸€ä¸ªè´¦å·</p><pre><code>useradd -m gituser</code></pre><p>ç„¶åä¸ºè¿™ä¸ªè´¦å·è®¾ç½®å¯†ç </p><pre><code> passwd gituser</code></pre><h2 id="4-åˆå§‹åŒ–-git-ä»“åº“å¹¶é…ç½®ç”¨æˆ·æƒé™"><a href="#4-åˆå§‹åŒ–-git-ä»“åº“å¹¶é…ç½®ç”¨æˆ·æƒé™" class="headerlink" title="4.åˆå§‹åŒ– git ä»“åº“å¹¶é…ç½®ç”¨æˆ·æƒé™"></a>4.åˆå§‹åŒ– git ä»“åº“å¹¶é…ç½®ç”¨æˆ·æƒé™</h2><h3 id="åˆ›å»º-git-ä»“åº“å¹¶åˆå§‹åŒ–"><a href="#åˆ›å»º-git-ä»“åº“å¹¶åˆå§‹åŒ–" class="headerlink" title="åˆ›å»º git ä»“åº“å¹¶åˆå§‹åŒ–"></a>åˆ›å»º git ä»“åº“å¹¶åˆå§‹åŒ–</h3><p>æˆ‘ä»¬åˆ›å»º &#x2F;data&#x2F;repositories ç›®å½•ç”¨äºå­˜æ”¾ git ä»“åº“</p><pre><code>mkdir -p /data/repositories</code></pre><p>åˆ›å»ºå¥½åï¼Œåˆå§‹åŒ–è¿™ä¸ªä»“åº“</p><pre><code>cd /data/repositories/ &amp;&amp; git init --bare test.git</code></pre><h3 id="é…ç½®ç”¨æˆ·æƒé™"><a href="#é…ç½®ç”¨æˆ·æƒé™" class="headerlink" title="é…ç½®ç”¨æˆ·æƒé™"></a>é…ç½®ç”¨æˆ·æƒé™</h3><p>ç»™ git ä»“åº“ç›®å½•è®¾ç½®ç”¨æˆ·å’Œç”¨æˆ·ç»„å¹¶è®¾ç½®æƒé™</p><pre><code>chown -R gituser:gituser /data/repositorieschmod 755 /data/repositories</code></pre><p>æŸ¥æ‰¾ git-shell æ‰€åœ¨ç›®å½•<br> , ç¼–è¾‘ &#x2F;etc&#x2F;passwd æ–‡ä»¶ï¼Œå°†æœ€åä¸€è¡Œå…³äº gituser çš„ç™»å½• shell é…ç½®æ”¹ä¸º git-shell çš„ç›®å½•<br>å¦‚ä¸‹</p><pre><code>root:x:0:0:root:/root:/bin/bashbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/syncshutdown:x:6:0:shutdown:/sbin:/sbin/shutdownhalt:x:7:0:halt:/sbin:/sbin/haltmail:x:8:12:mail:/var/spool/mail:/sbin/nologinoperator:x:11:0:operator:/root:/sbin/nologingames:x:12:100:games:/usr/games:/sbin/nologinftp:x:14:50:FTP User:/var/ftp:/sbin/nologinnobody:x:99:99:Nobody:/:/sbin/nologinavahi-autoipd:x:170:170:Avahi IPv4LL Stack:/var/lib/avahi-autoipd:/sbin/nologinsystemd-bus-proxy:x:999:997:systemd Bus Proxy:/:/sbin/nologinsystemd-network:x:998:996:systemd Network Management:/:/sbin/nologindbus:x:81:81:System message bus:/:/sbin/nologinpolkitd:x:997:995:User for polkitd:/:/sbin/nologinabrt:x:173:173::/etc/abrt:/sbin/nologinlibstoragemgmt:x:996:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologintss:x:59:59:Account used by the trousers package to sandbox the tcsd daemon:/dev/null:/sbin/nologinntp:x:38:38::/etc/ntp:/sbin/nologinpostfix:x:89:89::/var/spool/postfix:/sbin/nologinchrony:x:995:993::/var/lib/chrony:/sbin/nologinsshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologintcpdump:x:72:72::/:/sbin/nologingituser:x:500:500::/home/gituser:/usr/local/git/bin/git-shell</code></pre><h3 id="ä½¿ç”¨æ­å»ºå¥½çš„-Git-æœåŠ¡"><a href="#ä½¿ç”¨æ­å»ºå¥½çš„-Git-æœåŠ¡" class="headerlink" title="ä½¿ç”¨æ­å»ºå¥½çš„ Git æœåŠ¡"></a>ä½¿ç”¨æ­å»ºå¥½çš„ Git æœåŠ¡</h3><p>å…‹éš† test repo åˆ°æœ¬åœ°</p><pre><code>cd ~ &amp;&amp; git clone gituser@139.199.223.159:/data/repositories/test.git</code></pre><h2 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h2>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç»œåè®®äº”å±‚ä¸ä¸ƒå±‚åè®®</title>
      <link href="/2017/11/25/"/>
      <url>/2017/11/25/</url>
      
        <content type="html"><![CDATA[<h1 id="ç½‘ç»œåè®®äº”å±‚ä¸OSIä¸ƒå±‚åè®®"><a href="#ç½‘ç»œåè®®äº”å±‚ä¸OSIä¸ƒå±‚åè®®" class="headerlink" title="ç½‘ç»œåè®®äº”å±‚ä¸OSIä¸ƒå±‚åè®®"></a>ç½‘ç»œåè®®äº”å±‚ä¸OSIä¸ƒå±‚åè®®</h1><blockquote><p>å¦‚æœå¤§å­¦çš„è®¡ç®—æœºåŸºç¡€ä¸é”™ï¼Œè¿™åº”è¯¥éƒ½æ˜¯è®¡ç®—æœºç½‘ç»œæ•™æé‡Œé¢çš„å†…å®¹ã€‚ä¹‹å‰åœ¨é¢è¯•çš„æ—¶å€™é¢è¯•å®˜æœ‰é—®è¿‡ç±»ä¼¼çš„é€šä¿¡çŸ¥è¯†ï¼Œç¬é—´çŸ³ä¹å¿—ã€‚äºæ˜¯åœ¨è‡ªå·±åŸæœ‰çš„ç†è§£ä¸Šé‡æ–°å­¦ä¹ ä¸€éï¼Œè®°ä¸‹æ­¤ç¯‡ã€‚</p></blockquote><blockquote><p>æœ¬æ–‡çŸ¥è¯†æ€»ç»“æ¥æºä¸ºï¼šå›¾çµä¸›ä¹¦ã€Šå›¾è§£httpã€‹ä¸€ä¹¦ï¼Œä»¥åŠæ— æ•°ç½‘ç»œåšå®¢èµ„æºã€‚</p></blockquote><h2 id="ç½‘ç»œäº”å±‚åè®®"><a href="#ç½‘ç»œäº”å±‚åè®®" class="headerlink" title="ç½‘ç»œäº”å±‚åè®®"></a>ç½‘ç»œäº”å±‚åè®®</h2><p>Tcp&#x2F;Ip å¦‚æœæŒ‰ç…§åè®®æ—æ¥åˆ’åˆ†å¯ä»¥åˆ†ä¸ºå››å±‚ç»“æ„ï¼ˆæˆ–è€…äº”å±‚ï¼Œæœ‰çš„ä¹¦ç±æ²¡æœ‰æŠŠç‰©ç†å±‚ç®—åœ¨å…¶ä¸­ï¼‰ã€‚</p><h3 id="åº”ç”¨å±‚ï¼š"><a href="#åº”ç”¨å±‚ï¼š" class="headerlink" title="åº”ç”¨å±‚ï¼š"></a>åº”ç”¨å±‚ï¼š</h3><p>åº”ç”¨å±‚æ˜¯å†³å®šäº†å‘ç”¨æˆ·æä¾›åº”ç”¨ç¨‹åºé€šè®¯æ—¶çš„æœåŠ¡ã€‚<br>åº”ç”¨å±‚æ˜¯æˆ‘ä»¬æœ€å¤šæ¥è§¦çš„ä¸€ä¸ªï¼Œå¸¸è§çš„httpï¼Œsmtp,FTPéƒ½æ˜¯å±äºåº”ç”¨å±‚çš„å®ç°ã€‚æ‰€è°“åº”ç”¨å±‚ï¼Œæ„æ€å°±æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç½‘ç»œå°±åƒä¸€ä»¶å•†å“ä¸€æ ·ç›´æ¥å»ä½¿ç”¨è€Œä¸ç”¨å…³æ³¨ä»–çš„å®ç°ã€‚</p><h3 id="ä¼ è¾“å±‚ï¼š"><a href="#ä¼ è¾“å±‚ï¼š" class="headerlink" title="ä¼ è¾“å±‚ï¼š"></a>ä¼ è¾“å±‚ï¼š</h3><p>ä¼ è¾“å±‚æ‰€èƒ½äº†è§£çš„å°±æ˜¯æ•°æ®çš„ä¼ è¾“åè®®ï¼Œæ¯”å¦‚æˆ‘ä»¬çŸ¥é“httpçš„ä¼ è¾“æ˜¯ç”¨è¿‡æ•°æ®åŒ…çš„æ–¹å¼æ¥è¿›è¡Œçš„ã€‚åœ¨ä¼ è¾“å±‚æœ‰ä¸¤ä¸ªæˆ‘ä»¬è€³æ¿¡ç›®æŸ“çš„åè®®å°±æ˜¯tcp(transimition control protocal)å’Œudp(user data protocal)ã€‚</p><h3 id="ç½‘ç»œå±‚ï¼š"><a href="#ç½‘ç»œå±‚ï¼š" class="headerlink" title="ç½‘ç»œå±‚ï¼š"></a>ç½‘ç»œå±‚ï¼š</h3><p>ç½‘ç»œä¸»è¦æŒ‡çš„æ˜¯å°±æ˜¯IPï¼Œå…¨ç§°æ˜¯Internet Protocalï¼Œæ„ä¸ºç½‘ç»œåè®®ã€‚å…¶å®å°±æ˜¯çº¦å®šäº†åœ¨ä¸€ä¸ªå¼€å‘çš„ç½‘ç»œç¯å¢ƒé‡Œé¢ï¼Œä¸åŒçš„ä¸¤ä¸ªå‚ä¸æ–¹å¦‚ä½•è¿›è¡Œé€šä¿¡ã€‚æˆ‘ä»¬çŸ¥é“æ— è®ºæ˜¯è®¿é—®ç½‘ç«™ï¼Œè¿˜æ˜¯æ•°æ®ä¼ è¾“ï¼Œæˆ‘ä»¬çš„äº¤æµéƒ½æ˜¯é€šè¿‡IPæ¥è¿›è¡Œï¼Œå½“ç„¶è¿™å…¶ä¸­è¿˜ä¼šæœ‰DNSçš„ä½œç”¨ã€‚æ‰€ä»¥ï¼Œé€šä¿—çš„ç†è§£ä¸‹æ¥å°±æ˜¯ï¼Œ</p><h3 id="é“¾è·¯å±‚ï¼š"><a href="#é“¾è·¯å±‚ï¼š" class="headerlink" title="é“¾è·¯å±‚ï¼š"></a>é“¾è·¯å±‚ï¼š</h3><p>è¿™ä¸ªå±‚å«åšæ•°æ®é“¾è·¯å±‚æˆ–è€…ç½‘ç»œæ¥å£å±‚éƒ½å¯ä»¥ã€‚é“¾è·¯å±‚å°±æ˜¯ä¸€ä¸ªå†³å®šä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥ä¼ è¾“ç½‘ç»œä¸ŠæµåŠ¨çš„æ•°æ®åŒ…ï¼Œæ¯”å¦‚å»æ§åˆ¶ä¼ è¾“ä»‹è´¨æˆ–è€…é“¾è·¯çš„ç®¡ç†ã€‚æ¯”å¦‚ç½‘å¡è®¾å¤‡ï¼Œè·¯ç”±å™¨ã€‚</p><h3 id="ç‰©ç†å±‚ï¼š"><a href="#ç‰©ç†å±‚ï¼š" class="headerlink" title="ç‰©ç†å±‚ï¼š"></a>ç‰©ç†å±‚ï¼š</h3><p>ç‰©ç†å±‚æŒ‡çš„ä¸»è¦æ˜¯åœ¨ç½‘ç»œé€šä¿¡ä¸­æ”¯æŒç½‘ç»œä¼ è¾“çš„è®¾å¤‡ï¼Œä¸­ç»§å™¨ï¼ŒåŒç»çº¿ã€‚å½“ç„¶é‡Œé¢ä¹Ÿæœ‰ç±»ä¼¼çš„ç¡¬ä»¶é€šä¿¡åè®®ã€‚</p><h2 id="OSI-open-system-interconnect-ä¸ƒå±‚åˆ’åˆ†"><a href="#OSI-open-system-interconnect-ä¸ƒå±‚åˆ’åˆ†" class="headerlink" title="OSI(open system interconnect)ä¸ƒå±‚åˆ’åˆ†"></a>OSI(open system interconnect)ä¸ƒå±‚åˆ’åˆ†</h2><p>ä¸ƒå±‚è¾ƒä¹‹äºäº”å±‚æ¨¡å‹ã€‚å…±æœ‰ä¸ƒå±‚ï¼Œåˆ†åˆ«ä¸ºåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚ã€‚å¯¹åº”äºäº”å±‚æ¨¡å¼æ¥è¯´ï¼Œå…¶ä¸­åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚å±äºåº”ç”¨å±‚çš„éƒ¨åˆ†ã€‚å…¶ä»–åˆ™ä¸€è‡´ã€‚ä¸‹é¢åªä»‹ç»å¤šå‡ºæ¥çš„ä¸¤å±‚ã€‚</p><h3 id="è¡¨ç¤ºå±‚"><a href="#è¡¨ç¤ºå±‚" class="headerlink" title="è¡¨ç¤ºå±‚"></a>è¡¨ç¤ºå±‚</h3><p>è¡¨ç¤ºå±‚æä¾›å„ç§ç”¨äºåº”ç”¨å±‚æ•°æ®çš„ç¼–ç å’Œè½¬æ¢åŠŸèƒ½,ç¡®ä¿ä¸€ä¸ªç³»ç»Ÿçš„åº”ç”¨å±‚å‘é€çš„æ•°æ®èƒ½è¢«å¦ä¸€ä¸ªç³»ç»Ÿçš„åº”ç”¨å±‚è¯†åˆ«ã€‚<br>ä¸¾ä¸ªä¾‹å­å°±æ˜¯ï¼Œé€šä¿¡åŒæ–¹çº¦å®šä¸€ç§æ•°æ®æ ¼å¼æ¥æ¥å—ã€‚æ¯”å¦‚Aå’ŒBçº¦å®šé€šè¿‡ç«æ˜Ÿæ–‡æ¥ä¼ è¾“ï¼Œé‚£ä¹ˆåŠ å…¥Aå‘é€æ•°æ®æ ¼å¼å¦‚æœä¸æ˜¯ç«æ˜Ÿæ–‡ï¼Œå°±ä¼šè¢«è½¬æ¢ä¸ºç«æ˜Ÿæ–‡ï¼Œç„¶åå®ç°é€šä¿¡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¯¹ä¼ è¾“çš„æ ¼å¼ä½œåŠ å¯†å¤„ç†ï¼ˆä¸€æ ·çš„æ„æ€ï¼Œæ¢æ±¤ä¸æ¢è¯ï¼‰ã€‚</p><h3 id="ä¼šè¯å±‚"><a href="#ä¼šè¯å±‚" class="headerlink" title="ä¼šè¯å±‚"></a>ä¼šè¯å±‚</h3><p>ä¼šè¯å±‚å°±æ˜¯è´Ÿè´£å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢è¡¨ç¤ºå±‚å®ä½“ä¹‹é—´çš„é€šä¿¡ä¼šè¯ã€‚è¯¥å±‚çš„é€šä¿¡ç”±ä¸åŒè®¾å¤‡ä¸­çš„åº”ç”¨ç¨‹åºä¹‹é—´çš„æœåŠ¡è¯·æ±‚å’Œå“åº”ç»„æˆã€‚<br>æ¯æ¬¡çš„ç½‘ç»œé€šä¿¡éƒ½å¯ä»¥ç§°ä¹‹ä¸ºä¸€æ¬¡ä¼šè¯ï¼Œæˆ‘ä»¬çŸ¥é“httpæ˜¯æ— çŠ¶æ€ï¼ˆstatelessï¼‰çš„è¿æ¥ï¼Œæ¯æ¬¡è¿æ¥ä¸ä¼šè¢«è®°å½•ã€‚ä½†æ˜¯http1.0å‡ºæ¥çš„è§„èŒƒé‡Œï¼Œkeep-liveçš„å‡ºç°ï¼Œå¯ä»¥è®©æ¯ä¸€æ¬¡çš„è¿æ¥ä¸ä¼šè¢«è¿‡æ—©çš„ä¸­æ–­ã€‚è¿™äº›å…¶å®éƒ½æ˜¯åœ¨ä¼šè¯å±‚åšçš„å¤„ç†ã€‚</p><hr><p>è¯ä¸å¤šè¯´ï¼Œç‚¹åˆ°å³æ­¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
            <tag> äº”å±‚åè®® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ²¡æœ‰åç«¯åŸºç¡€ï¼Œæ€ä¹ˆå…¥é—¨å­¦ä¹ Nginxï¼Ÿ</title>
      <link href="/2017/09/02/"/>
      <url>/2017/09/02/</url>
      
        <content type="html"><![CDATA[<h1 id="nginxçŸ¥è¯†å¤‡å¿˜"><a href="#nginxçŸ¥è¯†å¤‡å¿˜" class="headerlink" title="nginxçŸ¥è¯†å¤‡å¿˜"></a>nginxçŸ¥è¯†å¤‡å¿˜</h1><h2 id="Nginxæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Nginxæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Nginxæ˜¯ä»€ä¹ˆï¼Ÿ"></a>Nginxæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>å¼•ç”¨ç™¾ç§‘çš„è¯è¯´ï¼Œ<strong>Nginx</strong> (engine x) æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†æœåŠ¡å™¨,ä¹Ÿå¯ä»¥ä½œä¸ºIMAP&#x2F;POP3&#x2F;SMTPé‚®ä»¶æœåŠ¡å™¨ã€‚Nginxå¾ˆè½»ï¼ˆå ç”¨å†…å­˜å°‘ï¼‰ã€Nginxæ”¯æŒé«˜å¹¶å‘ã€Nginxè¶³å¤Ÿç¨³å®šï¼Œå½“ç„¶è¿˜æœ‰ä¸€ç‚¹ï¼ŒNginxå¼€æºã€‚</p><h2 id="æ€ä¹ˆå­¦ä¹ Nginx"><a href="#æ€ä¹ˆå­¦ä¹ Nginx" class="headerlink" title="æ€ä¹ˆå­¦ä¹ Nginx"></a>æ€ä¹ˆå­¦ä¹ Nginx</h2><p>ä»»ä½•ç¼–ç¨‹è¯­è¨€çš„å­¦ä¹ éƒ½åº”å½“æ˜¯ç†è®ºåŠ ä¸Šå®è·µï¼Œç‰¹åˆ«æ˜¯å¯¹äºç å†œæ¥è¯´ï¼Œä½ çš„çœŸçŸ¥å¾€å¾€æ¥è‡ªäºä½ çš„å®è·µã€‚Nginxä½œä¸ºæœåŠ¡å™¨çš„ä¸€é—¨æŠ€æœ¯ï¼Œæ›´åå‘äºè¿ç»´çŸ¥è¯†ï¼Œè€Œä¸”å…¶ä¸­å¤§éƒ¨åˆ†çš„çŸ¥è¯†å…¶å®éœ€è¦å…·æœ‰ä¸€å®šçš„ä¸šåŠ¡åœºæ™¯ä½ æ‰å¯ä»¥å®è·µçš„åˆ°ï¼Œæ‰€ä»¥å¯¹äº<strong>Nginx</strong>çš„å­¦ä¹ ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯ç†è®ºå­¦ä¹ ã€å¼•ç»è®ºè¿°ã€å½’çº³æ€»ç»“ã€ç®€å•å®è·µï¼Œå…·ä½“åˆ°æ·±å…¥çš„ä¸šåŠ¡åœºæ™¯å†æ·±å…¥å­¦ä¹ ã€‚<br>åŸºäºä»¥ä¸Šçš„å­¦ä¹ éœ€æ±‚ï¼Œå¹¶ç»“åˆæˆ‘è‹±è¯­æ°´å¹³å·®çš„ç°çŠ¶æˆ‘é€‰æ‹©ä¸‹é¢è¿™ä¸¤ä¸ªç½‘ç«™ï¼š</p><ul><li><a href="http://www.nginx.cn/doc/">Nginxä¸­æ–‡ç½‘</a><br>Nginxçš„ä¸­æ–‡æ–‡æ¡£ï¼Œæ’ç‰ˆå’Œæ˜“è¯»æ€§éƒ½æ¯”å®˜ç½‘è¦å¥½ä¸€äº›ï¼Œä½†æ˜¯è¦çœ‹æœ€æ–°ç›¸å…³è¿˜æ˜¯çœ‹è‹±æ–‡åŸç‰ˆå¥½ä¸€äº›</li><li><a href="http://tengine.taobao.org/">é˜¿é‡Œå…³äºNginxçš„å®è·µ</a><br><strong>Tengine</strong>,å®˜ç½‘ç»™çš„è‡ªæˆ‘ä»‹ç»æ˜¯ï¼šTengine(T-engine)æ˜¯ç”±æ·˜å®ç½‘å‘èµ·çš„WebæœåŠ¡å™¨é¡¹ç›®ã€‚å®ƒåœ¨Nginxçš„åŸºç¡€ä¸Šï¼Œé’ˆå¯¹å¤§è®¿é—®é‡ç½‘ç«™çš„éœ€æ±‚ï¼Œæ·»åŠ äº†å¾ˆå¤šé«˜çº§åŠŸèƒ½å’Œç‰¹æ€§ã€‚Tengineçš„æ€§èƒ½å’Œç¨³å®šæ€§å·²ç»åœ¨å¤§å‹çš„ç½‘ç«™å¦‚æ·˜å®ç½‘ï¼Œå¤©çŒ«å•†åŸç­‰å¾—åˆ°äº†å¾ˆå¥½çš„æ£€éªŒã€‚å®ƒçš„æœ€ç»ˆç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªé«˜æ•ˆã€ç¨³å®šã€å®‰å…¨ã€æ˜“ç”¨çš„Webå¹³å°ã€‚å› ä¸ºåŸºäºNginxï¼Œæ‰€ä»¥å®˜ç½‘ä¹Ÿæä¾›äº†Nginxçš„ä¸­æ–‡æ–‡æ¡£ã€‚</li></ul><p>å½“ç„¶è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯çœ‹è§†é¢‘ï¼Œä¸ªäººæ¨èä½†ä¸æ”¯æŒçœ‹è§†é¢‘ã€‚æ¨èæ˜¯å› ä¸ºå¯¹äºå¤§éƒ¨åˆ†äººï¼ˆæˆ‘çš„åå­—å«å¤§éƒ¨åˆ†äººï¼‰æ¥è¯´ï¼ŒæœåŠ¡å™¨çš„çŸ¥è¯†å°±åƒæµ·åº•çš„å†°å±±ï¼Œçœ‹åˆ°å°±ä¼šæœ‰ç§è«åçš„ææƒ§ã€‚çœ‹è§†é¢‘å¯ä»¥è®©ä½ å¯¹æœåŠ¡å™¨çš„çŸ¥è¯†åšä¸€ä¸ªå¤§è‡´çš„æ¢³ç†ï¼Œå¸®åŠ©ä½ ç†æ¸…æ€è·¯ã€‚ä¸æ”¯æŒçš„åŸå› ä¹Ÿå¾ˆç®€å•ï¼Œç°åœ¨çš„å­¦ä¹ è§†é¢‘ä»·æ ¼ä¸è²ï¼Œè€Œä¸”è®²çš„çŸ¥è¯†ç‚¹éƒ½æ¯”è¾ƒåŸºç¡€ï¼Œç‰¹åˆ«å¯¹äºNginxæ¥è¯´ï¼Œä¸ªäººè§‰å¾—æ›´åŠ æ²¡å¿…è¦ã€‚</p><h2 id="å…³äºåå‘ä»£ç†æœåŠ¡å™¨çš„å‡ ä¸ªç–‘é—®ï¼Ÿ"><a href="#å…³äºåå‘ä»£ç†æœåŠ¡å™¨çš„å‡ ä¸ªç–‘é—®ï¼Ÿ" class="headerlink" title="å…³äºåå‘ä»£ç†æœåŠ¡å™¨çš„å‡ ä¸ªç–‘é—®ï¼Ÿ"></a>å…³äºåå‘ä»£ç†æœåŠ¡å™¨çš„å‡ ä¸ªç–‘é—®ï¼Ÿ</h2><h3 id="1-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ï¼Ÿ"><a href="#1-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="1.æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ï¼Ÿ"></a>1.æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ï¼Ÿ</h3><p><a href="https://www.zhihu.com/question/24723688/answer/128105528">çŸ¥ä¹ï¼šåå‘ä»£ç†ä¸ºä½•å«åå‘ä»£ç†ï¼Ÿ</a><br>ä¸ªäººç†è§£æ¥è¯´ï¼Œå¯ä»¥æ€»ç»“ä¸ºä¸¤ç‚¹ï¼š</p><ul><li><strong>åå‘ä»£ç†å’Œæ­£å‘ä»£ç†éƒ½æ˜¯ä»£ç†</strong>ï¼Œçœ‹åˆ°è¿™å„¿ä½ å¯èƒ½è¦é—®ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æœåŠ¡å™¨å‘¢ï¼Ÿå…¶å®åŸå› å¦‚ä¸‹ï¼šç”¨ä»£ç†æœåŠ¡å™¨çš„ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥ä½¿ä½ çš„IPåœ°å€ä¸è¢«æš´éœ²å‡ºå»ï¼Œæ¯”å¦‚ä¸‹é¢çš„å»è®¿é—®ç™¾åº¦çš„hostæ—¶ï¼Œä¼šå‘ç°è¿”å›çš„æ˜¯ <a href="http://www.a.shifen.com/">www.a.shifen.com</a> çš„ç»“æœã€‚åŒæ ·çš„ï¼Œæ–°æµªæœç‹ç­‰ä¸€äº›å¤§å‹ç½‘ç«™éƒ½æœ‰ç±»ä¼¼çš„è§£å†³æ–¹æ¡ˆã€‚æƒ³è¦äº†è§£æ›´å¤šï¼Œå¯ä»¥çœ‹è¿™é‡Œï¼Œ<a href="https://www.aliyun.com/zixun/content/3_12_81613.html">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨çš„ä¼˜åŠ¿</a><br>å›¾ç‰‡<br>å¦å¤–çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ä½ å¸¸è§çš„ vpn ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§ä»£ç†çš„ä½“ç°ã€‚</li><li><strong>åå‘ä»£ç†ä»£ç†çš„æ˜¯æœåŠ¡å™¨å“åº”</strong>ï¼Œå³ä½ å¾—åˆ°çš„å“åº”å¯èƒ½æ˜¯æ¥è‡ªä¸€ä¸ªæœåŠ¡å™¨é›†ç¾¤çš„ç»“æœã€‚<strong>æ­£å‘ä»£ç†ä»£ç†çš„æ˜¯å®¢æˆ·ç«¯è¯·æ±‚</strong>ï¼Œå‡è½»æœåŠ¡ç«¯å‹åŠ›ï¼Œä»£ç†è¯·æ±‚ã€‚<br></li></ul><h3 id="2-é€‚åˆåšåå‘ä»£ç†æœåŠ¡å™¨çš„æœ‰å“ªäº›ï¼Ÿ"><a href="#2-é€‚åˆåšåå‘ä»£ç†æœåŠ¡å™¨çš„æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="2.é€‚åˆåšåå‘ä»£ç†æœåŠ¡å™¨çš„æœ‰å“ªäº›ï¼Ÿ"></a>2.é€‚åˆåšåå‘ä»£ç†æœåŠ¡å™¨çš„æœ‰å“ªäº›ï¼Ÿ</h3><p>ä¼ ç»Ÿçš„æœåŠ¡å™¨æ¯”å¦‚IISæˆ–è€…Apacheç”¨æ¥åšåå‘ä»£ç†ï¼Œå…¶å®ç•¥æ˜¾è‡ƒè‚¿ã€‚Nginxå¸¸è¢«ç”¨æ¥åšåå‘ä»£ç†æœåŠ¡å™¨çš„åŸå› æ˜¯è¶³å¤Ÿç¨³å®šï¼Œè¶³å¤Ÿè½»é‡ï¼Œå¹¶ä¸”æ”¯æŒé«˜å¹¶å‘ã€‚<br><a href="http://blog.csdn.net/zhu_tianwei/article/details/19396527">å‡ ç§åå‘ä»£ç†æœåŠ¡å™¨æ¯”è¾ƒã€‚</a></p><h3 id="3-Nginxã€Apacheå’Œä¹‹å‰ç”¨çš„Tomcatæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#3-Nginxã€Apacheå’Œä¹‹å‰ç”¨çš„Tomcatæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="3.Nginxã€Apacheå’Œä¹‹å‰ç”¨çš„Tomcatæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>3.Nginxã€Apacheå’Œä¹‹å‰ç”¨çš„Tomcatæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p><a href="https://www.zhihu.com/question/32212996">çŸ¥ä¹ï¼štomcat ä¸ nginxï¼Œapacheçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></p><h3 id="4-Nginxçš„é…ç½®æ–‡ä»¶æ€ä¹ˆçœ‹ï¼Ÿ"><a href="#4-Nginxçš„é…ç½®æ–‡ä»¶æ€ä¹ˆçœ‹ï¼Ÿ" class="headerlink" title="4.Nginxçš„é…ç½®æ–‡ä»¶æ€ä¹ˆçœ‹ï¼Ÿ"></a>4.Nginxçš„é…ç½®æ–‡ä»¶æ€ä¹ˆçœ‹ï¼Ÿ</h3><p>å…ˆæ”¾ä¸€ä¸ªå®Œæ•´çš„Nginxé…ç½®æ–‡ä»¶</p><pre><code>#user  nobody; è¿è¡Œçš„ç”¨æˆ·ï¼Œè®¾ç½®é…ç½®æ–‡ä»¶è®¿é—®æƒé™worker_processes  1; å¯ä»¥å¯åŠ¨çš„è¿›ç¨‹ï¼Œé€šå¸¸è®¾ç½®ä¸ºä¸CPUæ ¸å¿ƒæ•°ç›®ç›¸åŒ#æ—¥å¿—æ–‡ä»¶è®°å½•#error_log  logs/error.log;#error_log  logs/error.log  notice;#error_log  logs/error.log  info;#pid        logs/nginx.pid;# events &#123;    #epollæ˜¯å¤šè·¯å¤ç”¨IO(I/O Multiplexing)ä¸­çš„ä¸€ç§æ–¹å¼,    #ä»…ç”¨äºlinux2.6ä»¥ä¸Šå†…æ ¸,å¯ä»¥å¤§å¤§æé«˜nginxçš„æ€§èƒ½    use   epoll;     worker_connections  1024; # å•ä¸ªè¿›ç¨‹çš„æœ€å¤§å¹¶å‘è¿æ¥æ•°    #æ­¤å¤„å‚è€ƒï¼š http://www.nginx.cn/76.html    # å¹¶å‘æ€»æ•°æ˜¯ worker_processes å’Œ worker_connections çš„ä¹˜ç§¯    # å³ max_clients = worker_processes * worker_connections    # åœ¨è®¾ç½®äº†åå‘ä»£ç†çš„æƒ…å†µä¸‹ï¼Œmax_clients = worker_processes * worker_connections / 4  ä¸ºä»€ä¹ˆ    # ä¸ºä»€ä¹ˆä¸Šé¢åå‘ä»£ç†è¦é™¤ä»¥4ï¼Œåº”è¯¥è¯´æ˜¯ä¸€ä¸ªç»éªŒå€¼    # æ ¹æ®ä»¥ä¸Šæ¡ä»¶ï¼Œæ­£å¸¸æƒ…å†µä¸‹çš„Nginx Serverå¯ä»¥åº”ä»˜çš„æœ€å¤§è¿æ¥æ•°ä¸ºï¼š4 * 8000 = 32000    # worker_connections å€¼çš„è®¾ç½®è·Ÿç‰©ç†å†…å­˜å¤§å°æœ‰å…³    # å› ä¸ºå¹¶å‘å—IOçº¦æŸï¼Œmax_clientsçš„å€¼é¡»å°äºç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°    # è€Œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°å’Œå†…å­˜å¤§å°æˆæ­£æ¯”ï¼Œä¸€èˆ¬1GBå†…å­˜çš„æœºå™¨ä¸Šå¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æ•°å¤§çº¦æ˜¯10ä¸‡å·¦å³    # æˆ‘ä»¬æ¥çœ‹çœ‹360Må†…å­˜çš„VPSå¯ä»¥æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ•°æ˜¯å¤šå°‘ï¼š    # $ cat /proc/sys/fs/file-max    # è¾“å‡º 34336    # 32000 &lt; 34336ï¼Œå³å¹¶å‘è¿æ¥æ€»æ•°å°äºç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ€»æ•°ï¼Œè¿™æ ·å°±åœ¨æ“ä½œç³»ç»Ÿå¯ä»¥æ‰¿å—çš„èŒƒå›´ä¹‹å†…    # æ‰€ä»¥ï¼Œworker_connections çš„å€¼éœ€æ ¹æ® worker_processes è¿›ç¨‹æ•°ç›®å’Œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ€»æ•°è¿›è¡Œé€‚å½“åœ°è¿›è¡Œè®¾ç½®    # ä½¿å¾—å¹¶å‘æ€»æ•°å°äºæ“ä½œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°ç›®    # å…¶å®è´¨ä¹Ÿå°±æ˜¯æ ¹æ®ä¸»æœºçš„ç‰©ç†CPUå’Œå†…å­˜è¿›è¡Œé…ç½®    # å½“ç„¶ï¼Œç†è®ºä¸Šçš„å¹¶å‘æ€»æ•°å¯èƒ½ä¼šå’Œå®é™…æœ‰æ‰€åå·®ï¼Œå› ä¸ºä¸»æœºè¿˜æœ‰å…¶ä»–çš„å·¥ä½œè¿›ç¨‹éœ€è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚    # ulimit -SHn 65535&#125;http &#123;    include       mime.types;    default_type  application/octet-stream;    #log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;    #                  &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;    #                  &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;    #access_log  logs/access.log  main;    sendfile        on;    #tcp_nopush     on;    #keepalive_timeout  0;    keepalive_timeout  65;    #gzip  on;    server &#123;        #ä¾¦å¬80ç«¯å£        listen    80;        #å®šä¹‰ä½¿ç”¨ www.nginx.cnè®¿é—®        server_name  www.nginx.cn;         #å®šä¹‰æœåŠ¡å™¨çš„é»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä½ç½®        root html;         #è®¾å®šæœ¬è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—        access_log  logs/nginx.access.log  main;         #é»˜è®¤è¯·æ±‚        location / &#123;                        #å®šä¹‰é¦–é¡µç´¢å¼•æ–‡ä»¶çš„åç§°            index index.php index.html index.htm;            &#125;         # å®šä¹‰é”™è¯¯æç¤ºé¡µé¢        error_page   500 502 503 504 /50x.html;        location = /50x.html &#123;        &#125;         #é™æ€æ–‡ä»¶ï¼Œnginxè‡ªå·±å¤„ç†        location ~ ^/(images|javascript|js|css|flash|media|static)/ &#123;                        #è¿‡æœŸ30å¤©ï¼Œé™æ€æ–‡ä»¶ä¸æ€ä¹ˆæ›´æ–°ï¼Œè¿‡æœŸå¯ä»¥è®¾å¤§ä¸€ç‚¹ï¼Œ            #å¦‚æœé¢‘ç¹æ›´æ–°ï¼Œåˆ™å¯ä»¥è®¾ç½®å¾—å°ä¸€ç‚¹ã€‚            expires 30d;        &#125;         #ç¦æ­¢è®¿é—® .htxxx æ–‡ä»¶            location ~ /.ht &#123;            deny all;        &#125;    &#125;</code></pre><h3 id="5-æ€ä¹ˆç”¨Nginxåšè´Ÿè½½å‡è¡¡ï¼Ÿ"><a href="#5-æ€ä¹ˆç”¨Nginxåšè´Ÿè½½å‡è¡¡ï¼Ÿ" class="headerlink" title="5.æ€ä¹ˆç”¨Nginxåšè´Ÿè½½å‡è¡¡ï¼Ÿ"></a>5.æ€ä¹ˆç”¨Nginxåšè´Ÿè½½å‡è¡¡ï¼Ÿ</h3><p>ä¸€ä¸ªè´Ÿè½½å‡è¡¡çš„ä¾‹å­ï¼ŒæŠŠ<a href="http://www.domain.comå‡è¡¡åˆ°æœ¬æœºä¸åŒçš„ç«¯å£,ä¹Ÿå¯ä»¥æ”¹ä¸ºå‡è¡¡åˆ°ä¸åŒçš„åœ°å€ä¸Š/">www.domain.comå‡è¡¡åˆ°æœ¬æœºä¸åŒçš„ç«¯å£ï¼Œä¹Ÿå¯ä»¥æ”¹ä¸ºå‡è¡¡åˆ°ä¸åŒçš„åœ°å€ä¸Š</a></p><pre><code>http &#123;    upstream myproject &#123;    server 127.0.0.1:8000 weight=3; #weight è¡¨ç¤ºæƒé‡    server 127.0.0.1:8001;    server 127.0.0.1:8002;    server 127.0.0.1:8003;  &#125;  server &#123;    listen 80;    server_name www.domain.com;    location / &#123;        proxy_pass http://myproject; #å®šå‘åˆ°myproject    &#125;  &#125;&#125;</code></pre><h3 id="6-Nginxè™šæ‹Ÿä¸»æœºï¼Ÿ"><a href="#6-Nginxè™šæ‹Ÿä¸»æœºï¼Ÿ" class="headerlink" title="6.Nginxè™šæ‹Ÿä¸»æœºï¼Ÿ"></a>6.Nginxè™šæ‹Ÿä¸»æœºï¼Ÿ</h3><p>è¦åœ¨Nginxé‡Œé¢é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºï¼Œé¦–å…ˆéœ€è¦æ–°å»ºå‡ ä¸ªè™šæ‹Ÿä¸»æœºã€‚ä¸€ä¸ªè™šæ‹Ÿä¸»æœºå…¶å®å°±å¯ä»¥ç†è§£ä¸€ä¸ªè™šæ‹Ÿæ“ä½œç³»ç»Ÿã€‚é€šå¸¸çš„ï¼Œè¿™ä¸ªè™šæ‹Ÿä¸»æœºå¯ä»¥å­˜åœ¨åœ¨è™šæ‹Ÿæœºæˆ–è€…dockeré‡Œé¢ã€‚å¯¹äºLinuxï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ¥åˆ›å»ºè™šæ‹Ÿä¸»æœºã€‚å¯ä»¥å‚è€ƒï¼š<a href="http://wodemeng.blog.51cto.com/1384120/1538310">Linux ä¸­httpä¸­åˆ›å»ºè™šæ‹Ÿä¸»æœºå®ä¾‹</a></p><p>Nginxé‡Œé¢é…ç½®è™šæ‹Ÿä¸»æœº</p><pre><code>http &#123;    server &#123;        listen          80;        server_name     www.domain1.com;        access_log      logs/domain1.access.log main;        location / &#123;        index index.html;            root  /var/www/domain1.com/htdocs;        &#125;    &#125;    server &#123;        listen          80;        server_name     www.domain2.com;        access_log      logs/domain2.access.log main;        location / &#123;            index index.html;            root  /var/www/domain2.com/htdocs;        &#125;    &#125;&#125;</code></pre><h3 id="7-Nginxç¼“å­˜å¤„ç†ï¼Ÿ"><a href="#7-Nginxç¼“å­˜å¤„ç†ï¼Ÿ" class="headerlink" title="7.Nginxç¼“å­˜å¤„ç†ï¼Ÿ"></a>7.Nginxç¼“å­˜å¤„ç†ï¼Ÿ</h3><p>è¿™ä¸€æ–¹é¢ç†è§£ä¸æ˜¯å¾ˆæ·±å…¥ï¼Œçœ‹çœ‹å…ˆäººçš„åšå®¢æ¥å­¦ä¹ ä¸€ä¸‹</p><ul><li><a href="http://www.cnblogs.com/bokejiayuan/p/4233332.html">å¦‚ä½•åˆ©ç”¨Nginxçš„ç¼“å†²ã€ç¼“å­˜ä¼˜åŒ–æå‡æ€§èƒ½</a></li><li><a href="http://www.jb51.net/article/77602.htm">nginxç¼“å­˜cacheçš„5ç§æ–¹æ¡ˆ</a></li><li><a href="http://www.cnblogs.com/kevingrace/p/6198287.html">nginxçš„webç¼“å­˜æœåŠ¡ç¯å¢ƒéƒ¨ç½²è®°å½•</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> è¿ç»´çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ç¯‡æ— èŠçš„åšå®¢--å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°ç”µè„‘ï¼Œæˆ‘è¯¥æ€æ ·å»é…ç½®ï¼Ÿ</title>
      <link href="/2017/09/01/"/>
      <url>/2017/09/01/</url>
      
        <content type="html"><![CDATA[<h1 id="å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°ç”µè„‘ï¼Œæˆ‘è¯¥æ€æ ·å»é…ç½®ï¼Ÿ"><a href="#å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°ç”µè„‘ï¼Œæˆ‘è¯¥æ€æ ·å»é…ç½®ï¼Ÿ" class="headerlink" title="å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°ç”µè„‘ï¼Œæˆ‘è¯¥æ€æ ·å»é…ç½®ï¼Ÿ"></a>å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°ç”µè„‘ï¼Œæˆ‘è¯¥æ€æ ·å»é…ç½®ï¼Ÿ</h1><hr><blockquote><p>è¿™æ˜¯ä¸€ç¯‡æ— èŠåˆ°è®©ä½ çœ‹äº†ä¹‹åä¼šè§‰å¾—ä¸€åˆ‡ç´¢ç„¶æ— å‘³çš„åšå®¢ï¼Œå› ä¸ºå®ƒçš„ç›®çš„åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯å¸®åŠ©æˆ‘è®°å¿†ä¸€äº›çš„æˆ‘çš„ä¸ªäººç”µè„‘è£…æœºæ–¹æ¡ˆã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç¯‡æœ‰ä¸€ç‚¹ç‚¹å‚è€ƒä»·å€¼çš„åšå®¢ï¼Œå› ä¸ºæˆ–è®¸å¯ä»¥å¸®åŠ©ä½ è‡ªå®šä¹‰é…ç½®ä½ çš„ç”µè„‘ï¼Œåˆ›é€ ä¸åŒäºåˆ«äººçš„freestyleï¼ŒåŒæ—¶æå‡ä½ çš„å·¥ä½œæ•ˆç‡ã€‚å› ä¸ºå¹³æ—¶çš„å·¥ä½œæ¥è§¦çš„å°±åªæœ‰windowså’ŒmacOSï¼Œæ‰€ä»¥æœ¬æ–‡çš„åˆ‡å…¥ç‚¹ä¹Ÿå°±æœ‰ä¸¤ä¸ªã€‚é‚£ä¹ˆï¼Œå½“æˆ‘æœ‰äº†æˆ‘çš„æ–°ç”µè„‘ï¼Œæˆ‘è¯¥æ€æ ·å»é…ç½®çš„æˆ‘çš„æ–°ç”µè„‘å‘¢ï¼Ÿ</p></blockquote><blockquote><p>æˆ‘çš„èŒä¸šæ˜¯ä¸€ä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ‰€ä»¥ä»¥è£…Xä¸ºç›®çš„ï¼Œæå‡å·¥ä½œæ•ˆç‡ä¸ºæƒ…æ€€ã€‚ä»¥ä¸‹è½¯ä»¶çš„é…ç½®æˆ–è€…ä¼˜åŒ–å‡ä¸ºä¸ªäººå–œå¥½ï¼Œä½ è¦æ˜¯è§‰å¾—ä¸å–œæ¬¢å¾ˆçƒ‚ï¼Œé„™äººä¹Ÿæ˜¯å¾ˆæ— å¥ˆå•Šã€‚</p></blockquote><h2 id="å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°Windowsç”µè„‘ï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–"><a href="#å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°Windowsç”µè„‘ï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–" class="headerlink" title="å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°Windowsç”µè„‘ï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–"></a>å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°Windowsç”µè„‘ï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–</h2><h3 id="1-ç³»ç»Ÿçš„é€‰æ‹©"><a href="#1-ç³»ç»Ÿçš„é€‰æ‹©" class="headerlink" title="1 ç³»ç»Ÿçš„é€‰æ‹©"></a>1 ç³»ç»Ÿçš„é€‰æ‹©</h3><p>ä¸€èˆ¬æˆ‘æ˜¯ä¸å–œæ¬¢ç”¨è‡ªå¸¦çš„å®¶åº­ç‰ˆç³»ç»Ÿçš„ï¼Œå†µä¸”æˆ‘æ˜¯ä¸ªæƒ³åœ¨ç”µè„‘ä¸Šè·‘å¤šä¸ªç³»ç»Ÿçš„boyã€‚ä½†ä¹ æƒ¯æ‰€è‡´ï¼ŒåŒç³»ç»Ÿä¸æ˜¯æˆ‘çš„é€‰æ‹©ï¼Œæ‰€ä»¥æˆ‘é€‰window10ä¸“ä¸šç‰ˆæˆ–è€…windows10ä¼ä¸šç‰ˆã€‚Windows10è‡ªå¸¦çš„<strong>hyper-v</strong>è¶³å¤Ÿå¼ºå¤§ï¼Œä¸ªäººæ„Ÿè§‰æ¯”VMå¥½ç”¨å¤šäº†ï¼Œç”¨æ¥è£…centosåˆšåˆšå¥½ã€‚<br>æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ä¸‹ï¼š</p><ul><li>win10åœ¨<strong>å¼€å¯hyperæœåŠ¡</strong>ä¹‹åï¼Œè‹¥è¦æ–°å»ºè™šæ‹Ÿæœºï¼Œéœ€è¦å¼€å¯biosçš„è™šæ‹ŸåŒ–ï¼Œåœ¨BIOSçš„cpuè®¾ç½®é‡Œé¢å¯ç”¨å³å¯ã€‚</li><li>win10æœ‰æ—¶å€™ä¼šé‡åˆ°æ— æ³•è¿›å…¥BIOSçš„æƒ…å†µï¼ŒåŸå› æœ‰å¯èƒ½æ˜¯å¼€å¯äº†win10çš„å¿«é€Ÿå¯åŠ¨ï¼Œæ‰€ä»¥ç”µè„‘ä¸ä¼šçœŸæ­£çš„å…³æœºã€‚è§£å†³åŠæ³•æ˜¯å°†ç”µè„‘å¼ºè¡Œæ–­ç”µå‡ åˆ†é’Ÿï¼Œå¦‚æœæ˜¯ç¬”è®°æœ¬å°±æ‹†æ‰ç”µæºï¼Œç„¶åæŒ‰é•¿æŒ‰å¼€æœºé”®æ¸…ç©ºBIOSçš„ç”µé‡ã€‚è¿™ä¸ªæ—¶å€™å†é‡å¯æŒ‰å‘½ä»¤ï¼ˆF2ï¼ŒESCç­‰ï¼‰å°±å¯ä»¥è¿›å…¥BIOSè®¾ç½®äº†ã€‚</li><li>hyper-vçš„è™šæ‹Ÿæœºæ–°å»ºè®¾ç½®é‡Œé¢æœ‰ä¸€ä¸ªä¸€ä»£æˆ–è€…äºŒä»£(<a href="https://docs.microsoft.com/en-us/windows-server/virtualization/hyper-v/plan/Should-I-create-a-generation-1-or-2-virtual-machine-in-Hyper-V">WTF is 1 or 2</a>)çš„è®¾ç½®ã€‚å¼€å¯äº†è™šæ‹ŸåŒ–ï¼Œå½“ç„¶é€‰æ‹©ç¬¬äºŒä»£ã€‚<br>å›¾ç‰‡<br>ä¸Šå›¾æ˜¯ç¬¬ä¸€ä»£å’Œç¬¬äºŒä»£çš„åŒºåˆ«ã€‚</li><li>å½“ä½ æ–°å»ºè™šæ‹Ÿæœºè£…centosæ—¶æœ‰æ—¶ä¼šå‡ºç°*** no UEFI system found**çš„é”™è¯¯ï¼Œè¯´æ˜ä½ çš„BIOSæ²¡æœ‰è®¾ç½®UEFI(<a href="https://baike.baidu.com/item/UEFI/3556240?fr=aladdin">WTF is UEFI</a>)ï¼Œæˆ–è€…æœºå™¨å¤ªè€ä¸æ”¯æŒã€‚é€€å‡ºåˆ°ç¬¬ä¸‰æ­¥ä¸­çš„ç¬¬ä¸€ä»£å°±è¡Œã€‚</li></ul><h3 id="2-ç½‘ç»œç¯å¢ƒï¼Œé©±åŠ¨é…ç½®"><a href="#2-ç½‘ç»œç¯å¢ƒï¼Œé©±åŠ¨é…ç½®" class="headerlink" title="2 ç½‘ç»œç¯å¢ƒï¼Œé©±åŠ¨é…ç½®"></a>2 ç½‘ç»œç¯å¢ƒï¼Œé©±åŠ¨é…ç½®</h3><ul><li><strong>æ›´æ–°é©±åŠ¨ï¼Œä¿®å¤æ¼æ´</strong>ç›´æ¥ä½¿ç”¨é²å¤§å¸ˆã€‚å¦‚æœæ˜¯ç»„è£…æœºï¼Œé¡ºä¾¿å¯ä»¥è·‘ä¸ªåˆ†ï¼ŒæŸ¥çœ‹ç”µè„‘ä½¿ç”¨æƒ…å†µï¼Œçœ‹æœ‰æ²¡æœ‰è¢«å•†å®¶å¥—è·¯ã€‚</li><li><em>ç¿»å¢™</em>å»GitHubä¸‹è½½ï¼ˆå…¶ä»–åœ°æ–¹å‡ºç°çš„éƒ½æ˜¯å‡çš„ï¼‰ã€‚å®‰è£…lantern</li></ul><h3 id="3-ä½œä¸ºä¸€åcoderï¼Œæˆ‘è¯¥è£…äº›å•¥"><a href="#3-ä½œä¸ºä¸€åcoderï¼Œæˆ‘è¯¥è£…äº›å•¥" class="headerlink" title="3 ä½œä¸ºä¸€åcoderï¼Œæˆ‘è¯¥è£…äº›å•¥"></a>3 ä½œä¸ºä¸€åcoderï¼Œæˆ‘è¯¥è£…äº›å•¥</h3><ul><li><strong>visual studio code</strong>ï¼Œç”¨æ¥å†™ä»£ç </li><li><strong>git for windows</strong>ï¼Œç”¨æ¥æŠ„ä»£ç ï¼Œå¿…è¦å®‰è£…<a href="https://www.sourcetreeapp.com/">sourcetree</a></li><li><strong>node</strong>ï¼Œnode ç¯å¢ƒå¿…é¡»è¦è£…</li><li><strong>sublime</strong>ï¼Œç”¨æ¥ä»£æ›¿è®°äº‹æœ¬ä½¿ç”¨</li><li><strong>beyondCompare</strong>,æ¯”è¾ƒä»£ç ç”¨</li><li><strong><a href="https://babun.github.io/index.html">babun</a></strong>,æ›¿æ¢æ‰åŸç”Ÿçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸powershell ç»“åˆä½¿ç”¨</li><li><strong><a href="https://www.cockos.com/licecap/">licecap</a></strong>,ç”¨æ¥æˆªGifå›¾ï¼Œç»™åˆ«äººæ¼”ç¤ºç”¨ï¼Œå¾ˆæ–¹ä¾¿</li><li><strong>mongodb</strong>,ç°åœ¨åº”è¯¥å«åšstudio3T,å·¥ä½œä¸»ç”¨mongodb</li><li><strong>[teamviewer(<a href="https://www.teamviewer.com/zhCN/)]">https://www.teamviewer.com/zhCN/)]</a></strong>,è¿œç¨‹è¿æ¥ï¼Œå®é™…ä½¿ç”¨å¼ºè¿‡å‘æ—¥è‘µå¤ªå¤š</li><li>**[markman(<a href="http://www.getmarkman.com/)]**%E7%94%A8%E6%9D%A5%E5%88%87%E5%9B%BE%E9%87%8F%E5%B0%BA%E5%AF%B8%EF%BC%8C%E5%8D%95%E8%BF%99%E4%B8%AA%E5%8A%9F%E8%83%BD%E4%BF%A9%E8%AF%B4%E6%AF%94PS%E5%AE%9E%E5%9C%A8%E5%A5%BD%E5%A4%AA%E5%A4%9A%EF%BC%8C%E4%BD%86%E6%98%AF%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85Adobe">http://www.getmarkman.com/)]**ç”¨æ¥åˆ‡å›¾é‡å°ºå¯¸ï¼Œå•è¿™ä¸ªåŠŸèƒ½ä¿©è¯´æ¯”PSå®åœ¨å¥½å¤ªå¤šï¼Œä½†æ˜¯éœ€è¦å®‰è£…Adobe</a> air</li><li><strong><a href="http://www.getwox.com/">Wox</a></strong>,windowsä¸‹çš„çš„spotlight,å®‰è£…åè®¾ç½®å¼€æœºè‡ªå¯</li><li><strong><a href="https://www.irolan.com/">rolan</a></strong>,ç”¨æ¥åšæ¡Œé¢ç®¡ç†ï¼Œè®¾ç½®å¼€æœºè‡ªå¯</li><li><strong>cccleaner</strong> æ¸…ç†ç”µè„‘åƒåœ¾æ–‡ä»¶å’Œæ³¨å†Œè¡¨</li><li><strong>FileZila</strong> Ftpè¿æ¥</li><li><strong>æœ‰é“äº‘ç¬”è®°</strong> ç”¨æ¥è®°ç¬”è®°ï¼Œä¸‰ä¸ªç»ˆç«¯éƒ½æœ‰çš„ï¼Œå¾ˆæ–¹ä¾¿ã€‚å½“ç„¶å°è±¡ç¬”è®°ä¹Ÿæ˜¯å¯ä»¥çš„</li></ul><h3 id="4-ä½œä¸ºä¸€åæ–‡é’ï¼Œæˆ‘è¯¥ç”¨äº›å•¥"><a href="#4-ä½œä¸ºä¸€åæ–‡é’ï¼Œæˆ‘è¯¥ç”¨äº›å•¥" class="headerlink" title="4 ä½œä¸ºä¸€åæ–‡é’ï¼Œæˆ‘è¯¥ç”¨äº›å•¥"></a>4 ä½œä¸ºä¸€åæ–‡é’ï¼Œæˆ‘è¯¥ç”¨äº›å•¥</h3><p>å¾®ä¿¡QQéšèº«è£…<br><br>çŸ¥ä¹Bç«™å¤©å¤©çœ‹<br><br>ä¼˜åŒ–ç”µè„‘é²å¤§å¸ˆ<br><br>å¬æ­Œåªé€‰ç½‘æ˜“äº‘</p><h3 id="5-å¿…å¤‡çš„è°·æ­Œæµè§ˆå™¨ï¼Œå•ç‹¬ç”¨æ¥è¯´ï¼Œæœ€å¥½çš„åŠæ³•åˆ›å»ºä¸€ä¸ªè°·æ­Œè´¦æˆ·ï¼Œè¿™æ ·ä¸€åˆ‡æ–¹ä¾¿è®¸å¤š"><a href="#5-å¿…å¤‡çš„è°·æ­Œæµè§ˆå™¨ï¼Œå•ç‹¬ç”¨æ¥è¯´ï¼Œæœ€å¥½çš„åŠæ³•åˆ›å»ºä¸€ä¸ªè°·æ­Œè´¦æˆ·ï¼Œè¿™æ ·ä¸€åˆ‡æ–¹ä¾¿è®¸å¤š" class="headerlink" title="5 å¿…å¤‡çš„è°·æ­Œæµè§ˆå™¨ï¼Œå•ç‹¬ç”¨æ¥è¯´ï¼Œæœ€å¥½çš„åŠæ³•åˆ›å»ºä¸€ä¸ªè°·æ­Œè´¦æˆ·ï¼Œè¿™æ ·ä¸€åˆ‡æ–¹ä¾¿è®¸å¤š"></a>5 å¿…å¤‡çš„è°·æ­Œæµè§ˆå™¨ï¼Œå•ç‹¬ç”¨æ¥è¯´ï¼Œæœ€å¥½çš„åŠæ³•åˆ›å»ºä¸€ä¸ªè°·æ­Œè´¦æˆ·ï¼Œè¿™æ ·ä¸€åˆ‡æ–¹ä¾¿è®¸å¤š</h3><ul><li><strong>Octotree</strong> ä»¥æ ‘å½¢èœå•çš„æ–¹å¼æŸ¥çœ‹githubä¸Šçš„ä»“åº“</li><li><strong>Adblock Plus</strong> å¹¿å‘Šï¼Œä¸å­˜åœ¨çš„</li><li><strong>æ˜é‡‘</strong> ç¨‹åºå‘˜ä¸€å®šè¦çœ‹è¿™ä¸ªï¼Œæ¯å¤©å­¦ä¹ æ–°çŸ¥è¯†</li><li><strong>Infinityæ–°æ ‡ç­¾é¡µ</strong> æ›¿æ¢æ‰ä¸‘é™‹çš„æ–°æ ‡ç­¾é¡µï¼Œå¾ˆå¥½ç”¨</li><li><strong>Postman</strong>  ä¸è§£é‡Šï¼Œæµ‹æ¥å£</li><li><strong>React Developer Tools</strong> reactè°ƒè¯•å·¥å…·</li><li><strong>Redux DevTools</strong> react-reduxè°ƒè¯•å·¥å…·</li><li><strong>Vue.js devtools</strong> vueè°ƒè¯•å·¥å…·</li><li><strong>Tampermonkey</strong> æ’ä»¶ä¹‹ä¸­çš„æ’ä»¶ï¼Œè¶…æœ‰é€¼æ ¼</li><li><strong>Vimium</strong> ä»¥vimçš„æ–¹å¼å…¨é”®ç›˜æ“æ§ç½‘é¡µ</li><li><strong>æ‰©å±•ç®¡ç†å™¨</strong> å°å›¾æ ‡å¤ªå¤šï¼Œç”¨è¿™ä¸ªç®¡ç†</li><li><strong>åˆ’è¯ç¿»è¯‘</strong> å¯¹äºè‹±æ–‡è´¼å·®çš„æˆ‘æ¥è¯´ï¼ŒçœŸçš„ç¥å™¨ï¼Œé€‰ä¸­å•è¯å°±å¯ç¿»è¯‘</li><li><strong>å°å¹ºé¸¡</strong> å†™æ¥å£æ–‡æ¡£ä½¿ç”¨ï¼Œæ”¯æŒå›½äº§</li><li><strong>Listen 1</strong> å¬ç½‘æ˜“äº‘éŸ³ä¹ï¼Œè™¾ç±³ï¼ŒQQéŸ³ä¹çš„æ›²åº“</li></ul><hr><h2 id="å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°macï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–"><a href="#å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°macï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–" class="headerlink" title="å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°macï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–"></a>å½“æˆ‘æœ‰äº†æˆ‘çš„æ–°macï¼Œæˆ‘è¯¥æ€ä¹ˆå»é…ç½®ï¼Œä¼˜åŒ–</h2><p>å¯¹äºmacæ¥è¯´ï¼Œå­¦ä¹ æˆæœ¬ç›¸å½“ä½ï¼ŒåŸºæœ¬æ²¡æœ‰ä¸€äº›é…ç½®ä»€ä¹ˆçš„éªšæ“ä½œï¼Œæ”¶é›†ä¸€ä¸‹è‡ªå·±çš„è£…æœºåˆ—è¡¨</p><ul><li><strong>item2</strong> æ›¿ä»£åŸç”Ÿçš„terminal</li><li><strong>homebrew</strong> å®‰è£…homebrew</li><li><strong>oh-my-zsh</strong> é…ç½®oh-my-zsh</li><li><strong>CheatSheet</strong> é•¿æŒ‰commandï¼Œæ˜¾ç¤ºå½“å‰ç¨‹åºçš„æ‰€æœ‰å¿«æ·é”®</li></ul><p>ä»¥ä¸Šå‡ ä¸ªï¼Œå¯ä»¥å»<a href="http://blog.csdn.net/u013707249/article/details/76094937">è¿™é‡Œ</a>æŸ¥çœ‹</p><ul><li><strong>visual studio code</strong>ï¼Œç”¨æ¥å†™ä»£ç </li><li><strong>node</strong>ï¼Œnode ç¯å¢ƒå¿…é¡»è¦è£…</li><li><strong>sublime</strong>ï¼Œç”¨æ¥ä»£æ›¿è®°äº‹æœ¬ä½¿ç”¨</li><li><strong>beyondCompare</strong>,æ¯”è¾ƒä»£ç ç”¨</li><li><strong><a href="https://www.cockos.com/licecap/">licecap</a></strong>,ç”¨æ¥æˆªGifå›¾ï¼Œç»™åˆ«äººæ¼”ç¤ºç”¨ï¼Œå¾ˆæ–¹ä¾¿</li><li><strong>mongodb</strong>,ç°åœ¨åº”è¯¥å«åšstudio3T,å·¥ä½œä¸»ç”¨mongodb</li><li><strong>[teamviewer(<a href="https://www.teamviewer.com/zhCN/)]">https://www.teamviewer.com/zhCN/)]</a></strong>,è¿œç¨‹è¿æ¥ï¼Œå®é™…ä½¿ç”¨å¼ºè¿‡å‘æ—¥è‘µå¤ªå¤š</li><li><strong>[markman(<a href="http://www.getmarkman.com/)]">http://www.getmarkman.com/)]</a></strong> ç”¨æ¥åˆ‡å›¾é‡å°ºå¯¸ï¼Œå•è¿™ä¸ªåŠŸèƒ½ä¿©è¯´æ¯”PSå®åœ¨å¥½å¤ªå¤šï¼Œä½†æ˜¯éœ€è¦å®‰è£…Adobe air</li><li><strong>æˆªå›¾å·¥å…·</strong>å¾ˆå¥½ç”¨çš„ä¸€ä¸ªæˆªå›¾å·¥å…·ï¼Œ<a href="http://jietu.qq.com/">æˆ³æˆ‘</a></li><li><strong>Alfred 3</strong> å·¥ä½œæ•ˆç‡ç¥å™¨ï¼Œå¦å¤–ï¼Œå¯ä»¥<a href="http://www.sdifen.com/alfred3.html">ç ´è§£å“¦</a></li><li><strong>FileZila</strong> Ftpè¿æ¥</li><li><strong>webstorm</strong> macä¸Šä¸æ˜¯é‚£ä¹ˆå¡</li><li><strong>æœ‰é“äº‘ç¬”è®°</strong> åšç¬”è®°ä½¿ç”¨ï¼Œä¸‰ä¸ªç»ˆç«¯éƒ½æœ‰çš„ï¼Œå¾ˆæ–¹ä¾¿</li></ul>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> è½¯ä»¶é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ç¯‡æ–‡ç« ï¼Œä»windows10æˆåŠŸç§»æ¤macOS</title>
      <link href="/2017/07/25/"/>
      <url>/2017/07/25/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ç¯‡æ–‡ç« ï¼Œä»windows10æˆåŠŸç§»æ¤macOS</p><p>ä½œä¸ºä¹ æƒ¯äº†Windowsæ¸©æš–æ€€æŠ±çš„ç ç•œä¸€åï¼Œåˆæ¬¡ä½¿ç”¨macOSï¼Œæ€»æ˜¯ä¼šæœ‰å„ç§çš„ä¸é€‚åº”ã€‚è®°ä¸ä½çš„å¿«æ·é”®ï¼Œç†ä¸æ¸…çš„bashå‘½ä»¤ï¼Œæ‰¾ä¸åˆ°çš„æ–‡ä»¶å¤¹ï¼Œä¸ªä¸ªéƒ½èƒ½è®©äººæ¿€åŠ¨åœ°æ‹”èµ·29ç±³å¤§åˆ€ã€‚è¿™ç¯‡æ–‡ç« ï¼Œç®€å•ä»‹ç»ä½œä¸ºä¸€å°ç™½ä»Windows10ç³»ç»ŸæˆåŠŸç§»æ¤macOSçš„è¿‡ç¨‹ã€‚åœ¨å‡ å¤©çš„é€‚åº”æ—¶é—´é‡Œï¼ŒæŸ¥é˜…äº†å¤§é‡ï¼ˆä¸€ç‚¹å„¿ï¼‰çš„èµ„æ–™ï¼Œè¸©ç€å‰äººçš„å°¸é¦–æ•´ç†å‡ºè¿™ç¯‡æ–‡ç« ã€‚ä¸€æ–¹é¢ç®—ä½œæ˜¯ç»™è‡ªå·±ä¸€ä¸ªè®°å½•ï¼Œå¦ä¸€æ–¹é¢æ˜¯æœ€è¿‘ç•¥å¿™ï¼Œæ— æ³•æ›´æ–°åšå®¢ï¼Œåªèƒ½å†™ç‚¹è¿™äº›æ¥å……æ•°ã€‚</p><p>å› ä¸ºæˆ‘æ˜¯ç å†œä¸€åï¼Œæ‰€ä»¥å¯¹macOSçš„ä½¿ç”¨ç†è§£å¯èƒ½ä¸å¤§ä¼—è§†è§’ä¸å¤ªä¸€æ ·ï¼Œæ‰€ä»¥å°†å°±çœ‹ã€‚</p><p>é…ç½®VPN</p><p>é¦–å…ˆï¼Œåˆšæ¥è§¦åˆ°macOSï¼Œæˆ‘è®¤ä¸ºåº”è¯¥åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯é…ç½‘ç»œï¼Œæ¯•ç«Ÿåœ¨ç¨‹åºç•Œï¼Œå›½å¤–çš„æœˆäº®çš„ç¡®æ˜¯åœ†ä¸€äº›ã€‚å…³äºvpnï¼Œæœ€è¿‘å›½å®¶é£å¤´æ­£ç´§ï¼Œå‰é˜µå­ï¼Œåšä¸»ä¸€ç›´ç”¨çš„greenvpnå·²ç»è·‘è·¯ï¼Œæ‰€ä»¥é˜²æ­¢æŸ¥æ°´è¡¨ï¼Œè¿™é‡Œå°±ç®€å•æä¸€ä¸‹ï¼Œå¸Œæœ›æ²¡äººçœ‹åˆ°ã€‚</p><p>ä¸€èˆ¬åœ¨macOSä¸Šä½¿ç”¨VPNï¼Œä¼šæ¨èä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨shadowsockå®¢æˆ·ç«¯ï¼Œç„¶åè‡ªå·±å»somewhereæ‰¾çº¿è·¯ï¼Œè¿›è¡Œé…ç½®åè®¿é—®ï¼Œè¿™ä¸€ç§ç•¥å¾®éº»çƒ¦ä¸‹ã€‚å› ä¸ºæˆ‘æ˜¯å°ç™½å˜›ï¼Œæ‰€ä»¥æˆ‘ç”¨ç®€å•çš„ï¼Œlantern ï¼Œæ¯”èµ·ä½¿ç”¨shadowsockï¼Œlanternä½¿ç”¨å¾ˆç®€å•ï¼Œç›´æ¥ä¸‹è½½æ‰“å¼€å°±å¯ä»¥ç”¨ã€‚lanterné»˜è®¤ä¼šåœ¨æ‰“å¼€çš„æ—¶å€™ï¼Œåœ¨ä½ çš„æœºå™¨ä¸Šè·‘ä¸€ä¸ªæœåŠ¡ï¼Œå…è´¹çš„ä¹Ÿå¯ä»¥ç”¨ï¼Œä½†æ˜¯é€Ÿåº¦ç¨³å®šæ€§ç¨å¾®å·®äº›ï¼Œé‡è¦çš„æ˜¯ä¼šé™åˆ¶æµé‡ã€‚ä¸“ä¸šç‰ˆçš„å°±ä¸ä¼šåšæµé‡é™åˆ¶ï¼Œè€Œä¸”ç°åœ¨ä¸¤å¹´å¥—é¤æ‰300å—å·¦å³ï¼ˆæˆ‘ç”¨çš„å°±æ˜¯è¿™ä¸ªï¼‰ï¼Œæˆ‘ä¸ä¼šå‘Šè¯‰ä½ åœ¨è´­ä¹°çš„æ—¶å€™å¡«å†™è¿™ä¸ªéªŒè¯ç  YY7VYWQ è¿˜å¯ä»¥é¢å¤–è·å¾—æ˜¯ä¸‰ä¸ªæœˆçš„ä½¿ç”¨æ—¶é—´ã€‚</p><p>å¯¹äº†ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œä¸‹è½½lanternåˆ«å»ç™¾åº¦æœç´¢ä¸‹è½½ï¼Œæœåˆ°çš„ä¸­æ–‡å®˜ç½‘å·²ç»ä¸‹äº†ï¼Œç›´æ¥å»è¿™é‡Œä¸‹è½½ ä¸‹è½½åœ°å€ï¼š <a href="https://github.com/getlantern/lantern/releases/tag/latest%EF%BC%8C%E8%80%8C%E4%B8%94%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E6%98%AFlantern%E6%B2%A1%E6%9C%89ios%E7%89%88%E6%9C%AC%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A5ios%E4%B8%8A%E7%9A%84lantern%E9%83%BD%E6%98%AF%E7%9B%97%E7%89%88%E3%80%82">https://github.com/getlantern/lantern/releases/tag/latestï¼Œè€Œä¸”éœ€è¦æ³¨æ„çš„æ˜¯lanternæ²¡æœ‰iosç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥iosä¸Šçš„lanternéƒ½æ˜¯ç›—ç‰ˆã€‚</a></p><p>è®°ä½å¿«æ·é”®</p><p>é¦–å…ˆMacBookçš„é”®ä½æ˜¯å’Œæ™®é€šçš„é”®ç›˜ä¸ä¸€æ ·çš„ï¼Œæ›´é‡è¦çš„æ˜¯å¥½å¤šå¿«æ·é”®ä¹Ÿæ˜¯å¾ˆæœ‰è‡ªå·±çš„freestyleï¼Œçš„ç¡®æ˜¯ç›¸å½“éš¾è®°ï¼ˆå½“ç„¶ä¹Ÿä¸éœ€è¦å…¨éƒ¨è®°ä½ï¼Œåªéœ€è¦åœ¨å·¥ä½œç†Ÿæ‚‰å¸¸ç”¨çš„å³å¯ï¼‰ã€‚è¿™é‡Œæ¨èä¸€ä¸ªè½¯ä»¶CheatSheetï¼Œæ²¡åˆ«çš„ï¼Œå°±æ˜¯å½“ä½ é•¿æŒ‰ä½commandé”®çš„æ—¶å€™ï¼Œä¼šæ˜¾ç¤ºå½“å‰ç”µè„‘çš„æ‰€æœ‰å¸¸ç”¨å¿«æ·é”®æ–¹å¼ï¼Œå¥½è®°æ€§ä¸ç”¨å¸¦å°æŠ„ã€‚ä¸‹è½½åœ°å€ç‚¹è¿™é‡Œï¼ŒCheatSheet <a href="https://www.mediaatelier.com/CheatSheet/">https://www.mediaatelier.com/CheatSheet/</a></p><p>bashå‘½ä»¤</p><p>è®²é“ç†ï¼Œä¸çœ‹å…¶ä»–çš„ï¼ŒmacOSä¸Šçš„bashå‘½ä»¤æˆ‘å¯ä»¥ç©å„¿ä¸€å¤©ã€‚è¿™é‡Œç›´æ¥çœ‹äº†å‰äººçš„æ•™ç¨‹æ¥é…ç½®è‡ªå·±çš„terminalã€‚ç»“åˆç¾è§‚ã€ä½¿ç”¨é«˜æ•ˆçš„éœ€æ±‚ï¼Œå‰äººç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯iterm2+oh-my-zsh+å„ç§é…ç½®,æ€è·¯å¾ˆæ¸…æ™°ï¼Œä½†æ˜¯å®‰è£…ä¼šæœ‰ä¸€ç‚¹éº»çƒ¦ã€‚<br>æ•´ç†ä¸€ä¸‹æ€è·¯å¤§è‡´å°±æ˜¯ï¼Œ å…ˆå®‰è£…iterm2 -&gt; iterm2ç®€å•é…ç½®ï¼Œé…è‰²æ–¹æ¡ˆ -&gt; å®‰è£…zshï¼Œmacè‡ªå¸¦çš„æœ‰zshï¼Œä½†æ˜¯å¯ä»¥å»æ›´æ–°ä¸‹ -&gt; å®‰è£…oh-my-zshæ’ä»¶ -&gt; æ„‰å¿«ç©è€</p><p>iterm2çš„å®‰è£…<br>ç›´æ¥å»iterm2çš„å®˜ç½‘ä¸‹è½½å°±è¡Œäº†ï¼Œ<a href="https://www.iterm2.com/%EF%BC%8C%E5%85%8D%E8%B4%B9%E7%9A%84%E8%BD%AF%E4%BB%B6%E3%80%82">https://www.iterm2.com/ï¼Œå…è´¹çš„è½¯ä»¶ã€‚</a></p><p>iterm2ç®€å•é…ç½®ï¼Œé…è‰²æ–¹æ¡ˆ<br>ç½‘ä¸Šæœ‰å¾ˆå¤šå¤§ç¥æœ‰è‡ªå·±çš„é…è‰²æ–¹æ¡ˆï¼Œå¯ä»¥ ç™¾åº¦ â€˜iterm2é…è‰²æ–¹æ¡ˆâ€™ï¼Œå¯ä»¥æŒ‰ç…§æ•™ç¨‹è‡ªå·±è®¾ç½®ã€‚å½“ç„¶æˆ‘æ˜¯å°ç™½ï¼Œæ‰€ä»¥ç›´æ¥ç”¨ç°æˆçš„ã€‚iterm2æœ‰ä¸“é—¨çš„ä¸»é¢˜ç½‘ç«™ï¼Œå¯ä»¥ç™»å½•è¿™é‡Œ<a href="http://iterm2colorschemes.com/%EF%BC%8C%E4%B8%8B%E8%BD%BD%E7%BD%91%E7%AB%99%E4%B8%8A%E7%9A%84%E5%8C%85%EF%BC%8C%E7%84%B6%E5%90%8E%E7%9F%A5%E5%B7%B1%E5%AF%BC%E5%85%A5%E5%B0%B1%E8%A1%8C%E4%BA%86%EF%BC%8C%E4%BD%A0%E8%A6%81%E9%97%AE%E6%80%8E%E4%B9%88%E5%AF%BC%E5%85%A5%EF%BC%9F%E7%9B%B4%E6%8E%A5%E7%9C%8B%E8%BF%99%E9%87%8C%EF%BC%8Citerm2%E5%AF%BC%E5%85%A5%E9%85%8D%E8%89%B2%E6%96%B9%E6%A1%88http://jingyan.baidu.com/article/48a42057029f99a92425048e.html">http://iterm2colorschemes.com/ï¼Œä¸‹è½½ç½‘ç«™ä¸Šçš„åŒ…ï¼Œç„¶åçŸ¥å·±å¯¼å…¥å°±è¡Œäº†ï¼Œä½ è¦é—®æ€ä¹ˆå¯¼å…¥ï¼Ÿç›´æ¥çœ‹è¿™é‡Œï¼Œiterm2å¯¼å…¥é…è‰²æ–¹æ¡ˆhttp://jingyan.baidu.com/article/48a42057029f99a92425048e.html</a></p><p>å®‰è£…zsh<br>åœ¨å®‰è£…zshä¹‹å‰ï¼Œå¯ä»¥å…ˆå®‰è£…ä¸€ä¸ªhomebrewï¼Œ<a href="https://brew.sh/index_zh-cn.html%EF%BC%8C%E6%9C%89%E4%BA%86%E8%BF%99%E4%B8%AA%E7%8E%A9%E6%84%8F%E5%84%BF%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E4%BD%A0%E6%83%B3%E5%AE%89%E8%A3%85%E7%9A%84%E4%B8%9C%E8%A5%BF%E3%80%82%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90%E5%90%8E%EF%BC%8C%E7%9B%B4%E6%8E%A5bash%E8%BE%93%E5%85%A5">https://brew.sh/index_zh-cn.htmlï¼Œæœ‰äº†è¿™ä¸ªç©æ„å„¿ï¼Œå¯ä»¥ä¸€é”®å®‰è£…ä½ æƒ³å®‰è£…çš„ä¸œè¥¿ã€‚å®‰è£…å®Œæˆåï¼Œç›´æ¥bashè¾“å…¥</a><br>$brew install zsh<br>å®‰è£…æˆåŠŸåï¼Œéœ€è¦ä¿®æ”¹ä¸ºé»˜è®¤çš„shellï¼Œå…ˆå»ç¡®è®¤ä¸€ä¸‹è‡ªå·±zshçš„å®‰è£…ç›®å½•<br>$ chsh -s &#x2F;bin&#x2F;zsh</p><p>å®‰è£…oh-my-zshæ’ä»¶<br>åªå‰©ä¸‹æœ€åä¸€æ­¥,ä¸€è¡Œå‘½ä»¤æå®š<br>$ curl -L <a href="https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh">https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh</a> | sh</p><p>ä»¥ä¸Šï¼Œå°±ç¨å¾®æœ‰ç‚¹é€¼æ ¼äº†ï¼Œ</p><p>ä¸€äº›æˆ‘è®°ä¸ä½çš„å‘½ä»¤ï¼š<br>é¡ºä¾¿ç»™è‡ªå·±å¤‡å¿˜ä¸€ä¸‹è€æ˜¯è®°ä¸ä½çš„å‘½ä»¤ï¼š<br>æ˜¾ç¤ºéšè—æ–‡ä»¶&#x2F;ç›®å½•ï¼š $ defaults write com.apple.finder AppleShowAllFiles -bool true<br>éšè—éšè—æ–‡ä»¶&#x2F;ç›®å½•ï¼š $ defaults write com.apple.finder AppleShowAllFiles -bool false </p>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macç§»æ¤ </tag>
            
            <tag> macå·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win10ä¸‹çš„è£…é€¼åˆ©å™¨ï¼Œè®©ä½ çš„win10æ›´å¥½ç”¨</title>
      <link href="/2017/05/24/"/>
      <url>/2017/05/24/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡éæŠ€æœ¯æ€§åšå®¢ï¼Œæ˜¯å¸®ä½ä½ æ›´å¥½ä½¿ç”¨win10çš„è¾…åŠ©è½¯ä»¶ï¼Œäº²æµ‹ååˆ†å¥½ç”¨ï¼Œæ—¢èƒ½æå‡æ•ˆç‡ï¼Œåˆèƒ½ç‹ ç‹ åœ°è£…é€¼ã€‚ </p><p>ä»¥ä¸‹è½¯ä»¶éƒ½æ˜¯æˆ‘æ­£åœ¨ä½¿ç”¨çš„ï¼Œåé¢æœ‰æ–°å‘ç°çš„è¯ä¼šç»§ç»­æ›´æ–°</p><h2 id="rolan2"><a href="#rolan2" class="headerlink" title="rolan2"></a><strong>rolan2</strong></h2><p>rolan2 æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„æ¡Œé¢ç®¡ç†å·¥å…·ï¼Œäº†è§£æ¡Œé¢ç®¡ç†å·¥å…·çš„è‚¯å®šéƒ½æœ‰ç”¨è¿‡å¤§åé¼é¼çš„fences,win7ä¸‹ç”¨fencesçš„ç¡®ä¸é”™ï¼Œæ•´ä½“UIæ˜¯å¾ˆæ­çš„ï¼Œä½†æ˜¯win10ç”¨fencesæ•ˆæœä¸å¥½ï¼Œæ‰€ä»¥é€‰æ‹©ç”¨äº†rolan2,é£æ ¼å¾ˆè´´è¿‘win10ï¼Œå¯ä»¥è‡ªå®šä¹‰åˆ†ç»„ï¼Œå¹¶ä¸”å¯ä»¥å¿«æ·é”®æ˜¾ç¤ºéšè—ï¼Œéå¸¸é…·ç‚«ã€‚ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šå›¾</p><p><img src="http://img.blog.csdn.net/20170524101005904?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzcwNzI0OQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å³ä¸Šè§’é‚£ä¸ªå˜¿å˜¿å˜¿çš„æ–¹å—å°±æ˜¯rolan2,é£æ ¼æ€æ ·å®Œå…¨å¯ä»¥è‡ªå®šåˆ¶ï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªå°æŠ€å·§å°±æ˜¯ï¼Œé»˜è®¤çš„å¿«æ·é”® ALT + TAB é”®æ§åˆ¶æ˜¾ç¤ºç•Œé¢éšè—ï¼Œåˆ°æ—¶å€™æ•´ä¸ªæ¡Œé¢åªå‰©ä¸‹ä½ çš„å£çº¸ï¼Œå³æ˜¯ååˆ†æ¸…çˆ½ï¼Œå¥½çœ‹åˆè£…é€¼ï¼Œå®ä¹ƒå±…å®¶å¸¸å¤‡ã€è£…é€¼ä¹‹åˆ©å™¨ã€‚</p><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://www.irolan.com/">https://www.irolan.com/</a> æµ‹è¯•ç‰ˆå³å¯ï¼Œä¼šæç¤ºä½ å‡çº§</p><h2 id="QTtab"><a href="#QTtab" class="headerlink" title="QTtab"></a><strong>QTtab</strong></h2><p>æˆ‘æ˜¯ç»å¸¸éœ€è¦æ“ä½œå¤šä¸ªæ–‡ä»¶å¤¹çš„ï¼Œä½†æ˜¯æ–‡ä»¶å¤¹æ‰“å¼€çš„å¤šäº†å°±éœ€è¦ä¸åœçš„åˆ‡æ¢ï¼Œè´¼çƒ¦ï¼Œè¿™æ—¶å€™å°±å¸Œæœ›å¦‚æœèƒ½å¤Ÿåƒæ“ä½œæµè§ˆå™¨çª—å£ä¸€æ ·æ“ä½œæ–‡ä»¶çª—å£é‚£å°±å¥½äº†ï¼ŒQTtabå°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªå·¥å…·ã€‚ä¸Šå›¾</p><p><img src="http://img.blog.csdn.net/20170524102400506?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzcwNzI0OQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä½¿ç”¨QTabä½ åªéœ€è¦å°†ä½ æƒ³è¦çœ‹çš„æ–‡ä»¶å¤¹æ‹–åŠ¨åˆ°å¯¼èˆªæ ï¼Œæˆ–è€…æ˜¯æŒ‰ä¸‹é¼ æ ‡æ»šè½®é”®å°†é€‰ä¸­çš„æ–‡ä»¶å¤¹è‡ªåŠ¨æ·»åŠ åˆ°å¯¼èˆªæ ï¼Œå…·ä½“å¯ä»¥è‡ªå·±é…ç½®ã€‚ </p><p>æ—¥å¸¸ä½¿ç”¨èµ·æ¥çœŸçš„æ˜¯éå¸¸å®ç”¨çš„ä¸€ä¸ªè½¯ä»¶ï¼Œå¦å¤–æ›´é‡è¦çš„æ˜¯è½¯ä»¶çš„ä½“ç§¯å¾ˆå°ï¼Œ1Mä¸åˆ°ï¼Œæ„ä¸æ„å¤–ï¼ŒæƒŠä¸æƒŠå–œ</p><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="http://qttabbar.wikidot.com/">http://qttabbar.wikidot.com/</a></p><h2 id="StarlsBack"><a href="#StarlsBack" class="headerlink" title="StarlsBack"></a><strong>StarlsBack</strong></h2><p>è¿™ä¸ªè½¯ä»¶çœŸçš„æ˜¯ä¸šç•Œè‰¯å¿ƒï¼Œwin10è½¯ä»¶çš„å¿…å¤‡å¥½ä¸ã€‚ </p><p>é¦–å…ˆï¼Œwin10çš„å¯åŠ¨èœå•çœŸçš„å¾ˆéš¾ç”¨ï¼Œè™½ç„¶æœ‰ä¸ªå°å¨œå¨œå¯ä»¥æœç´¢ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ä¸å¤ªå–œæ¬¢ã€‚é‚£å°±åªå¥½æ‰¾å·¥å…·äº†ã€‚å–ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸ª</p><p><img src="http://img.blog.csdn.net/20170524103226897?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzcwNzI0OQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>è¯·å¿½ç•¥æ‰é‚£æ‰‹æ®‹çš„é©¬èµ›å…‹ï¼Œåšä¸»æ‰‹æ®‹</p><p><img src="http://img.blog.csdn.net/20170524103010722?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzcwNzI0OQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>StarlsBackå¯ä»¥è®©ä½ è‡ªå®šåˆ¶ä½ çš„å¯åŠ¨èœå•ä¸»é¢˜ï¼Œæ¯”å¦‚æˆ‘è‡ªå·±å°±ç”¨çš„win10çš„å›¾æ ‡ + win8çš„åˆ—è¡¨é£æ ¼ï¼Œç„¶åé€æ˜ä»»åŠ¡æ ï¼Œè´¼é…·ç‚«ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–å…³äºä»»åŠ¡æ çš„ä¼˜åŒ–ï¼Œéƒ½å¯ä»¥è‡ªå·±å»å®šåˆ¶ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå½©è›‹æ˜¯å¦‚æœä½ æƒ³çœ‹ä¸€ä¸‹åŸç‰ˆçš„å¯åŠ¨ä¸»é¢˜ï¼ŒæŒ‰Ctrl + windows å°±å¯ä»¥åšåˆ°ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ£’ã€‚</p><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="http://www.startisback.com/">http://www.startisback.com/</a></p><hr><p><br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> win10 </tag>
            
            <tag> å°æŠ€èƒ½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windowså¸¸ç”¨cmdå‘½ä»¤å¤§å…¨</title>
      <link href="/2017/05/08/"/>
      <url>/2017/05/08/</url>
      
        <content type="html"><![CDATA[<h2 id="windowså¸¸ç”¨cmdå‘½ä»¤å¤§å…¨"><a href="#windowså¸¸ç”¨cmdå‘½ä»¤å¤§å…¨" class="headerlink" title="windowså¸¸ç”¨cmdå‘½ä»¤å¤§å…¨"></a><strong>windowså¸¸ç”¨cmdå‘½ä»¤å¤§å…¨</strong></h2><p>æ”¶é›†è€Œæ¥çš„å¸¸ç”¨CMDå‘½ä»¤</p><p><strong>å®ç”¨æ“ä½œç±»</strong></p><p><span class="hljs-comment">1</span><span class="hljs-string">.</span> <span class="hljs-comment">Nslookup</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">IPåœ°å€ä¾¦æµ‹å™¨</span><br><span class="hljs-comment">2</span><span class="hljs-string">.</span> <span class="hljs-comment">explorer</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ‰“å¼€èµ„æºæ²»ç†å™¨</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ä¸æ¨èï¼Œè¿˜ä¸å¦‚ç”¨Windows</span> <span class="hljs-literal">+</span> <span class="hljs-comment">Eæ‰“å¼€æ–¹ä¾¿</span><br><span class="hljs-comment">3</span><span class="hljs-string">.</span> <span class="hljs-comment">winver</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ£€æŸ¥Windowsç‰ˆæœ¬</span><br><span class="hljs-comment">4</span><span class="hljs-string">.</span> <span class="hljs-comment">regsvr32</span> <span class="hljs-comment">&#x2F;u</span> <span class="hljs-comment">*</span><span class="hljs-string">.</span><span class="hljs-comment">dll</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åœæ­¢dllæ–‡ä»¶è¿è¡Œ</span><br><span class="hljs-comment">5</span><span class="hljs-string">.</span> <span class="hljs-comment">mstsc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">è¿œç¨‹æ¡Œé¢è¿æ¥</span><br><span class="hljs-comment">6</span><span class="hljs-string">.</span> <span class="hljs-comment">shrpubw</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åˆ›å»ºå…±äº«æ–‡ä»¶å¤¹</span><br><span class="hljs-comment">7</span><span class="hljs-string">.</span> <span class="hljs-comment">regsvr32</span> <span class="hljs-comment">&#x2F;u</span> <span class="hljs-comment">zipfldr</span><span class="hljs-string">.</span><span class="hljs-comment">dll</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">å–æ¶ˆZIPæ”¯æŒ</span><br><span class="hljs-comment">8</span><span class="hljs-string">.</span> <span class="hljs-comment">services</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æœ¬åœ°æœåŠ¡è®¾ç½®</span><br><span class="hljs-comment">9</span><span class="hljs-string">.</span> <span class="hljs-comment">fsmgmt</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">å…±äº«æ–‡ä»¶å¤¹æ²»ç†å™¨</span><br><span class="hljs-comment">10</span><span class="hljs-string">.</span> <span class="hljs-comment">regedit</span><span class="hljs-string">.</span><span class="hljs-comment">exe</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ³¨å†Œè¡¨</span><br><span class="hljs-comment">11</span><span class="hljs-string">.</span> <span class="hljs-comment">regedt32</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ³¨å†Œè¡¨ç¼–è¾‘å™¨</span></pre></p><p><strong>ç³»ç»Ÿå·¥å…·ç±»</strong></p><p><span class="hljs-number">1.</span> sndrec32<span class="hljs-comment">â€”â€”-å½•éŸ³æœº</span><br><span class="hljs-number">2.</span> notepad<span class="hljs-comment">â€”â€”â€“æ‰“å¼€è®°äº‹æœ¬</span><br><span class="hljs-number">3.</span> dvdplay<span class="hljs-comment">â€”â€”â€“DVDæ’­æ”¾å™¨</span><br><span class="hljs-number">4.</span> calc<span class="hljs-comment">â€”â€”â€”â€“å¯åŠ¨è®¡ç®—å™¨</span><br><span class="hljs-number">5.</span> drwtsn32<span class="hljs-comment">â€”â€” ç³»ç»ŸåŒ»ç”Ÿ</span><br><span class="hljs-number">6.</span> mem.exe<span class="hljs-comment">â€”â€”â€“æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ</span><br><span class="hljs-number">7.</span> <span class="hljs-built_in">write</span><span class="hljs-comment">â€”â€”â€”-å†™å­—æ¿</span><br><span class="hljs-number">8.</span> mplayer2<span class="hljs-comment">â€”â€”-ç®€æ˜“widnows media player</span><br><span class="hljs-number">9.</span> wiaacmgr<span class="hljs-comment">â€”â€”-æ‰«æä»ªå’Œç…§ç›¸æœºå‘å¯¼</span><br><span class="hljs-number">10.</span> mspaint<span class="hljs-comment">â€”â€”â€“ç”»å›¾æ¿</span><br><span class="hljs-number">11.</span> magnify<span class="hljs-comment">â€”â€”â€“æ”¾å¤§é•œå®ç”¨ç¨‹åº</span><br><span class="hljs-number">12.</span> dfrg.msc<span class="hljs-comment">â€”â€”-ç£ç›˜ç¢ç‰‡æ•´ç†ç¨‹åº</span><br><span class="hljs-number">13.</span> diskmgmt.msc<span class="hljs-comment">â€”ç£ç›˜æ²»ç†å®ç”¨ç¨‹åº</span><br><span class="hljs-number">14.</span> osk<span class="hljs-comment">â€”â€”â€”â€”æ‰“å¼€å±å¹•é”®ç›˜</span><br><span class="hljs-number">15.</span> narrator<span class="hljs-comment">â€”â€”-å±å¹•â€œè®²è¿°äººâ€</span><br><span class="hljs-number">16.</span> Sndvol32<span class="hljs-comment">â€”â€”-éŸ³é‡æ§åˆ¶ç¨‹åº</span></p><p><strong>ç³»ç»Ÿç±»</strong></p><p><span class="hljs-comment">1</span><span class="hljs-string">.</span> <span class="hljs-comment">gpedit</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç»„ç­–ç•¥</span><br><span class="hljs-comment">2</span><span class="hljs-string">.</span> <span class="hljs-comment">rsop</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç»„ç­–ç•¥ç»“æœé›†</span><br><span class="hljs-comment">3</span><span class="hljs-string">.</span> <span class="hljs-comment">lusrmgr</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æœ¬æœºç”¨æˆ·å’Œç»„</span><br><span class="hljs-comment">4</span><span class="hljs-string">.</span> <span class="hljs-comment">services</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æœ¬åœ°æœåŠ¡è®¾ç½®</span><br><span class="hljs-comment">5</span><span class="hljs-string">.</span> <span class="hljs-comment">devmgmt</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span> <span class="hljs-comment">è®¾å¤‡æ²»ç†å™¨</span><br><span class="hljs-comment">6</span><span class="hljs-string">.</span> <span class="hljs-comment">dcomcnfg</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ‰“å¼€ç³»ç»Ÿç»„ä»¶æœåŠ¡</span><br><span class="hljs-comment">7</span><span class="hljs-string">.</span> <span class="hljs-comment">mmc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ‰“å¼€æ§åˆ¶å°</span><br><span class="hljs-comment">8</span><span class="hljs-string">.</span> <span class="hljs-comment">net</span> <span class="hljs-comment">start</span> <span class="hljs-comment">messenger</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">å¼€å§‹ä¿¡ä½¿æœåŠ¡</span><br><span class="hljs-comment">9</span><span class="hljs-string">.</span> <span class="hljs-comment">net</span> <span class="hljs-comment">stop</span> <span class="hljs-comment">messenger</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åœæ­¢ä¿¡ä½¿æœåŠ¡</span><br><span class="hljs-comment">10</span><span class="hljs-string">.</span> <span class="hljs-comment">compmgmt</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">è®¡ç®—æœºæ²»ç†</span><br><span class="hljs-comment">11</span><span class="hljs-string">.</span> <span class="hljs-comment">cleanmgr</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åƒåœ¾æ•´ç†</span><br><span class="hljs-comment">12</span><span class="hljs-string">.</span> <span class="hljs-comment">regedit</span><span class="hljs-string">.</span><span class="hljs-comment">exe</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ³¨å†Œè¡¨</span><br><span class="hljs-comment">13</span><span class="hljs-string">.</span> <span class="hljs-comment">regedt32</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ³¨å†Œè¡¨ç¼–è¾‘å™¨</span><br><span class="hljs-comment">14</span><span class="hljs-string">.</span> <span class="hljs-comment">Msconfig</span><span class="hljs-string">.</span><span class="hljs-comment">exe</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç³»ç»Ÿé…ç½®å®ç”¨ç¨‹åº</span><br><span class="hljs-comment">15</span><span class="hljs-string">.</span> <span class="hljs-comment">chkdsk</span><span class="hljs-string">.</span><span class="hljs-comment">exe</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">Chkdskç£ç›˜æ£€æŸ¥</span><br><span class="hljs-comment">16</span><span class="hljs-string">.</span> <span class="hljs-comment">charmap</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">å¯åŠ¨å­—ç¬¦æ˜ å°„è¡¨</span><br><span class="hljs-comment">17</span><span class="hljs-string">.</span> <span class="hljs-comment">diskmgmt</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç£ç›˜æ²»ç†å®ç”¨ç¨‹åº</span><br><span class="hljs-comment">18</span><span class="hljs-string">.</span> <span class="hljs-comment">perfmon</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">è®¡ç®—æœºæ€§èƒ½ç›‘æµ‹ç¨‹åº</span><br><span class="hljs-comment">19</span><span class="hljs-string">.</span> <span class="hljs-comment">dxdiag</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ£€æŸ¥DirectXä¿¡æ¯</span><br><span class="hljs-comment">20</span><span class="hljs-string">.</span> <span class="hljs-comment">sfc</span> <span class="hljs-comment">&#x2F;scannow</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ‰«æé”™è¯¯å¹¶å¤åŸ</span><br><span class="hljs-comment">21</span><span class="hljs-string">.</span> <span class="hljs-comment">taskmgr</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ä»»åŠ¡æ²»ç†å™¨ï¼ˆ2000ï¼xpï¼2003ï¼‰</span><br><span class="hljs-comment">22</span><span class="hljs-string">.</span> <span class="hljs-comment">winver</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ£€æŸ¥Windowsç‰ˆæœ¬</span><br><span class="hljs-comment">23</span><span class="hljs-string">.</span> <span class="hljs-comment">wmimgmt</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ‰“å¼€windowsæ²»ç†ä½“ç³»ç»“æ„(WMI)</span><br><span class="hljs-comment">24</span><span class="hljs-string">.</span> <span class="hljs-comment">wscript</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">windowsè„šæœ¬å®¿ä¸»è®¾ç½®</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æŒºæœ‰ç”¨çš„</span><br><span class="hljs-comment">25</span><span class="hljs-string">.</span> <span class="hljs-comment">ntmsmgr</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç§»åŠ¨å­˜å‚¨æ²»ç†å™¨</span><br><span class="hljs-comment">26</span><span class="hljs-string">.</span> <span class="hljs-comment">ntmsoprq</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç§»åŠ¨å­˜å‚¨æ²»ç†å‘˜æ“çºµè¯·æ±‚</span><br><span class="hljs-comment">27</span><span class="hljs-string">.</span> <span class="hljs-comment">eventvwr</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">äº‹ä»¶æŸ¥çœ‹å™¨</span><br><span class="hljs-comment">28</span><span class="hljs-string">.</span> <span class="hljs-comment">eudcedit</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">é€ å­—ç¨‹åº</span><br><span class="hljs-comment">29</span><span class="hljs-string">.</span> <span class="hljs-comment">mobsync</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åŒæ­¥å‘½ä»¤</span><br><span class="hljs-comment">30</span><span class="hljs-string">.</span> <span class="hljs-comment">netstat</span> <span class="hljs-literal">-</span><span class="hljs-comment">an</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">(TC)å‘½ä»¤æ£€æŸ¥æ¥å£</span><br><span class="hljs-comment">31</span><span class="hljs-string">.</span> <span class="hljs-comment">syncapp</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åˆ›å»ºä¸€ä¸ªå…¬æ–‡åŒ…</span><br><span class="hljs-comment">32</span><span class="hljs-string">.</span> <span class="hljs-comment">sysedit</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç³»ç»Ÿé…ç½®ç¼–è¾‘å™¨</span><br><span class="hljs-comment">33</span><span class="hljs-string">.</span> <span class="hljs-comment">sigverif</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ–‡ä»¶ç­¾åéªŒè¯ç¨‹åº</span><br><span class="hljs-comment">34</span><span class="hljs-string">.</span> <span class="hljs-comment">secpol</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æœ¬åœ°å®‰å…¨ç­–ç•¥</span><br><span class="hljs-comment">35</span><span class="hljs-string">.</span> <span class="hljs-comment">sfc</span><span class="hljs-string">.</span><span class="hljs-comment">exe</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç³»ç»Ÿæ–‡ä»¶æ£€æŸ¥å™¨</span><br><span class="hljs-comment">36</span><span class="hljs-string">.</span> <span class="hljs-comment">sfc</span> <span class="hljs-comment">&#x2F;scannow</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">windowsæ–‡ä»¶ä¿æŠ¤</span><br><span class="hljs-comment">37</span><span class="hljs-string">.</span> <span class="hljs-comment">regsvr32</span> <span class="hljs-comment">&#x2F;u</span> <span class="hljs-comment">zipfldr</span><span class="hljs-string">.</span><span class="hljs-comment">dll</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">å–æ¶ˆZIPæ”¯æŒ</span><br><span class="hljs-comment">38</span><span class="hljs-string">.</span> <span class="hljs-comment">certmgr</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">è¯ä¹¦æ²»ç†å®ç”¨ç¨‹åº</span><br><span class="hljs-comment">39</span><span class="hljs-string">.</span> <span class="hljs-comment">cliconfg</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">SQL</span> <span class="hljs-comment">SERVER</span> <span class="hljs-comment">å®¢æˆ·ç«¯ç½‘ç»œå®ç”¨ç¨‹åº</span><br><span class="hljs-comment">40</span><span class="hljs-string">.</span> <span class="hljs-comment">ciadv</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç´¢å¼•æœåŠ¡ç¨‹åº</span><br><span class="hljs-comment">41</span><span class="hljs-string">.</span> <span class="hljs-comment">odbcad32</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ODBCæ•°æ®æºæ²»ç†å™¨</span><br><span class="hljs-comment">42</span><span class="hljs-string">.</span> <span class="hljs-comment">iexpress</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æœ¨é©¬***å·¥å…·ï¼Œç³»ç»Ÿè‡ªå¸¦</span><br><span class="hljs-comment">43</span><span class="hljs-string">.</span> <span class="hljs-comment">fsmgmt</span><span class="hljs-string">.</span><span class="hljs-comment">msc</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">å…±äº«æ–‡ä»¶å¤¹æ²»ç†å™¨</span><br><span class="hljs-comment">44</span><span class="hljs-string">.</span> <span class="hljs-comment">utilman</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">è¾…åŠ©å·¥å…·æ²»ç†å™¨</span></p><p><strong>é—²çš„è›‹ç–¼ï¼Œæ²¡äº‹ä¸è¦çç©ç±»</strong></p><p><span class="hljs-comment">1</span><span class="hljs-string">.</span> <span class="hljs-comment">logoff</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">æ³¨é”€å‘½ä»¤</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åˆ«ä¹±ç”¨</span><br><span class="hljs-comment">2</span><span class="hljs-string">.</span> <span class="hljs-comment">tsshutdn</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">60ç§’å€’è®¡æ—¶å…³æœºå‘½ä»¤</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">åˆ«ä¹±ç”¨</span><br><span class="hljs-comment">3</span><span class="hljs-string">.</span> <span class="hljs-comment">rononce</span> <span class="hljs-literal">-</span><span class="hljs-comment">p</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">15ç§’å…³æœº</span><br><span class="hljs-comment">4</span><span class="hljs-string">.</span> <span class="hljs-comment">tsshutdn</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">60ç§’å€’è®¡æ—¶å…³æœºå‘½ä»¤</span><br><span class="hljs-comment">5</span><span class="hljs-string">.</span> <span class="hljs-comment">syskey</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">ç³»ç»ŸåŠ å¯†ï¼Œä¸€æ—¦åŠ å¯†å°±ä¸èƒ½è§£å¼€ï¼Œä¿æŠ¤windows</span> <span class="hljs-comment">xpç³»ç»Ÿçš„åŒé‡å¯†ç </span></p><hr><p><br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> å¿…å¤‡å‘½ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥æµ…å‡ºnodejså­¦ä¹ ç¬”è®°--ç¬¬åã€åä¸€ç«  æµ‹è¯• äº§å“åŒ–</title>
      <link href="/2017/04/21/"/>
      <url>/2017/04/21/</url>
      
        <content type="html"><![CDATA[<h1 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a><strong>å•å…ƒæµ‹è¯•</strong></h1><p>æˆ‘ä»¬çŸ¥é“åç«¯éƒ½æœ‰å•å…ƒæµ‹è¯•ï¼Œæ¯”å¦‚å­¦ä¹ Javaç”¨åˆ°çš„Junitï¼Œå¾ˆå¥½ç”¨ï¼Œé‚£ä¹ˆå‰ç«¯æœ‰æ²¡æœ‰å•å…ƒæµ‹è¯•å‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯æœ‰çš„ã€‚è¿™é‡Œå°±ç®€å•æ€»ç»“ä¸€ä¸‹å‰ç«¯å•å…ƒæµ‹è¯•çš„å†…å®¹å’Œä¸€äº›å¸¸ç”¨çš„æµ‹è¯•æ¡†æ¶ã€‚</p><h2 id="å•å…ƒæµ‹è¯•ç¼–å†™åŸåˆ™ï¼š"><a href="#å•å…ƒæµ‹è¯•ç¼–å†™åŸåˆ™ï¼š" class="headerlink" title="å•å…ƒæµ‹è¯•ç¼–å†™åŸåˆ™ï¼š"></a><strong>å•å…ƒæµ‹è¯•ç¼–å†™åŸåˆ™ï¼š</strong></h2><p>æˆ‘ä»¬éƒ½çŸ¥é“åšå•å…ƒæµ‹è¯•å¯ä»¥æœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ˜¯åœ¨äº†è§£å•å…ƒæµ‹è¯•ä¹‹å‰ï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹å•å…ƒæµ‹è¯•çš„ç¼–å†™è§„åˆ™ï¼Œåœ¨ç¼–å†™å¯æµ‹è¯•çš„ä»£ç éœ€è¦æ³¨æ„ä»¥ä¸‹3ä¸ªé—®é¢˜ï¼š</p><ul><li>å•ä¸€èŒè´£ï¼š å°½é‡ç»†åˆ†ä»£ç çš„èŒè´£ï¼Œä¸è¦ç»™ä¸€æ®µä»£ç é™„åŠ å¤ªå¤šè€Œé€»è¾‘ä»è€Œä½¿ä»£ç å˜å¾—ä¸å¯æ§ã€‚</li><li>æ¥å£æŠ½è±¡ï¼š å¯¹äºå¤§çš„é¡¹ç›®ï¼Œä¸šåŠ¡é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œè¦è®°å¾—å†™æ¥å£ï¼Œé’ˆå¯¹æ¥å£è¿›è¡Œæµ‹è¯•ã€‚</li><li>å±‚æ¬¡åˆ†ç¦»ï¼š MVCå°±æ˜¯æœ€å¥½çš„ä¾‹å­ã€‚</li></ul><h2 id="æ–­è¨€"><a href="#æ–­è¨€" class="headerlink" title="æ–­è¨€"></a><strong>æ–­è¨€</strong></h2><p>å•å…ƒæµ‹è¯•çš„æ ¸å¿ƒåº”ç”¨å°±æ˜¯æ–­è¨€ï¼Œç”¨ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ–­è¨€ï¼š</p><pre><code>var assert = require(&#39;assert&#39;)assert.equal(Math.max(1, 100), 100)</code></pre><p>  equal()æ˜¯æ–­è¨€æ¨¡å—çš„å†…ç½®æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­å®é™…å€¼ä¸æœŸæœ›å€¼æ˜¯å¦ç›¸ç­‰ã€‚ç±»ä¼¼çš„æ–¹æ³•è¿˜æœ‰ok()ã€notEqual()ç­‰ã€‚ä¸Šå¥ä»£ç çš„æ„æ€æ˜¯åˆ¤æ–­ Math.max(1, 100) çš„è¾“å‡ºç»“æœæ˜¯ä¸æ˜¯100ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚</p><h2 id="æµ‹è¯•æ¡†æ¶"><a href="#æµ‹è¯•æ¡†æ¶" class="headerlink" title="æµ‹è¯•æ¡†æ¶"></a><strong>æµ‹è¯•æ¡†æ¶</strong></h2><p>  å•å…ƒæµ‹è¯•å¾ˆç®€å•ï¼Œä¸‹é¢ä»‹ç»ä¸¤ä¸ªå¸¸ç”¨çš„å•å…ƒæµ‹è¯•åº“ï¼Œ<strong>jasmine å’Œ mocha</strong></p><p>  <strong>jasmine</strong></p><p>  Jasmineçš„å¼€å‘å›¢é˜Ÿæ¥è‡ªPivotalLabsï¼Œä»–ä»¬ä¸€å¼€å§‹å¼€å‘çš„JavaScriptæµ‹è¯•æ¡†æ¶æ˜¯JsUnitï¼Œæ¥æºäºè‘—åçš„JAVAæµ‹è¯•æ¡†æ¶JUnitã€‚JsUnitæ˜¯xUnitçš„JavaScriptå®ç°ã€‚ä½†æ˜¯JsUnitåœ¨2009å¹´åå°±å·²ç»åœæ­¢ç»´æŠ¤äº†ï¼Œä»–ä»¬æ¨å‡ºäº†ä¸€ä¸ªæ–°çš„BDDæ¡†æ¶Jasmineã€‚Jasmineä¸ä¾èµ–äºä»»ä½•æ¡†æ¶ï¼Œæ‰€ä»¥é€‚ç”¨äºæ‰€æœ‰çš„Javascriptä»£ç ã€‚</p><p>  ä¸‹é¢ç›´æ¥æ”¾ä¸€ä¸ªå®˜æ–¹çš„ä½¿ç”¨æ¡ˆä¾‹ï¼š</p>  <pre class="prettyprint">describe(<span class="hljs-string">"A spec"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>    <span class="hljs-keyword">var</span> foo;    beforeEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>      foo = <span class="hljs-number">0</span>;      foo += <span class="hljs-number">1</span>;    });    afterEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>      foo = <span class="hljs-number">0</span>;    });    it(<span class="hljs-string">"is just a function, so it can contain any code"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>      expect(foo).toEqual(<span class="hljs-number">1</span>);    });    it(<span class="hljs-string">"can have more than one expectation"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>      expect(foo).toEqual(<span class="hljs-number">1</span>);      expect(<span class="hljs-literal">true</span>).toEqual(<span class="hljs-literal">true</span>);    });    describe(<span class="hljs-string">"nested inside a second describe"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>      <span class="hljs-keyword">var</span> bar;      beforeEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>        bar = <span class="hljs-number">1</span>;      });      it(<span class="hljs-string">"can reference both scopes as needed"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>        expect(foo).toEqual(bar);      });    });  });</pre><p>  jasmineå•å…ƒæµ‹è¯•æœ‰äºŒä¸ªæ ¸å¿ƒçš„éƒ¨åˆ†ï¼šdescribe å‡½æ•°å—å’Œitå‡½æ•°å—</p><p>  describeå’Œitå‡½æ•°éƒ½æœ‰äºŒä¸ªå‚æ•°ï¼š </p><p>  ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæµ‹è¯•æè¿°ï¼› </p><p>  ç¬¬äºŒä¸ªå‚æ•°ï¼šæµ‹è¯•ç”¨çš„å…·ä½“é€»è¾‘</p><p>  <strong>mocha</strong></p><p>  mochaçš„ä½¿ç”¨å’Œjasmineç±»ä¼¼ï¼Œè¿™é‡Œä¹Ÿç›´æ¥æ”¾ä¸€ä¸ªä¾‹å­ï¼š</p>  <pre class="prettyprint">var <span class="hljs-built_in">assert</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'assert'</span>);  describe(<span class="hljs-string">'Array'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {    describe(<span class="hljs-string">'#indexOf()'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {      it(<span class="hljs-string">'should return -1 when the value is not present'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {        <span class="hljs-built_in">assert</span>.equal(-<span class="hljs-number">1</span>, [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>));      });    });  });</pre><p>describeå—ç§°ä¸ºâ€æµ‹è¯•å¥—ä»¶â€ï¼ˆtest suiteï¼‰ï¼Œè¡¨ç¤ºä¸€ç»„ç›¸å…³çš„æµ‹è¯•ã€‚å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æµ‹è¯•å¥—ä»¶çš„åç§°ï¼ˆéšä¾¿èµ·ï¼Œèƒ½è®©åˆ«äººçœ‹æ‡‚å°±å¥½ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå®é™…æ‰§è¡Œçš„å‡½æ•°ã€‚ </p><p>itå—ç§°ä¸ºâ€æµ‹è¯•ç”¨ä¾‹â€ï¼ˆtest caseï¼‰ï¼Œè¡¨ç¤ºä¸€ä¸ªå•ç‹¬çš„æµ‹è¯•ï¼Œæ˜¯æµ‹è¯•çš„æœ€å°å•ä½ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æµ‹è¯•ç”¨ä¾‹çš„åç§°ï¼ˆéšä¾¿èµ·ï¼Œèƒ½è®©åˆ«äººçœ‹æ‡‚å°±å¥½ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå®é™…æ‰§è¡Œçš„å‡½æ•°ã€‚</p><p>è¿™é‡Œåªç®€å•ä»‹ç»ï¼Œå…·ä½“ä½¿ç”¨å¯ä»¥çœ‹é˜®ä¸€å³°çš„mochaå®ä¾‹æ•™ç¨‹ï¼š <a href="http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html">http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html</a></p><h2 id="æ€§èƒ½æµ‹è¯•"><a href="#æ€§èƒ½æµ‹è¯•" class="headerlink" title="æ€§èƒ½æµ‹è¯•"></a><strong>æ€§èƒ½æµ‹è¯•</strong></h2><p>æ€§èƒ½æµ‹è¯•ä¸»è¦åŒ…æ‹¬åŸºå‡†æµ‹è¯•ã€å‹åŠ›æµ‹è¯•ã€å’Œè´Ÿè½½æµ‹è¯•ï¼š</p><ul><li>åŸºå‡†æµ‹è¯•ï¼š åŸºå‡†æµ‹è¯•çš„ç›®çš„æ˜¯ç»Ÿè®¡åœ¨å¤šå°‘æ—¶é—´å†…æ‰§è¡Œäº†å¤šå°‘æ–¹æ³•ã€‚</li><li>å‹åŠ›æµ‹è¯•ï¼šå‹åŠ›æµ‹è¯•å°±æ˜¯æ¨¡æ‹Ÿè¯·æ±‚æµ‹è¯•ç½‘ç»œæ¥å£ï¼ŒæŸ¥çœ‹ååç‡ï¼Œå“åº”æ—¶é—´å’Œå¹¶å‘æ•°ã€‚å¸¸ç”¨çš„å·¥å…·æ˜¯abã€siegeã€http_load,ä½¿ç”¨å¾ˆç®€å•ï¼Œç›´æ¥çœ‹æ–‡æ¡£å°±å¯ä»¥ä½¿ç”¨ï¼Œè¿™é‡Œä¸å¤šèµ˜è¿°</li><li>è´Ÿè½½æµ‹è¯•ï¼š è´Ÿè½½æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•å¾ˆåƒï¼Œä¸»è¦æ˜¯æµ‹è¯•æ•°æ®åœ¨è¶…è´Ÿè·ç¯å¢ƒä¸­è¿è¡Œï¼Œç¨‹åºæ˜¯å¦èƒ½å¤Ÿæ‰¿æ‹…ã€‚</li></ul><h1 id="äº§å“åŒ–"><a href="#äº§å“åŒ–" class="headerlink" title="äº§å“åŒ–"></a><strong>äº§å“åŒ–</strong></h1><p>äº§å“åŒ–çš„å†…å®¹å¾ˆç®€å•ï¼Œé‡ç‚¹åœ¨äºå®è·µå’Œå·¥ç¨‹åŒ–ä¸­çš„è¿ç”¨ã€‚ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ï¼š</p><h2 id="é¡¹ç›®å·¥ç¨‹åŒ–"><a href="#é¡¹ç›®å·¥ç¨‹åŒ–" class="headerlink" title="é¡¹ç›®å·¥ç¨‹åŒ–"></a><strong>é¡¹ç›®å·¥ç¨‹åŒ–</strong></h2><p>ç›®å‰ç°æœ‰çš„ä¸€äº›é¡¹ç›®å·¥ç¨‹ç®¡ç†ï¼Œä¸å¦‚webpackï¼Œgulpç­‰ï¼Œç”¨èµ·æ¥éƒ½å¾ˆæ–¹ä¾¿ã€‚</p><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a><strong>æ€§èƒ½ä¼˜åŒ–</strong></h2><p>ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§çš„æå‡æ€§èƒ½çš„æ–¹æ³•ï¼š</p><ul><li>åŠ¨é™åˆ†ç¦»ï¼š åŠ¨æ€è¯·æ±‚å’Œé™æ€è¯·æ±‚åˆ†ç¦»å¼€æ¥</li><li>å¯ç”¨ç¼“å­˜ï¼š é€‚å½“åˆ©ç”¨ç¼“å­˜ï¼Œä½†æ˜¯ä¸å¯ä»¥è¿‡åˆ†åˆ©ç”¨ç¼“å­˜</li><li>å¤šçº¿ç¨‹æ¶æ„ï¼šå…·ä½“å¯ä»¥å‚ç…§ç¬¬ä¹ç« çš„ç¬”è®°</li><li>è¯»å†™åˆ†ç¦»ï¼šä¸»è¦é’ˆå¯¹æ•°æ®åº“ï¼Œå› ä¸ºè¯»å†™æ“ä½œé€Ÿåº¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¯»çš„é€Ÿåº¦æ˜¯é«˜äºå†™å…¥çš„é€Ÿåº¦çš„ï¼Œæ‰€ä»¥å¯¹äºä¸åŒçš„ä¸šåŠ¡ï¼Œå¯ä»¥å¯¹æ•°æ®åº“åšè¯»å†™åˆ†ç¦»å¤„ç†ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹åšå®¢ï¼š<a href="https://my.oschina.net/candiesyangyang/blog/203425">https://my.oschina.net/candiesyangyang/blog/203425</a></li></ul><h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a><strong>æ—¥å¿—</strong></h2><p>å¯¹äºç¨‹åºæ¥è¯´ï¼Œå†™æ—¥å¿—æ˜¯ååˆ†é‡è¦çš„ï¼Œå¯¹äºå¼‚å¸¸æ—¥å¿—çš„æ•æ‰éƒ½æ˜¯å¯¹æ—¥åç¨‹åºç»´æŠ¤çš„åˆ©å™¨ï¼Œä¸€èˆ¬æƒ…å†µæ¨èæŠŠæ—¥å¿—å­˜ä¸ºæ–‡ä»¶ï¼Œä¸æ¨èå­˜å…¥æ•°æ®åº“ã€‚</p><h2 id="ç›‘æ§æŠ¥è­¦"><a href="#ç›‘æ§æŠ¥è­¦" class="headerlink" title="ç›‘æ§æŠ¥è­¦"></a><strong>ç›‘æ§æŠ¥è­¦</strong></h2><p>æ‰€è°“ç›‘æ§ä¸»è¦åŒ…æ‹¬å¯¹ æ—¥å¿—ç›‘æ§ã€å“åº”æ—¶é—´ã€è¿›ç¨‹ç›‘æ§ã€ç£ç›˜ç›‘æ§ã€å†…å­˜ç›‘æ§ã€CPUå ç”¨ç›‘æ§ã€CPU loadç›‘æ§ã€I&#x2F;Oè´Ÿè½½ã€ç½‘ç»œç›‘æ§ã€åº”ç”¨çŠ¶æ€ç›‘æ§ã€DNSç›‘æ§ã€‚æŠ¥è­¦ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡çŸ­ä¿¡æˆ–è€…é‚®ä»¶æ¥æ‰§è¡Œã€‚</p><h2 id="ç¨³å®šæ€§"><a href="#ç¨³å®šæ€§" class="headerlink" title="ç¨³å®šæ€§"></a><strong>ç¨³å®šæ€§</strong></h2><p>ä¸ºä¿è¯åº”ç”¨çš„ç¨³å®šæ€§ï¼Œå¯ä»¥é‡‡ç”¨å¤šæœºå™¨ã€å¤šæœºæˆ¿ã€å¤šå¤‡ä»½çš„æ–¹å¼æ¥ä¿è¯ã€‚</p><h2 id="å¼‚æ„å…±å­˜"><a href="#å¼‚æ„å…±å­˜" class="headerlink" title="å¼‚æ„å…±å­˜"></a><strong>å¼‚æ„å…±å­˜</strong></h2><p>ä¸»è¦æ˜¯æŒ‡ä¸å…¶ä»–è¯­è¨€çš„å…¼å®¹æ€§ï¼ŒååŒä½œä¸ºã€‚</p><hr><p><br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥æµ…å‡ºnodejså­¦ä¹ ç¬”è®°--ç¬¬ä¹ç«  ç©è½¬è¿›ç¨‹ç®¡ç†</title>
      <link href="/2017/04/20/"/>
      <url>/2017/04/20/</url>
      
        <content type="html"><![CDATA[<p>nodeçš„ä¸€ä¸ªæœ€å¤§ç‰¹æ€§å°±æ˜¯å•çº¿ç¨‹ï¼Œå•çº¿ç¨‹å¸¦æ¥çš„å¥½å¤„æ˜¯ä¸ç”¨åƒå¤šçº¿ç¨‹ç¼–ç¨‹é‚£æ ·å»è€ƒè™‘çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œä¹Ÿä¸ç”¨å»æ‹…å¿ƒå‡ºç°æ­»é”ï¼Œä¹Ÿæ²¡æœ‰çº¿ç¨‹ä¸Šä¸‹æ–‡æ‰€å¸¦æ¥çš„æ€§èƒ½çš„å¼€é”€ã€‚ä½†æ˜¯åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚æ— æ³•å……åˆ†åˆ©ç”¨çš„å¤šæ ¸CPUï¼Œçº¿ç¨‹ä¼šé˜»å¡çš„é—®é¢˜ã€‚</p><p>ä½†æ˜¯nodeçœŸçš„å°±ä¸èƒ½æ›´é«˜æ•ˆäº†å—ï¼Œå½“ç„¶æ˜¯ä¸ä¼šçš„ï¼Œå¦‚å‰å‡ ç¯‡ç¬”è®°æ‰€è¯´ï¼Œnodeå¯¹äºâ€œå¤šè¿›ç¨‹â€çš„å¤„ç†æœ‰è‡ªå·±çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆï¼Œä»Šå¤©å°±æ¥ç®€å•äº†è§£ä¸‹ã€‚</p><h2 id="æœåŠ¡æ¨¡å‹çš„æ¼”å˜"><a href="#æœåŠ¡æ¨¡å‹çš„æ¼”å˜" class="headerlink" title="æœåŠ¡æ¨¡å‹çš„æ¼”å˜"></a><strong>æœåŠ¡æ¨¡å‹çš„æ¼”å˜</strong></h2><p>åœ¨äº†è§£nodeçš„è§£å†³æ–¹æ³•ä¹‹å‰å—ï¼Œéœ€è¦å…ˆäº†è§£ä¸€ä¸‹WebæœåŠ¡å™¨å…³äºå®¢æˆ·ç«¯è¯·æ±‚çš„å¤„ç†æ–¹æ¡ˆçš„ä¸€ä¸ªæ¼”å˜è¿‡ç¨‹ï¼Œå¤§æ¦‚å¦‚ä¸‹ï¼š</p><p><span class="hljs-comment">åŒæ­¥</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span>&gt; <span class="hljs-comment">å¤åˆ¶è¿›ç¨‹</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span>&gt; <span class="hljs-comment">å¤šçº¿ç¨‹</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span>&gt; <span class="hljs-comment">äº‹ä»¶é©±åŠ¨</span></p><p>ä¸€å¼€å§‹ï¼Œæ˜¯å±äºåŒæ­¥çš„æƒ…å†µï¼ŒåŒæ­¥çš„æƒ…å†µï¼Œä¸€æ¬¡åªä¸ºä¸€ä¸ªè¯·æ±‚æœåŠ¡ã€‚åˆ°åæ¥ï¼Œå‡ºç°äº†æ”¹è¿›ï¼Œé‚£å°±æ˜¯å¤åˆ¶è¿›ç¨‹ï¼Œé€šè¿‡è¿›ç¨‹çš„å¤åˆ¶å¯ä»¥æœåŠ¡æ›´å¤šçš„è¯·æ±‚ï¼Œä½†æ˜¯è¿™é‡Œçš„é—®é¢˜æ˜¯æ¯ä¸€ä¸ªè¯·æ±‚éƒ½éœ€è¦ä¸€ä¸ªè¿›ç¨‹æ¥æœåŠ¡ï¼Œæ€§èƒ½ä¸Šæ¯”è¾ƒæµªè´¹ã€‚å†åæ¥æ˜¯å¤šçº¿ç¨‹ï¼Œå¤šæ ¸CPUçš„å‡ºç°ï¼Œåˆ›å»ºå¤šä¸ªçº¿ç¨‹æ¥å¤„ç†è¯·æ±‚ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ¡ˆçš„é—®é¢˜æ˜¯ï¼Œåœ¨åˆ‡æ¢ç°æˆçš„åŒæ—¶ä¹Ÿéœ€è¦åˆ‡æ¢çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œå½“çº¿ç¨‹çš„æ•°é‡è¿‡å¤šï¼Œæ—¶é—´å°±ä¼šè¢«è€—è´¹åˆ°ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ä¸Šã€‚æœ€åçš„ä¸€ä¸ªå°±æ˜¯äº‹ä»¶é©±åŠ¨çš„æ–¹æ¡ˆï¼Œnodeå’Œ nginxéƒ½æ˜¯åŸºäºäº‹ä»¶é©±åŠ¨çš„æ–¹å¼å®ç°çš„ï¼Œé‡‡ç”¨å•çº¿ç¨‹é¿å…äº†ä¸å¿…è¦çš„å†…å­˜å¼€é”€å’Œä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚</p><h2 id="nodeçš„å¤šè¿›ç¨‹æ¶æ„"><a href="#nodeçš„å¤šè¿›ç¨‹æ¶æ„" class="headerlink" title="nodeçš„å¤šè¿›ç¨‹æ¶æ„"></a><strong>nodeçš„å¤šè¿›ç¨‹æ¶æ„</strong></h2><p>nodeçš„å¤šè¿›ç¨‹æ¶æ„é‡‡ç”¨äº†child_processçš„æ–¹å¼ï¼Œåˆ†ä¸º<strong>ä¸»è¿›ç¨‹å’Œå·¥ä½œè¿›ç¨‹</strong>ï¼Œä¸»è¿›ç¨‹ä¸è´Ÿè´£å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£è°ƒåº¦å’Œç®¡ç†å·¥ä½œè¿›ç¨‹ã€‚å·¥ä½œè¿›ç¨‹è´Ÿè´£å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><p>å¦‚ä¸‹æ¼”ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œä»¥åŠä¸€äº›æ“ä½œ</p><pre class="prettyprint"><span class="hljs-keyword">var</span> child_process = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>) <span class="hljs-comment">//å¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹</span>child_process.spawn(<span class="hljs-string">'node'</span>, [<span class="hljs-string">'test.js'</span>])<span class="hljs-comment">//å¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤</span>child_process.exec(<span class="hljs-string">'node test.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(err, stdout, stderr)</span> {</span>    <span class="hljs-comment">//å›è°ƒé€»è¾‘</span>})<span class="hljs-comment">//å¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶</span>child_process.execFile(<span class="hljs-string">'test.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(err, stdout, stderr)</span> {</span>    <span class="hljs-comment">//å›è°ƒçš„é€»è¾‘</span>})<span class="hljs-comment">//ä¸spawnç±»ä¼¼ï¼Œå¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹ï¼Œä¸åŒçš„æ˜¯å®ƒåˆ›å»ºçš„è¿›ç¨‹åªéœ€è¦æ‰§è¡Œç‰¹å®šçš„æ–‡ä»¶æ¨¡å—å³å¯ï¼Œä¸å‚ä¸å…¶ä»–çš„</span>child_process.fork(<span class="hljs-string">'./test.js'</span>)</pre><p><strong>è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡</strong></p><p>åˆ›å»ºäº†å­è¿›ç¨‹ä¹‹åï¼Œä¸»è¿›ç¨‹ä¸å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ï¼Œè¿›ç¨‹é—´é€šä¿¡çš„ç›®çš„æ˜¯ä¸ºäº†è®©ä¸åŒçš„è¿›ç¨‹èƒ½å¤Ÿäº’ç›¸è®¿é—®èµ„æºå¹¶è¿›è¡Œåè°ƒå·¥ä½œã€‚nodeæ˜¯è¿™æ ·çš„å¤„ç†çš„ã€‚</p><p>nodeé€šè¿‡åˆ›å»ºä¸€ä¸ªç®¡é“æ¥è§£å†³ã€‚çˆ¶è¿›ç¨‹åœ¨åˆ›å»ºå­è¿›ç¨‹ä¹‹å‰ï¼Œä¼šåˆ›å»ºç®¡é“ï¼ˆIPCé€šé“ï¼‰æ¥ç›‘å¬ï¼Œç„¶åæ‰ä¼šåˆ›å»ºå­è¿›ç¨‹ï¼Œå¹¶ä¸”æ­¤æ—¶å­è¿›ç¨‹å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡å¾—åˆ°è¿™ä¸ªç®¡é“çš„æ–‡ä»¶æè¿°ç¬¦ã€‚å­è¿›ç¨‹åœ¨å¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®æ–‡ä»¶æè¿°ç¬¦å»è¿æ¥è¿™ä¸ªå·²å­˜åœ¨çš„IPCé€šé“ï¼Œä»è€Œå®Œæˆçˆ¶å­è¿›ç¨‹ä¹‹é—´çš„è¿æ¥ã€‚å½“ç„¶åœ¨å®é™…çš„é€šä¿¡çš„è¿‡ç¨‹ä¸­è¿˜ä¼šé‡‡ç”¨å¥æŸ„ä¼ é€’çš„æ–¹å¼ï¼Œè¯´çš„ç®€å•ä¸€ç‚¹å°±æ˜¯å¯¹ä¸€ä¸ªèµ„æºçš„ç‰¹æ®Šæ ‡è¯†ï¼Œä½œç”¨æ˜¯å¯ä»¥å®ç°å¤šä¸ªå­è¿›ç¨‹é‡‡ç”¨ä¸€ä¸ªå¥æŸ„æ¥è¿›è¡Œé€šä¿¡ã€‚</p><p><strong>å……åˆ†åˆ©ç”¨å¤šæ ¸CPUï¼Œnodeé›†ç¾¤</strong></p><p>é¦–å…ˆçœ‹ä¸€ä¸‹é›†ç¾¤çš„æ¦‚å¿µï¼Œç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªåè¯çš„æ—¶å€™ï¼Œæœ‰ç‚¹è’™ã€‚</p><p>é›†ç¾¤ï¼š<br>      åœ¨ç™¾åº¦ç™¾ç§‘çš„è§£é‡Šé‡Œï¼Œé›†ç¾¤ï¼ˆclusterï¼‰æŠ€æœ¯æ˜¯ä¸€ç§è¾ƒæ–°çš„æŠ€æœ¯ï¼Œé€šè¿‡é›†ç¾¤æŠ€æœ¯ï¼Œå¯ä»¥åœ¨ä»˜å‡ºè¾ƒä½æˆæœ¬çš„æƒ…å†µä¸‹è·å¾—åœ¨æ€§èƒ½ã€å¯é æ€§ã€çµæ´»æ€§æ–¹é¢çš„ç›¸å¯¹è¾ƒé«˜çš„æ”¶ç›Šï¼Œå…¶ä»»åŠ¡è°ƒåº¦åˆ™æ˜¯é›†ç¾¤ç³»ç»Ÿä¸­çš„æ ¸å¿ƒæŠ€æœ¯ã€‚é›†ç¾¤çš„ç›®çš„å°±æ˜¯æé«˜æ€§èƒ½ã€é™ä½æˆæœ¬ã€æé«˜å¯æ‰©å±•æ€§ã€å¢å¼ºå¯é æ€§ã€‚</p><p>ç”¨æˆ‘çš„ç†è§£å°±æ˜¯ï¼Œé›†ç¾¤å°±æ˜¯æŒ‡å°†å¾ˆå¤šæœåŠ¡å™¨é›†ä¸­èµ·æ¥ï¼Œä¸€èµ·è¿›è¡ŒåŒä¸€ç§æœåŠ¡,ä½†æ˜¯å¯¹å®¢æˆ·ç«¯æ¥è¯´ï¼Œåœ¨æœåŠ¡ç«¯æ„Ÿè§‰å°±æ˜¯ä¸€ä¸ªçš„å­˜åœ¨ã€‚</p><p>å…³äºé›†ç¾¤ï¼Œäº†è§£ä¸æ·±ï¼Œåªè¯´ä¸¤ä¸ªæ¦‚å¿µï¼Œ<strong>è´Ÿè½½å‡è¡¡å’ŒçŠ¶æ€å…±äº«</strong></p><ul><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šæœåŠ¡å™¨ä¹Ÿæœ‰è´Ÿè½½å‡è¡¡ï¼Œä½†å¯¹äºnodeæ‰€è®¨è®ºçš„ï¼Œæ„æ€å°±æ˜¯åœ¨å¤šæ ¸CPUç¯å¢ƒä¸‹ï¼Œå§‹ç»ˆä¿è¯æ¯ä¸ªCPUéƒ½èƒ½è¢«ä½¿ç”¨åˆ°ä»è€Œä¿è¯æœ€å¤§æ•ˆç‡ã€‚nodeé‡‡ç”¨çš„ç­–ç•¥æ˜¯è½®å«è°ƒåº¦ï¼Œç”±ä¸»è¿›ç¨‹æ¥æ‰‹è¿æ¥ä»»åŠ¡ï¼Œç„¶åä¾æ¬¡åˆ†å‘ç»™å·¥ä½œçš„å­è¿›ç¨‹ã€‚</li><li><strong>çŠ¶æ€å…±äº«</strong>ï¼š ä¹Ÿæ˜¯æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯è¦ç¬¬ä¸‰æ–¹å­˜å‚¨ï¼Œåˆ©ç”¨Redisæ¥å®ç°ï¼Œä¸€ç§æ˜¯ä¸»åŠ¨é€šçŸ¥ï¼Œå…¶å®ä¹Ÿéœ€è¦é€šè¿‡è½®è¯¢æ¥è§£å†³ã€‚</li></ul><p><strong>ä¸€ä¸ªæ€å™¨ï¼Œclusteræ¨¡å—</strong></p><p>clusteræ˜¯ä¸€ä¸ªnodejså†…ç½®çš„æ¨¡å—ï¼Œç”¨äºnodejså¤šæ ¸å¤„ç†ã€‚æœ‰äº†è¿™ä¸ªä¸œè¥¿ï¼Œå°±åŸºæœ¬ä¸ç”¨ä¸Šé¢çš„ä»‹ç»çš„å­è¿›ç¨‹child_processäº†ã€‚clusteræ¨¡å—å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–å¤šè¿›ç¨‹å¹¶è¡ŒåŒ–ç¨‹åºçš„å¼€å‘éš¾åº¦ï¼Œè½»æ¾æ„å»ºä¸€ä¸ªç”¨äºè´Ÿè½½å‡è¡¡çš„é›†ç¾¤ã€‚</p><p>ä¸‹é¢çœ‹ä¸€ä¸‹å®˜æ–¹çš„ç¤ºä¾‹ï¼š</p><pre class="prettyprint"><span class="hljs-keyword">var</span> cluster = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cluster'</span>)<span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)<span class="hljs-keyword">var</span> numCPUs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'os'</span>).cpus().length  <span class="hljs-comment">//cpuçš„æ ¸å¿ƒæ•°</span><span class="hljs-keyword">if</span> (cluster.isMaster) {<span class="hljs-comment">//åˆ›å»ºå¤šä¸ªå­è¿›ç¨‹</span><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; numCPUs; i++) {    cluster.fork();}cluster.on(<span class="hljs-string">'exit'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(worker, code, signal)</span> {</span>    console.log(<span class="hljs-string">'worker'</span> + worker.process.id + <span class="hljs-string">'died'</span>)})} <span class="hljs-keyword">else</span> {http.createServer(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(req, res)</span> {</span>    res.writeHead(<span class="hljs-number">200</span>)    res.end(<span class="hljs-string">'hello world'</span>)}).listen(<span class="hljs-number">1234</span>)}</pre><p>é¡ºä¾¿è§£é‡Šä¸€ä¸‹clusterçš„å·¥ä½œåŸç†ï¼š</p><p>clusteræ¨¡å—å®é™…ä¸Šæ˜¯<strong>chlid_processå’Œnetæ¨¡å—</strong>çš„ç»„åˆåº”ç”¨ã€‚clusterå¯åŠ¨æ—¶ï¼Œä¼šåœ¨å†…éƒ¨å¯åŠ¨ä¸€ä¸ªTCPæœåŠ¡å™¨ï¼Œåœ¨clusteråˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼ˆforkï¼‰æ—¶ï¼Œå°†è¿™ä¸ªTCPæœåŠ¡å™¨ç«¯socketçš„æ–‡ä»¶æè¿°ç¬¦å‘é€ç»™å·¥ä½œè¿›ç¨‹ã€‚å¦‚æœè¿›ç¨‹æ˜¯å¤åˆ¶å‡ºæ¥çš„ï¼Œå¹¶ä¸”å­˜åœ¨ç½‘ç»œç«¯å£çš„è°ƒç”¨ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæ‹¿åˆ°è¯¥æ–‡ä»¶æè¿°ç¬¦ï¼Œå¹¶é‡ç”¨ï¼Œä»è€Œå®ç°å¤šä¸ªå­è¿›ç¨‹å…±äº«ç«¯å£ã€‚</p><p>æœ‰å…³clusterè¯¦ç»†çš„ä»£ç å®è·µï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ï¼š<a href="https://cnodejs.org/topic/56e84480833b7c8a0492e20c">https://cnodejs.org/topic/56e84480833b7c8a0492e20c</a></p><hr><p><br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥æµ…å‡ºnodejså­¦ä¹ ç¬”è®°--ç¬¬å…­~å…«ç«  ç†è§£Buffer ç½‘ç»œç¼–ç¨‹ æ„å»ºWEBåº”ç”¨</title>
      <link href="/2017/04/19/"/>
      <url>/2017/04/19/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¬¬å…­ç« -ç†è§£Buffer"><a href="#ç¬¬å…­ç« -ç†è§£Buffer" class="headerlink" title="ç¬¬å…­ç«  ç†è§£Buffer"></a><strong>ç¬¬å…­ç«  ç†è§£Buffer</strong></h2><p>è¿™ä¸€ç« è¦ç†è§£çš„ä¸å¤šï¼Œéƒ½æ˜¯ä¸€äº›bufferçš„å¸¸è§æ“ä½œï¼Œçœ‹APIå°±å¯ä»¥ç†Ÿæ‚‰ï¼Œå¦‚æœåšè¿‡åå°çš„å°±ä¸ä¼šé™Œç”Ÿï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„å‡ ä¸ªåœ°æ–¹å°±æ˜¯</p><ul><li><strong>Bufferæ‰€å ç”¨çš„å†…å­˜</strong>ä¸æ˜¯é€šè¿‡V8åˆ†é…çš„ï¼Œå±äºå †å¤–å†…å­˜ï¼Œæ‰€ä»¥æ„æ€å°±æ˜¯å…¶å®åœ¨V8å¯åŠ¨çš„æ—¶å€™å°±ä¼šæœ‰ä¸€ä¸ªBufferå¯¹è±¡ä¸€ç›´å¸¸é©»å†…å­˜ï¼Œæ— éœ€é€šè¿‡requireå¼•å…¥ã€‚</li><li><strong>Bufferçš„å†…å­˜åˆ†é…</strong>åˆ†ä¸ºå°å†…å­˜åˆ†é…å’Œå¤§å†…å­˜åˆ†é…ï¼Œå°å†…å­˜åˆ†é…ä¸€èˆ¬æŒ‡çš„æ˜¯å°äº 8kb çš„ Buffer çš„å¯¹è±¡ï¼Œå¤§å†…å­˜å½“ç„¶å°±æ˜¯å¤§äº 8kbçš„Buffer å¯¹è±¡ã€‚</li><li><strong>Bufferçš„è½¬æ¢</strong>ä¸»è¦ä½“ç°åœ¨å­—ç¬¦ä¸²è½¬Bufferå’ŒBufferè½¬å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è½¬Bufferç›´æ¥é€šè¿‡æ„é€ å‡½æ•°æ¥å®ç°ã€‚<br>new Buffer(str, [encording]) &#x2F;&#x2F;encordingå€¼ç¼–ç ç±»å‹</li></ul><p>Bufferè½¬å­—ç¬¦ä¸²é€šè¿‡ toString() å¯ä»¥å®ç°ã€‚<br>        buf.toString([encording], [start], [end])</p><ul><li><strong>Bufferçš„æ€§èƒ½</strong>ï¼Œé€šè¿‡é¢„å…ˆè½¬æ¢é™æ€å†…å®¹ä¸ºBufferå¯¹è±¡ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘CPUçš„é‡å¤ä½¿ç”¨ï¼Œä»è€ŒèŠ‚çœæœåŠ¡å™¨èµ„æºã€‚</li></ul><h2 id="ç¬¬ä¸ƒç« -ç½‘ç»œç¼–ç¨‹"><a href="#ç¬¬ä¸ƒç« -ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç¬¬ä¸ƒç«  ç½‘ç»œç¼–ç¨‹"></a><strong>ç¬¬ä¸ƒç«  ç½‘ç»œç¼–ç¨‹</strong></h2><p>è¿™ä¸€ç« ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä¸»è¦åˆ†ä¸ºå››ä¸ªï¼Œæ„å»ºTCPæœåŠ¡ã€æ„å»ºUDPæœåŠ¡ã€æ„å»ºHTTPæœåŠ¡ã€æ„å»ºWebSocketæœåŠ¡ï¼Œå‰ä¸¤ä¸ªä¸æ˜¯é‡ç‚¹ï¼Œåä¸¤ä¸ªæ¯”è¾ƒå¸¸ç”¨ã€‚ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹ä»£ç ã€‚</p><p><strong>æ„å»ºTCPæœåŠ¡</strong></p><pre class="prettyprint"><span class="hljs-comment">//ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªTCPæœåŠ¡å™¨ç«¯</span><span class="hljs-keyword">var</span> net = <span class="hljs-built_in">require</span>(<span class="hljs-string">'net'</span>) <span class="hljs-comment">//ä¾èµ–nodeè‡ªå¸¦çš„netæ¨¡å—</span><span class="hljs-keyword">var</span> server = net.createServer(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(socket)</span> {</span>    <span class="hljs-comment">//æ–°çš„è¿æ¥</span>    socket.on(<span class="hljs-string">'data'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> {</span>        console.log(<span class="hljs-string">'è¿ä¸Šäº†'</span>)    })    <span class="hljs-comment">//æ–­å¼€è¿æ¥</span>    socket.on(<span class="hljs-string">'end'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> {</span>        console.log(<span class="hljs-string">'è¿æ¥æ–­å¼€'</span>)    })    socket.write(<span class="hljs-string">'åˆ›å»ºä¸€ä¸ªTCPæœåŠ¡å™¨ç«¯'</span>)})<span class="hljs-comment">//ç›‘å¬</span>server.listen(<span class="hljs-number">1234</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>    console.log(<span class="hljs-string">'å·²ç»‘å®š1234ç«¯å£å·'</span>)})</pre><p><strong>æ„å»ºä¸€ä¸ªUDPæœåŠ¡å™¨ç«¯å’Œä¸€ä¸ªUDPå®¢æˆ·ç«¯</strong></p><pre class="prettyprint"><span class="hljs-comment">//ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªUDPæœåŠ¡å™¨ç«¯</span><span class="hljs-keyword">var</span> dgram = <span class="hljs-built_in">require</span>(<span class="hljs-string">'dgram'</span>)<span class="hljs-keyword">var</span> server = dgram.createSocket(<span class="hljs-string">'udp4'</span>)server.on(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(msg, rinfo)</span> {</span>console.log(<span class="hljs-string">'æœåŠ¡å™¨å¾—åˆ°äº†'</span> + msg + <span class="hljs-string">'æ¥è‡ª'</span> + rinfo.address + <span class="hljs-string">':'</span> + rinfo.port)})server.on(<span class="hljs-string">'listening'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span><span class="hljs-keyword">var</span> address = server.address()console.log(<span class="hljs-string">'å·²ç»‘å®š'</span> + rinfo.address + <span class="hljs-string">':'</span> + rinfo.port)})<span class="hljs-comment">//ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªUDPå®¢æˆ·ç«¯ï¼Œä¸UDPæœåŠ¡å™¨ç«¯å¯¹è¯</span><span class="hljs-keyword">var</span> dgram = <span class="hljs-built_in">require</span>(<span class="hljs-string">'dgram'</span>)<span class="hljs-keyword">var</span> message = <span class="hljs-keyword">new</span> Buffer(<span class="hljs-string">'test.txt'</span>)<span class="hljs-keyword">var</span> client = dgram.createSocket(<span class="hljs-string">'udp4'</span>)<span class="hljs-comment">//é€šè¿‡å®¢æˆ·ç«¯å‘é€ç»™ç½‘ç»œï¼Œå‚æ•°åˆ†åˆ«å¯¹åº” è¦å‘é€çš„Buffer  Bufferçš„åç§»  Bufferçš„é•¿åº¦  ç›®æ ‡ç«¯å£ ç›®æ ‡åœ°å€ å®Œæˆåçš„å›è°ƒ</span>client.send(message, <span class="hljs-number">0</span>, message.length, <span class="hljs-number">1234</span>, <span class="hljs-string">'localhost'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(err, bytes)</span> {</span> client.close();})</pre><p><strong>æ„å»ºä¸€ä¸ªHTTPæœåŠ¡å™¨</strong></p><p>è¿™ä¸ªçœŸçš„å¥½ç†Ÿæ‚‰ï¼Œå¦‚ä¸‹ï¼š</p><pre class="prettyprint">//ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªHTTPæœåŠ¡å™¨, <span class="hljs-keyword">http</span>æ¨¡å—ç»§æ‰¿äºTCPä¸­çš„netæ¨¡å—var <span class="hljs-keyword">http</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)<span class="hljs-keyword">http</span>.createServer(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-title">req</span>, <span class="hljs-title">res</span>) {</span>    res.writeHead(<span class="hljs-number">200</span>, {<span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/plain'</span>})    res.<span class="hljs-keyword">end</span>(<span class="hljs-string">'é›·çŒ´\n'</span>)}).listen(<span class="hljs-number">1234</span>, <span class="hljs-string">'localhost'</span>)console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'å·²ç»‘å®š http://localhost:1234'</span>)</pre><p><strong>æ„å»ºWebSocketæœåŠ¡</strong></p><p>WebSocketä¹Ÿæ˜¯ä¸€ç§åŸºäºäº‹ä»¶çš„ç¼–ç¨‹æ¨¡å‹ï¼Œæ‰€ä»¥å’ŒNodeç»“åˆä¹Ÿæ˜¯ç›¸å¾—ç›Šå½°ï¼ŒåŒæ—¶WebSocketå®ç°äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´çš„é•¿è¿æ¥ï¼ŒNodeäº‹ä»¶é©±åŠ¨çš„æ–¹å¼ååˆ†æ“…é•¿äºå¤§é‡çš„å®¢æˆ·ç«¯ä¿æŒé«˜å¹¶å‘çš„è¿æ¥ã€‚</p><pre class="prettyprint">//ç¤ºä¾‹ï¼ŒWebSocketåœ¨å®¢æˆ·ç«¯çš„åº”ç”¨var <span class="hljs-built_in">socket</span> = <span class="hljs-built_in">new</span> WebSocket(<span class="hljs-string">'ws://localhost:1234/update'</span>)<span class="hljs-built_in">socket</span>.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span> () {</span>    setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span> () {</span>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">socket</span>.bufferedAmount === <span class="hljs-number">0</span>) {            <span class="hljs-built_in">socket</span>.<span class="hljs-built_in">send</span>(getUpdateData())        }    }, <span class="hljs-number">50</span>)}<span class="hljs-built_in">socket</span>.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-title">event</span>) {</span>   <span class="hljs-comment"> //todo: event.data çš„å¤„ç†</span>}</pre><p><strong>ç½‘ç»œæœåŠ¡ä¸å®‰å…¨</strong></p><p>è¿˜æœ‰ä¸€ä¸ªå…³äºç½‘ç»œç¼–ç¨‹çš„ä¾¿æ˜¯ç½‘ç»œå®‰å…¨ã€‚nodeåœ¨ç½‘ç»œå®‰å…¨ä¸Šæä¾›äº†3ä¸ªæ¨¡å—ï¼Œ<strong>crypto</strong>ã€<strong>tls</strong>ã€<strong>https</strong>ã€‚å…¶ä¸­cryptoä¸»è¦ç”¨äºåŠ å¯†è§£å¯†ï¼Œtlsæ¨¡å—æä¾›äº†ä¸netæ¨¡å—ç±»ä¼¼çš„åŠŸèƒ½ï¼ŒåŒºåˆ«åœ¨äºå»ºç«‹åœ¨TSL&#x2F;SSLåŠ å¯†çš„TCPè¿æ¥ä¹‹ä¸Šï¼Œhttpsä¸httpåŸºæœ¬éƒ½æ˜¯ä¸€è‡´çš„ï¼ŒåŒºåˆ«åœ¨äºå‰è€…æ›´å®‰å…¨ã€‚</p><h2 id="ç¬¬å…«ç« -æ„å»ºWebåº”ç”¨"><a href="#ç¬¬å…«ç« -æ„å»ºWebåº”ç”¨" class="headerlink" title="ç¬¬å…«ç«  æ„å»ºWebåº”ç”¨"></a><strong>ç¬¬å…«ç«  æ„å»ºWebåº”ç”¨</strong></h2><p>å…³äºæ„å»ºWebåº”ç”¨è¿™ä¸€ç« ï¼Œå…¶å®ç°æœ‰å…¶ä»–çš„æ¡†æ¶è®²çš„è€Œä¸”è¿ç”¨çš„å·²ç»å¾ˆè¯¦ç»†ï¼Œæ¯”å¦‚KOAï¼Œæ¯”å¦‚Expressï¼Œè¯•ç€è¿ç”¨è¿™ä¸¤ä¸ªåšä¸€ä¸ªwebåº”ç”¨æ›´èƒ½åŠ æ·±ç†è§£ï¼Œè¿™é‡Œå°±æ€»ç»“ä¸€ä¸‹æ„å»ºWebåº”ç”¨çš„ç»„æˆ</p><p><strong>åŸºç¡€åŠŸèƒ½</strong></p><ul><li><strong>è¯·æ±‚æ–¹æ³•</strong>ï¼šå¸¸è§çš„è¯·æ±‚æ–¹æ³•æœ‰GETã€POSTã€PUTã€DELETEï¼Œå­˜åœ¨äºè¯·æ±‚æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯ï¼Œé€šå¸¸ä¸ºå¤§å†™ã€‚</li><li><strong>è·¯å¾„è§£æ</strong>ï¼šæµè§ˆå™¨å°†è¯·æ±‚è§£ææˆæŠ¥æ–‡ï¼Œä½äºè¯·æ±‚æŠ¥æ–‡çš„ç¬¬äºŒè¡Œã€‚</li><li><strong>æŸ¥è¯¢å­—ç¬¦ä¸²</strong>ï¼šå³è¯·æ±‚ä¼ é€’çš„å‚æ•°ã€‚</li><li><strong>cookie</strong>ï¼šè®°å½•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„çŠ¶æ€ã€‚æœåŠ¡å™¨ç«¯ç”Ÿæˆå‘å®¢æˆ·ç«¯å‘é€ â€“&gt; æµè§ˆå™¨ä¿å­˜cookie â€“&gt;<br>æ¯æ¬¡æµè§ˆå™¨å‘é€è¯·æ±‚éƒ½ä¼šæºå¸¦cookieï¼Œcookieä¼šé€ æˆå¸¦å®½æµªè´¹ï¼Œæ‰€ä»¥å¯ä»¥å‡å°‘cookieçš„å¤§å°ï¼Œä¸ºé™æ€çš„ç»„ä»¶ä½¿ç”¨ä¸åŒçš„åŸŸåï¼Œå‡å°‘DNSçš„æŸ¥è¯¢æ¥é¿å…ã€‚</li><li><strong>session</strong>ï¼šä¸cookieä½œç”¨ç±»ä¼¼ï¼Œä½†æ˜¯sessionåªä¿ç•™åœ¨æœåŠ¡å™¨ç«¯ï¼Œå¹¶ä¸”å¸¸é©»å†…å­˜ï¼ˆåˆ©ç”¨Redisæˆ–è€…Memcachedå¯ä»¥ç»Ÿä¸€è½¬ç§»åˆ°é›†ä¸­çš„æ•°æ®å­˜å‚¨ä¸­ï¼‰ã€‚sessionä¹Ÿä¼šæœ‰å®‰å…¨é—®é¢˜ï¼Œä½†æ˜¯ç›¸å¯¹è¾ƒå°ï¼Œå¸¸è§çš„æ¼æ´å°±æ˜¯XSSæ¼æ´ï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰ã€‚</li><li><strong>ç¼“å­˜</strong>ï¼šåˆ©ç”¨æµè§ˆå™¨æ¥ç¼“å­˜é™æ€èµ„æºï¼Œç›®çš„æ˜¯æå‡åŠ è½½é€Ÿåº¦ä»è€Œæå‡ä½“éªŒã€‚</li><li><strong>Basicè®¤è¯</strong>ï¼šè¯·æ±‚æŠ¥æ–‡å¤´éƒ¨çš„Authorizationï¼Œè¿™ç§æ–¹å¼æœ‰ç¼ºé™·ï¼Œå› ä¸ºåœ¨ç½‘ç»œä¼ è¾“ä¸­è¿™äº›éªŒè¯æ¥è¿‘äºæ˜æ–‡ï¼Œæ‰€ä»¥ä¸å¯å–ã€‚</li></ul><p><strong>æ•°æ®ä¸Šä¼ </strong></p><ul><li><strong>è¡¨å•æ•°æ®</strong>ï¼šå³å¸¸è§çš„formè¡¨å•æäº¤ã€‚</li><li><strong>JSON&#x2F;XML</strong>: æäº¤çš„æ•°æ®æ˜¯JSON&#x2F;XMLæ ¼å¼çš„ï¼Œç°åœ¨å¤§éƒ¨åˆ†çš„äº¤äº’éƒ½æ˜¯ç”¨çš„JSONï¼ŒXMLçš„ä¹Ÿæœ‰ç”¨ï¼Œæ¯”å¦‚å¾®ä¿¡å…¬ä¼—å·å¹³å°çš„å¼€å‘çš„äº¤äº’å°±æ˜¯ç”¨çš„XMLï¼Œè¿™ä¸ªçœŸçš„è´¼å‘ã€‚</li><li><strong>é™„ä»¶ä¸Šä¼ </strong>ï¼šåˆ©ç”¨form-dataæ¥å®ç°é™„ä»¶ä¸Šä¼ ã€‚</li><li><strong>æ•°æ®ä¸Šä¼ å®‰å…¨</strong>ï¼šæ•°æ®ä¸Šä¼ çš„å®‰å…¨æ€§é—®é¢˜ä¸»è¦ä½“ç°åœ¨å†…å­˜é™åˆ¶å’Œè·¨ç«™ä¼ªé€ è¯·æ±‚çš„é—®é¢˜ä¸Šï¼Œæ‰€ä»¥ä¸€è¦å¯¹ä¸Šä¼ åšé™åˆ¶ï¼Œè€Œæ˜¯åœ¨å¼€å‘ä¸­è¦åŠ hashå€¼åšæ ‡è¯†ï¼Œå°±æ˜¯åŠ ä¸€ä¸ªéšæœºæ•°ã€‚</li></ul><p><strong>è·¯ç”±è§£æ</strong></p><ul><li><strong>æ–‡ä»¶è·¯å¾„å‹</strong>ï¼šåˆ†ä¸ºé™æ€æ–‡ä»¶å’ŒåŠ¨æ€æ–‡ä»¶ï¼Œä¸éœ€è¦è§£é‡Šã€‚</li><li><strong>MVC</strong>ï¼šå‰ç«¯MVCï¼Œä¹‹å‰ä¸€ç¯‡åšå®¢æœ‰è®²ï¼Œç°åœ¨å‰ç«¯éƒ½æ˜¯MV*ã€‚</li><li><strong>RESTful</strong>: è¡¨è¿°æ€§çŠ¶æ€è½¬ç§»ï¼Œå¼ºè°ƒæ‰€æœ‰çš„èµ„æºéƒ½æ˜¯å¯ä»¥é€šè¿‡URLè®¿é—®åˆ°ï¼Œå¯¹URLåšæ–‡ç« ï¼Œä¸MVCä¸å†²çªã€‚å¯ä»¥çœ‹ä¸‹é˜®ä¸€å³°çš„åšå®¢ï¼š<a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html">http://www.ruanyifeng.com/blog/2014/05/restful_api.html</a></li></ul><p><strong>ä¸­é—´ä»¶</strong></p><ul><li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šä¸­é—´ä»¶çš„æ ¸å¿ƒå°±æ˜¯å°¾è°ƒç”¨next()ï¼Œæ‰€ä»¥å¯¹äºä¸€äº›å¼‚å¸¸ï¼Œéœ€è¦åœ¨next()æ·»åŠ ä¸€ä¸ªå‚æ•°,å¹¶ä¸”æŠŠæ•è·åˆ°çš„å¼‚å¸¸ä¼ é€’è¿‡æ¥ã€‚</li><li><strong>æ€§èƒ½</strong>ï¼šä¸­é—´ä»¶çš„å‡ºç°æ—¶æœåŠ¡äºå…·ä½“ä¸šåŠ¡çš„ï¼Œæ‰€ä»¥è¦ç‰¹æ®Šç‰¹ç”¨ï¼Œæ€§èƒ½é—®é¢˜å¹¶ä¸å¤§ã€‚</li></ul><p><strong>é¡µé¢æ¸²æŸ“</strong></p><ul><li><strong>å†…å®¹å“åº”</strong>ï¼šå†…å®¹çš„å“åº”ä¸»è¦ä¾èµ–äºæŠ¥æ–‡ä¸­çš„Content-*å­—æ®µï¼Œå®ƒå†³å®šäº†å®¢æˆ·ç«¯ä¼šä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥ä½œå‡ºå“åº”ï¼Œä¸‹è½½ã€è·³è½¬ç­‰ã€‚</li><li><strong>è§†å›¾æ¸²æŸ“</strong>ï¼šä¸€èˆ¬æ˜¯é€šè¿‡æ¨¡æ¿åŠ æ•°æ®å…±åŒç”Ÿæˆå‡ºæ¥çš„ã€‚</li><li><strong>æ¨¡æ¿</strong>ï¼šæ¯”è§†å›¾æ¸²æŸ“æ›´è¿›ä¸€æ­¥ï¼Œæ¨¡æ¿çš„ä½¿ç”¨çš„å¯¹å‰ç«¯é¡µé¢çš„ä¸€ç§å¤ç”¨ï¼Œæ˜¯å¯¹htmlä½“çš„å¤ç”¨ã€‚æ¯”å¦‚javawebä¸­çš„jspï¼Œæˆ–è€…PHPï¼Œå½“ç„¶è¿™äº›éƒ½ç›¸å¯¹æˆç†Ÿï¼Œå¯¹äºåˆå‡ºèŒ…åºçš„nodeæ¥è¯´ï¼Œç°åœ¨å¸¸ç”¨çš„æ¨¡æ¿æ¸²æŸ“æ¨¡å—æœ‰jade,heredoc,ejsç­‰ã€‚</li></ul><hr><p><br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥æµ…å‡ºnodejså­¦ä¹ ç¬”è®°--ç¬¬äº”ç«  å†…å­˜æ§åˆ¶</title>
      <link href="/2017/04/18/"/>
      <url>/2017/04/18/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆå£°æ˜ä¸€ä¸‹ï¼Œè¿™ä¸ªå†…å­˜æ§åˆ¶æŒ‡çš„æ˜¯V8å¼•æ“çš„å†…å­˜æ§åˆ¶ï¼Œå¬èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œå¹³æ—¶webå¼€å‘å¯èƒ½ä¸ä¼šå»è€ƒè™‘æµè§ˆå™¨çš„å†…å­˜æ§åˆ¶æœºåˆ¶ï¼Œä½†æ˜¯å…¶å®æˆ‘ä»¬åœ¨å­¦ä¹ jsçš„æ—¶å€™å°±æœ‰å¤šå°‘äº†è§£åˆ°åƒåœ¾å›æ”¶å’Œå†…å­˜ç›‘æ§è¿™ç›¸å…³çš„çŸ¥è¯†ã€‚</p><h2 id="Jsçš„åƒåœ¾å›æ”¶æœºåˆ¶å’Œå†…å­˜æ§åˆ¶"><a href="#Jsçš„åƒåœ¾å›æ”¶æœºåˆ¶å’Œå†…å­˜æ§åˆ¶" class="headerlink" title="Jsçš„åƒåœ¾å›æ”¶æœºåˆ¶å’Œå†…å­˜æ§åˆ¶"></a><strong>Jsçš„åƒåœ¾å›æ”¶æœºåˆ¶å’Œå†…å­˜æ§åˆ¶</strong></h2><p>åœ¨<strong>ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰</strong>é‡Œä¹Ÿæœ‰æåˆ°äº†<strong>jsçš„åƒåœ¾å›æ”¶æœºåˆ¶å’Œå†…å­˜å›æ”¶</strong>é—®é¢˜ï¼Œè¿™é‡Œç®€å•çš„å›æƒ³ä¸€ä¸‹ï¼š</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œjså’Œjavaçš„ä¸€ä¸ªå…±åŒç‚¹å°±æ˜¯æœ‰è‡ªå·±çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ‰€ä»¥ä»–ä»¬ä¸ç”¨åƒC&#x2F;C++ç¨‹åºå‘˜ä¸€æ ·åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™å»å…³å¿ƒå†…å­˜çš„åˆ†é…ä¸é‡Šæ”¾çš„é—®é¢˜ã€‚å…³äºjsçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p><ul><li><strong>æ ‡è®°æ¸…é™¤</strong>ï¼š è¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯å½“ä½ åœ¨å‡½æ•°å†…å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±å°†è¯¥å˜é‡è¿›è¡Œæ ‡è®°ï¼Œæ ‡è®°ä¸ºè¿›å…¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•å°±æ ‡è®°ä¸ºç¦»å¼€ï¼Œè¿›å…¥æ ‡è®°çš„æ˜¯ä¸å¯ä»¥è¢«å›æ”¶çš„</li><li><strong>å¼•ç”¨è®¡æ•°</strong>ï¼š æ›´ç®€å•çš„ï¼Œå°±æ˜¯ä¸€ä¸ªå˜é‡è¢«ä½¿ç”¨çš„æ¬¡æ•°ï¼Œç”¨åˆ°ä¸€æ¬¡å°±åŠ ä¸€ï¼Œæ•°ç›®å°äºå¤šå°‘çš„å°±ç»™äºˆæ¸…é™¤</li></ul><p><strong>é‚£ä¹ˆå¦‚ä½•ç®¡ç†å†…å­˜å‘¢ï¼Ÿ</strong></p><p>å‰é¢ä¹Ÿè¯´äº†ï¼Œå› ä¸ºæœ‰è‡ªåŠ¨çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ‰€ä»¥ç¨‹åºå‘˜ä¸ç”¨å»æ“å¿ƒå†…å­˜ç®¡ç†çš„é—®é¢˜ï¼Œä½†æ˜¯è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼Œjsçš„å¯ç”¨å†…å­˜æ˜¯å¾ˆå°çš„ï¼Œæˆ–è€…è¯´æ˜¯è¿œè¿œå°äºæ¡Œé¢ç¨‹åºçš„å¯ä½¿ç”¨å†…å­˜ï¼ˆè¿™ä¸ªåé¢å†è¯´ï¼‰ï¼Œæ‰€ä»¥ä¸ºäº†ç¡®ä¿å ç”¨æœ€å°‘çš„å†…å­˜å¯ä»¥è®©é¡µé¢è·å¾—æ›´å¥½åœ°æ€§èƒ½ï¼Œæœ€ä½³æ–¹å¼å°±æ˜¯ä¸ºæ‰§è¡Œä¸­çš„ä»£ç åªä¿å­˜å¿…è¦çš„æ•°æ®ï¼Œä¸€æ—¦æ•°æ®ä¸å†æœ‰ç”¨ï¼Œå°±å°†å…¶é‡Šæ”¾ï¼ˆæ¯”å¦‚è®¾ç½®å…¶å€¼ä¸ºnullæ¥é‡Šæ”¾å¼•ç”¨ï¼‰ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯è§£é™¤å˜é‡çš„å¼•ç”¨ä»è€Œä½¿åƒåœ¾æ”¶é›†æœºåˆ¶åœ¨ä¸‹æ¬¡è¿è¡Œæ—¶å°†å…¶å›æ”¶ï¼ˆåƒåœ¾å›æ”¶æœºåˆ¶æ˜¯æŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”æˆ–è€…é¢„è®¾çš„æ—¶é—´è¿›è¡Œå¤„ç†çš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶é—´çš„é•¿çŸ­ä¹Ÿè¦è€ƒè™‘æ€§èƒ½é—®é¢˜ï¼‰</p><h2 id="V8çš„å†…å­˜åˆ†é…"><a href="#V8çš„å†…å­˜åˆ†é…" class="headerlink" title="V8çš„å†…å­˜åˆ†é…"></a><strong>V8çš„å†…å­˜åˆ†é…</strong></h2><p>é‚£ä¹ˆè¯´å®Œäº†jsä¸­çš„å†…å­˜ç®¡ç†ï¼Œé‚£ä¹ˆå°±åˆ°äº†æˆ‘ä»¬ä»Šå¤©è®¨è®ºçš„V8å¼•æ“ï¼Œæµè§ˆå™¨å†…çš„å†…å­˜æ§åˆ¶ã€‚</p><p><strong>å†…å­˜é™åˆ¶</strong></p><p>é¦–å…ˆå‘¢ï¼Œé€šè¿‡Nodeä½¿ç”¨å†…å­˜æ—¶æ˜¯åªå¯ä»¥ä½¿ç”¨éƒ¨åˆ†å†…å­˜çš„ï¼Œè¿™ä¸ªå¤§å°å¤§æ¦‚åœ¨ï¼ˆ64ä½ç³»ç»Ÿä¸‹æ˜¯1.4GBï¼Œ32ä½ç³»ç»Ÿä¸‹æ˜¯0.7GBï¼‰ï¼Œåœ¨V8ä¸­ï¼Œæ‰€æœ‰çš„jså¯¹è±¡éƒ½æ˜¯é€šè¿‡å †æ¥è¿›è¡Œåˆ†é…çš„ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡æ§åˆ¶å°è¾“å…¥ process.memoryUsage() æ–¹æ³•æŸ¥çœ‹ã€‚æ‰§è¡Œæ­¤æ“ä½œéœ€è¦åˆ‡æ¢åˆ°nodeå‘½ä»¤æ‰§è¡Œç¯å¢ƒã€‚</p><p><strong>V8çš„å†…å­˜åˆ†é…</strong></p><p>åœ¨V8ä¸­ï¼Œä¸»è¦å°†å†…å­˜åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ä¸¤ç§ï¼Œæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸ºå­˜æ´»æ—¶é—´æ¯”è¾ƒçŸ­çš„å¯¹è±¡ï¼Œè€ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸ºå­˜æ´»æ—¶é—´è¾ƒé•¿æˆ–å¸¸é©»å†…å­˜çš„å¯¹è±¡ã€‚V8çš„å †å†…å­˜çš„å¤§å°å°±æ˜¯æ–°ç”Ÿä»£åŠ ä¸Šè€ç”Ÿä»£çš„å¤§å°ã€‚è€ŒV8å…³äºå†…å­˜é™åˆ¶çš„ç®—æ³•ä¸»è¦æœ‰ä¸¤ç§ï¼Œè¿™é‡Œåªç®€å•æåŠä¸€ä¸‹ã€‚</p><p>ä¸€ç§æ˜¯ç‰ºç‰²ç©ºé—´æ¢æ—¶é—´çš„ç®—æ³•ï¼Œå«åš<strong>Scavenge</strong>ç®—æ³•ï¼Œé€šè¿‡è¯¥ç®—æ³•æ¥å›æ”¶æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ï¼ŒåŸç†å°±æ˜¯è®²æ–°ç”Ÿä»£çš„å†…å­˜ä¸€åˆ†ä¸ºäºŒï¼ŒAå’ŒBï¼ŒAå’ŒBæ°¸è¿œéƒ½æ˜¯ä¸€ä¸ªå¤„äºç©ºé—²çŠ¶æ€ï¼Œä¸€ä¸ªå¤„äºä½¿ç”¨çŠ¶æ€ï¼Œåœ¨åƒåœ¾å›æ”¶çš„æ—¶ï¼Œä¼šæ£€æŸ¥ä½¿ç”¨ä¸­çš„Aï¼Œå¦‚æœAä¸­å­˜åœ¨è¿˜ä½¿ç”¨çš„å¯¹è±¡å•¥çš„ï¼Œå°±å¤åˆ¶ç»™ç©ºé—²ä¸­çš„Bï¼Œç„¶åAä¸­æ²¡æœ‰è¢«ä½¿ç”¨å¯¹è±¡å•¥çš„å°±ä¼šè¢«æ¸…é™¤ï¼Œå¦‚æ­¤å¾€å¤ï¼Œè¾¾åˆ°åƒåœ¾æ¸…é™¤çš„ç›®çš„ï¼Œä½†æ˜¯è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœAä¸­å­˜æ´»çš„è¿˜åœ¨ä½¿ç”¨çš„å¯¹è±¡æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œå¤åˆ¶æ—¶ï¼Œè¿™ä¸ªæ•ˆç‡æ˜¯å¾ˆé«˜çš„ï¼Œä½†å¦‚æœAä¸­å­˜æ´»çš„å¯¹è±¡æ¯”è¾ƒå¤§ï¼Œæ•ˆç‡å°±ä¸èƒ½æ»¡è¶³éœ€æ±‚äº†ã€‚</p><p>è¿™å°±ç‰µæ‰¯åˆ°å¦å¤–ä¸€ç§ç®—æ³•äº†ï¼Œå¦å¤–ä¸€ç§å°±æ˜¯ <strong>Mark-Sweep</strong> å’Œ <strong>Mark-Compact</strong> ï¼Œæ ‡è®°æ¸…é™¤æ–¹æ³•ï¼Œè¿™ä¸ªå¾ˆç®€å•ï¼Œå°±æ˜¯æ²¡æœ‰ä¸€åˆ†ä¸ºäºŒçš„æ¦‚å¿µï¼Œç›´æ¥æŸ¥æ‰¾å†…å­˜ä¸­çš„å­˜æ´»æˆ–è€…æ­»äº¡çš„å¯¹è±¡ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªæ ‡è®°ï¼Œç„¶åç­‰åƒåœ¾å›æ”¶è¿›è¡Œæ¸…é™¤ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œä¸ºäº†é¿å…æ ‡è®°æ¸…é™¤é€ æˆçš„å†…å­˜ç¢ç‰‡åŒ–ï¼Œéœ€è¦åœ¨å¯¹è±¡è¢«æ ‡è®°æ­»äº¡åè¿›è¡Œä¸€æ¬¡æ•´ç†ï¼Œå°†æˆ–è€…çš„å¯¹è±¡å¾€ä¸€ç«¯é æ‹¢ï¼Œä¸¾ä¸ªä¾‹å­å°±æ˜¯å¥½äººç«™å†…å­˜å·¦è¾¹ï¼Œåäººç«™å†…å­˜å³è¾¹ï¼Œç­‰ä¼šæ”¶æ‹¾åäººã€‚</p><p><strong>å¦‚ä½•é«˜æ•ˆçš„ä½¿ç”¨å†…å­˜</strong> </p><p>è¿™ä¸€å—å„¿å‘¢ï¼Œåªéœ€è¦æ³¨æ„ä½œç”¨åŸŸå’Œé—­åŒ…å¸¦æ¥çš„é—®é¢˜å°±å¥½ï¼Œè·Ÿjsä¸­çš„ä¼˜åŒ–æ˜¯ä¸€æ ·çš„ï¼Œä¸ä½œä»‹ç»ã€‚</p><p><strong>å†…å­˜æ³„æ¼</strong></p><p>å†…å­˜æ³„æ¼æ˜¯ç¨‹åºå‘˜åœ¨ä¸å†…å­˜æ‰“äº¤é“æ—¶ä¸€å®šè¦æ³¨æ„çš„é—®é¢˜ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œé€ æˆå†…å­˜æ³„éœ²çš„åŸå› ä¸»è¦æœ‰ä¸‰ä¸ªï¼š <strong>ç¼“å­˜ã€ é˜Ÿåˆ—æ¶ˆè´¹ä¸åŠæ—¶ã€ ä½œç”¨åŸŸæœªé‡Šæ”¾</strong>ã€‚</p><p>åŸºäºæ­¤ï¼Œé¿å…é€ æˆå†…å­˜æ³„æ¼çš„æ–¹æ¡ˆä¹Ÿæœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p><ul><li><strong>ä¸è¦å°†å†…å­˜å½“åšç¼“å­˜</strong>ï¼š è¯´ä¸è¦å¤ªè¿‡äº†ï¼Œå°½é‡ä¸è¦å§ï¼›</li><li><strong>å…³æ³¨é˜Ÿåˆ—çŠ¶æ€</strong>ï¼š é˜Ÿåˆ—çŠ¶æ€é€ æˆçš„å†…å­˜æ³„æ¼å…¶å®ä¸å®¹æ˜“å‘ç”Ÿï¼Œå› ä¸ºå¤§å¤šæ•°æƒ…å†µæ˜¯ä½¿ç”¨çš„é€Ÿåº¦æ˜¯å¤§äºç”Ÿäº§çš„é€Ÿåº¦çš„ï¼Œæ˜¯ä¸ä¼šæœ‰åº“å­˜çš„ã€‚ä½†æ˜¯äºŒç­æƒ…å†µï¼Œå¦‚æœå‡ºç°äº†ï¼Œå°±å¾ˆéš¾æ’æŸ¥ï¼Œæ‰€ä»¥å¯¹äºé˜Ÿåˆ—çŠ¶æ€å¼•èµ·çš„å†…å­˜æ³„æ¼ï¼Œåº”ç›‘æ§é˜Ÿåˆ—çš„é•¿åº¦ï¼Œå¦‚æœé•¿åº¦è¶…è¿‡äº†ä¸€å®šé™åˆ¶ï¼Œå°±ç»™å‡ºå¼‚å¸¸æ‹’ç»å†ä½¿ç”¨å†…å­˜ã€‚</li></ul><hr><p><br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥æµ…å‡ºnodejså­¦ä¹ ç¬”è®°--ç¬¬å››ç«  å¼‚æ­¥ç¼–ç¨‹</title>
      <link href="/2017/04/17/"/>
      <url>/2017/04/17/</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸€ç« çš„çŸ¥è¯†è·¨åº¦çœ‹èµ·æ¥ä¸å¹¿ï¼Œä½†æ˜¯çŸ¥è¯†æ·±åº¦çš„è¿˜æ˜¯æŒºæ·±çš„ï¼Œå¼‚æ­¥ç¼–ç¨‹ä½œä¸ºnodejsçš„æ ¸å¿ƒï¼Œä¸ªäººåŒæ—¶éœ€è¦ä¸€å®šçš„æ·±åº¦æ‰å¯ä»¥å»ç†è§£ã€‚</p><p>åœ¨è¿™ä¸€ç« æåˆ°äº†å‡½æ•°å¼ç¼–ç¨‹å’Œå¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆçš„ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼Œé¦–å…ˆæ¥äº†è§£ä¸€ä¸‹å‡½æ•°å¼ç¼–ç¨‹</p><h2 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a><strong>å‡½æ•°å¼ç¼–ç¨‹</strong></h2><p>è¿™é‡Œå…ˆæ”¾ä¸€æœ¬ä¹¦ï¼Œ<a href="https://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details">https://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details</a> è§‰å¾—è®²å¾—ä¸é”™ï¼Œå› ä¸ºè¶Šåˆ°åé¢è¶Šçœ‹ä¸æ‡‚</p><p>JavaScriptå…¶å®ä¹‹å‰æ˜¯ä¸€ç›´è¢«è¯¯è§£çš„ï¼Œå› ä¸ºå®ƒä¸€ç›´è¢«å½“åšæ˜¯å‘½ä»¤å¼å¼çš„ç¼–ç¨‹è¯­è¨€ï¼Œæˆ–è®¸jsçˆ¸çˆ¸<strong>Brendan Eich</strong>ä¸€å¼€å§‹è®¾è®¡çš„æ—¶å€™ä¹Ÿæ˜¯è¿™æ ·æƒ³çš„ï¼Œä½†æ˜¯å…¶å®jsä¹Ÿæ˜¯å¯ä»¥åšå‡½æ•°å¼çš„ç¼–ç¨‹ã€‚æ‰€è°“å‡½æ•°å¼ç¼–ç¨‹ï¼Œå…¶å®ä¸éš¾ï¼Œä¸åŒäºåå°å¼ºç±»å‹è¯­è¨€çš„é¢å‘å¯¹è±¡å¼çš„ç¼–ç¨‹è¯­è¨€ï¼Œå‡½æ•°å¼ç¼–ç¨‹æ˜¯ç§ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒå°†ç”µè„‘è¿ç®—è§†ä¸ºå‡½æ•°çš„è®¡ç®—ï¼Œå¼ºè°ƒè®¡ç®—ã€‚</p><p>å‡½æ•°å¼ç¼–ç¨‹æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šæ”¯æŒé—­åŒ…å’Œé«˜é˜¶å‡½æ•°ï¼Œæ”¯æŒæƒ°æ€§è®¡ç®—ï¼ˆlazy evaluationï¼‰ã€‚ä½¿ç”¨é€’å½’ä½œä¸ºæ§åˆ¶æµç¨‹çš„æœºåˆ¶ã€‚åŠ å¼ºäº†å¼•ç”¨é€æ˜æ€§ã€‚æ²¡æœ‰å‰¯ä½œç”¨ã€‚ï¼ˆè¿™å¥è¯æ˜¯ç™¾åº¦çš„ï¼‰</p><p>è¿™æœ¬ä¹¦ä¸»è¦ä»‹ç»äº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€äº›è§„èŒƒï¼Œæˆ‘åªæ‹¿å…¶ä¸­çš„ç®€å•å‡ ä¸ªæ¦‚å¿µä½œä¸ºä¾‹å­</p><p><strong>é«˜é˜¶å‡½æ•°</strong>ï¼š é«˜é˜¶å‡½æ•°æ˜¯å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ï¼ˆå¦‚ä¼ é€’ä¸€ä¸ªæ–¹æ³•ä½œä¸ºå‚æ•°ï¼‰ï¼Œæˆ–è€…è¯´æ˜¯å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºè¿”å›å€¼çš„å‡½æ•°ï¼ˆå…¶å®å°±æ˜¯returnä¸€ä¸ªå‡½æ•°ï¼‰</p><p><strong>åå‡½æ•°</strong>ï¼š åå‡½æ•°æ˜¯æŒ‡é€šè¿‡éƒ¨åˆ†å‚æ•°æ¥äº§ç”Ÿä¸€ä¸ªæ–°çš„å®šåˆ¶çš„å‡½æ•°çš„æ–¹å¼ï¼Œè¿™ç§å°±å«åšåå‡½æ•°</p><p><strong>çº¯å‡½æ•°</strong>ï¼š ä¹¦ä¸­çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼Œçº¯å‡½æ•°æ˜¯è¿™æ ·ä¸€ç§å‡½æ•°ï¼Œå³ç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯è§‚å¯Ÿçš„å‰¯ä½œç”¨ã€‚å…¶å®æœ€é‡è¦çš„å°±æ˜¯è¿™å¥è¯ï¼Œç›¸åŒçš„è¾“å…¥æ€»ä¼šçš„å¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œçº¯å‡½æ•°çš„çº¯å°±åœ¨è¿™ä¸€ç‚¹ï¼Œä¸è¿‡å¤šçš„å¯¹å‡½æ•°ä¹‹å¤–çš„ç¯å¢ƒäº§ç”Ÿä¾èµ–ï¼Œä¿è¯å‡½æ•°æœ¬èº«çš„çº¯ç²¹ï¼Œä»è€Œè¾¾åˆ°çº¯çš„ç›®çš„</p><p><strong>å‡½æ•°æŸ¯é‡ŒåŒ–</strong>ï¼šcurryæ— æ³•å£è¿°ï¼Œç”¨ä¸€ä¸ªä¾‹å­æ¥è§£é‡Š</p><pre><code>    var add = function(x) &#123;        return function(y) &#123;            return x + y;        &#125;;    &#125;;    var increment = add(1);    var addTen = add(10);    increment(2);    // 3    addTen(2);</code></pre><p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª add å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚è°ƒç”¨add ä¹‹åï¼Œè¿”å›çš„å‡½æ•°å°±é€šè¿‡é—­åŒ…çš„æ–¹å¼è®°ä½äº† add çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ä¸€æ¬¡æ€§åœ°è°ƒç”¨å®ƒå®åœ¨æ˜¯æœ‰ç‚¹ç¹çï¼Œå¥½åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„ curry å¸®åŠ©å‡½æ•°ï¼ˆhelperfunctionï¼‰ä½¿è¿™ç±»å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨æ›´åŠ å®¹æ˜“ã€‚</p><h2 id="å¼‚æ­¥ç¼–ç¨‹"><a href="#å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="å¼‚æ­¥ç¼–ç¨‹"></a><strong>å¼‚æ­¥ç¼–ç¨‹</strong></h2><p><strong>å¼‚æ­¥ç¼–ç¨‹çš„ä¼˜åŠ¿å’Œéš¾ç‚¹</strong></p><p>nodeçš„å¼‚æ­¥ç¼–ç¨‹æ‰€å¸¦æ¥çš„æœ€å¤§ä¼˜åŠ¿å°±æ˜¯åŸºäºäº‹ä»¶é©±åŠ¨çš„<strong>éé˜»å¡IOæ¨¡å‹</strong>ã€‚éé˜»å¡IOå¯ä»¥æ˜¯CPUå’ŒIOæ“ä½œå¹¶ä¸ç›¸äº’ä¾èµ–ç­‰å¾…ï¼Œè®©èµ„æºå¾—ä»¥æ›´å¥½åœ°åˆ©ç”¨ã€‚å¯¹äºä¸€äº›ç½‘ç»œåº”ç”¨è€Œè¨€ï¼Œå¹¶è¡Œè¿˜å¯ä»¥å¸¦æ¥çš„ä¼˜åŠ¿æ˜¯åˆ†å¸ƒå¼å’Œäº‘ã€‚</p><p>ä½†åŒæ—¶ï¼Œnodeæ‰€å¸¦æ¥çš„éš¾ç‚¹è¿˜æ˜¯å¾ˆå›°éš¾çš„ï¼š</p><p><strong>éš¾ç‚¹1</strong>ï¼š å¼‚å¸¸å¤„ç† å¼‚æ­¥ä¸­çš„å¼‚å¸¸éƒ½æ˜¯è¿™ä¸ªå°¿æ€§ï¼Œçœ‹ä¸‹jqueryçš„ajaxå°±çŸ¥é“ï¼Œæ‰€ä»¥åœ¨ç¼–å†™å¼‚æ­¥æ–¹æ³•æ—¶ï¼Œéœ€è¦å°†å¼‚å¸¸æ­£ç¡®çš„è¿”å›ç»™ç”¨æˆ·çš„å›è°ƒæ–¹æ³•</p><p><strong>éš¾ç‚¹2</strong>ï¼š å‡½æ•°åµŒå¥—è¿‡æ·± å›è°ƒåœ°ç‹±ï¼Œä¸è§£é‡Šï¼Œä½†æ˜¯ç°åœ¨æœ‰Promise,æ¥ä¸‹æ¥ä¼šè¯´</p><p><strong>éš¾ç‚¹3</strong>ï¼š é˜»å¡ä»£ç  å•çº¿ç¨‹çš„ç¼ºç‚¹ï¼Œè°¨æ…å¤„ç†</p><p><strong>éš¾ç‚¹4</strong>ï¼š å¤šçº¿ç¨‹ç¼–ç¨‹ è¿˜æ˜¯å•çº¿ç¨‹æ‰€å¸¦æ¥çš„é—®é¢˜ï¼Œä¸è¿‡nodeæœ‰è‡ªå·±child_process</p><p><strong>éš¾ç‚¹5</strong>ï¼š å¼‚æ­¥è½¬åŒæ­¥ </p><p>  è¿™ä¸ªå°±æ˜¯nodeç”¨æƒ¯äº†å¼‚æ­¥ï¼Œä½†æ˜¯æ²¡æœ‰åŒæ­¥æ“ä½œçš„APIï¼Œæ‰€ä»¥å¯èƒ½åœ¨å®ç°åŒæ­¥çš„æ—¶å€™è¦å»å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“ï¼Œä¸è¿‡æ”¾å¿ƒï¼Œnpmä¸Šé¢çš„æ’ä»¶è‚¯å®šå¾ˆå¤š</p><h2 id="å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆ"><a href="#å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆ"></a><strong>å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆ</strong></h2><p>å…³äºå¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆï¼Œä¹¦ä¸­ç»™å‡ºäº†å››ç§ï¼Œåˆ†åˆ«æ˜¯<strong>äº‹ä»¶å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼ã€Promise&#x2F;Deferredã€æµç¨‹æ§åˆ¶åº“ã€å¼‚æ­¥å¹¶å‘æ§åˆ¶</strong></p><p><strong>äº‹ä»¶å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼</strong>ï¼š è¿™ä¸ªå°±æ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œnodeä¸­çš„eventæ¨¡å—å…¶å®æ˜¯ä¸€ä¸ªå¾ˆå¥½åœ°å®è·µ</p><p><strong>Promise&#x2F;Deferred</strong>ï¼š å¼ºè°ƒäº‹ä»¶çš„çŠ¶æ€å’Œç›®æ ‡ï¼Œæ ¹æ®çŠ¶æ€æ¥æ‰§è¡Œï¼Œä»è€Œé¿å…æ·±åº¦åµŒå¥—ï¼Œè¿™ä¸ªes6ä¸­çš„Promiseä¹Ÿå·²ç»æœ‰äº†å¾ˆå¥½åœ°å®ç°</p><p><strong>æµç¨‹æ§åˆ¶åº“</strong>ï¼šæµç¨‹æ§åˆ¶çš„ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µå°±æ˜¯å°¾è§¦å‘ï¼Œes6å¯¹è¿™ä¸ªæœ‰ä¸ªæ¯”è¾ƒå¥½çš„å®ç°ï¼Œé‚£å°±æ˜¯ç»ˆæ­¢å‡½æ•°ï¼Œåœ¨es7çš„è‰æ¡ˆä¸­ï¼Œæ›´æ˜¯ç›´æ¥ä½¿ç”¨äº†awaitä½œä¸ºæµç¨‹æ§åˆ¶ä¸­æ­¢å‡½æ•°æ ‡è¯†</p><p><strong>å¼‚æ­¥å¹¶å‘æ§åˆ¶</strong>ï¼š è€ƒè™‘åˆ°å¼‚æ­¥æ“ä½œå¯¹å†…å­˜çš„å½±å“ï¼Œä¸ºé¿å…cpuæŒ‚æ‰ï¼Œæ‰€ä»¥è¦å¯¹å¼‚æ­¥çš„å¹¶å‘è¿›è¡Œæ§åˆ¶</p><p><strong>æ‰©å±•ï¼š</strong></p><p>æ—¢ç„¶è¯´åˆ°äº†æµç¨‹æ§åˆ¶ï¼Œå°±ä¸å¾—ä¸è¯´ç°åœ¨æœ€æµè¡Œçš„ä¸¤ä¸ªå‰ç«¯æ¡†æ¶ï¼Œ<strong>Express</strong>å’Œ<strong>koa</strong></p><p>Expressæ˜¯ä¸€ä¸ªè€ç‰Œçš„webåº”ç”¨æ¡†æ¶äº†ï¼ŒExpress æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„æç®€ã€çµæ´»çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚ </p><p>å…·ä½“ç§»æ­¥å®˜ç½‘çœ‹ï¼Œå®˜ç½‘ï¼š<a href="http://www.expressjs.com.cn/">http://www.expressjs.com.cn/</a>ã€‚</p><p>koaæ˜¯æ–°ä¸€ç§çš„å‰ç«¯æ¡†æ¶ï¼Œkoa æ˜¯ç”± Express åŸç­äººé©¬æ‰“é€ çš„ï¼Œè‡´åŠ›äºæˆä¸ºä¸€ä¸ªæ›´å°ã€æ›´å¯Œæœ‰è¡¨ç°åŠ›ã€æ›´å¥å£®çš„ Web æ¡†æ¶ã€‚ä½¿ç”¨ koa ç¼–å†™ web åº”ç”¨ï¼Œé€šè¿‡ç»„åˆä¸åŒçš„ generatorï¼Œå¯ä»¥å…é™¤é‡å¤ç¹ççš„å›è°ƒå‡½æ•°åµŒå¥—ï¼Œå¹¶æå¤§åœ°æå‡é”™è¯¯å¤„ç†çš„æ•ˆç‡ã€‚koa ä¸åœ¨å†…æ ¸æ–¹æ³•ä¸­ç»‘å®šä»»ä½•ä¸­é—´ä»¶ï¼Œå®ƒä»…ä»…æä¾›äº†ä¸€ä¸ªè½»é‡ä¼˜é›…çš„å‡½æ•°åº“ï¼Œä½¿å¾—ç¼–å†™ Web åº”ç”¨å˜å¾—å¾—å¿ƒåº”æ‰‹ã€‚koaä½å±‚çš„å®ç°ä¾èµ–TJå¤§ç¥çš„COï¼Œåº“å¾ˆå°å·§ï¼Œæš‚æ—¶ä¸æ·±å…¥ï¼Œå…·ä½“ç§»æ­¥å®˜ç½‘ï¼Œå®˜ç½‘ï¼š<a href="http://koa.bootcss.com/">http://koa.bootcss.com/</a></p><hr><p><br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥æµ…å‡ºnodejså­¦ä¹ ç¬”è®°-å‰ä¸‰ç«  ç®€ä»‹ã€æ¨¡å—æœºåˆ¶ã€å¼‚æ­¥I/O</title>
      <link href="/2017/04/16/"/>
      <url>/2017/04/16/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€ç« -nodeç®€ä»‹"><a href="#ç¬¬ä¸€ç« -nodeç®€ä»‹" class="headerlink" title="ç¬¬ä¸€ç«  nodeç®€ä»‹"></a>ç¬¬ä¸€ç«  nodeç®€ä»‹</h2><p>åœ¨å­¦ä¹ è¿™ç« ä¹‹å‰ï¼Œå…ˆæä¸‰ä¸ªé—®é¢˜ï¼Œnodeæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆç”¨nodeï¼Œnodeå¯ä»¥ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ</p><p><strong>é¦–å…ˆæ˜¯å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œnodeæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><p>nodeä¹ æƒ¯ç§°ä¸ºnodejsï¼Œå¬èµ·æ¥ç±»ä¼¼äºjsåº“ï¼Œä½†æ˜¯å…¶å®nodeå¹¶ä¸æ˜¯ä¸€ä¸ªåº“ï¼Œnodeå…¶å®æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨åç«¯è¿è¡ŒJavaScriptçš„ç¯å¢ƒã€‚</p><p>jsä¸ºä»€ä¹ˆå¯ä»¥åœ¨åç«¯è¿è¡Œå‘¢ï¼Œä¸æ˜¯åªå¯ä»¥åœ¨æµè§ˆå™¨è¿è¡Œå—ï¼Ÿå…¶å®æ˜¯jsä¹‹æ‰€ä»¥å¯ä»¥å†æµè§ˆå™¨è¿è¡Œæ˜¯å› ä¸ºåœ¨æµè§ˆå™¨ä¸­é›†æˆäº†jsè§£æå¼•æ“ï¼Œç±»ä¼¼Firefoxçš„SpiderMonkeyå’ŒIEçš„Chakraï¼Œå…¶ä¸­æœ€æœ‰åçš„å½“å±äºchromeçš„v8å¼•æ“ï¼Œè€Œnodeä¾¿æ˜¯åˆ©ç”¨åˆ°äº†v8å¼•æ“ï¼Œæ‰€ä»¥æ‰å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è·‘jsï¼Œå½“å¦‚æ­£å¦‚ä½ æ‰€æƒ³çš„ï¼Œå› ä¸ºnodeå¹¶æ²¡æœ‰æ¸²æŸ“å¼•æ“ï¼Œæ‰€ä»¥nodeæ˜¯ä¸å¤„ç†UIçš„ã€‚</p><p><strong>é‚£ä¸ºä»€ä¹ˆè¦ç”¨nodeï¼Ÿ</strong></p><p>ä½œä¸ºä¸€ä¸ªåç«¯jsçš„è¿è¡Œå¹³å°ï¼Œnodeè¦å¥½ç”¨æ‰ä¼šç”¨å•Šï¼Œå–ï¼Œå¦‚ä¸‹ï¼š</p><ol><li><strong>å¼‚æ­¥IO</strong>ï¼šå…¶å®å°±æ˜¯å¼‚æ­¥æ‰§è¡Œçš„IOæ“ä½œï¼Œä¸ç”¨å¤šè¯´</li><li><strong>å•çº¿ç¨‹</strong>ï¼šnodeæ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œæ‰€ä»¥ä¸ç”¨è€ƒè™‘å¤šçº¿ç¨‹åœ°å¸¦æ¥çš„åŒæ­¥å•Šã€æ­»é”ä¹‹ç±»çš„é—®é¢˜ï¼Œä½†åŒæ—¶ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚æ— æ³•å……åˆ†çš„åˆ©ç”¨å¤šæ ¸CPUã€ä¸€æ—¦æŠ¥é”™ï¼Œç¨‹åºå°±GGã€CPUè¿‡è½½å°±ä¼šå‡ºå¼‚å¸¸ç­‰ï¼Œå¯¹äºè¿™äº›é—®é¢˜ï¼Œnodeä¹Ÿæœ‰ä¸€ä¸ªç®€å•çš„è§£å†³åŠæ³•å°±æ˜¯child_processï¼Œè¿™ä¸ªæš‚æ—¶å…ˆä¸è°ˆ</li><li><strong>è·¨å¹³å°</strong>ï¼šä½œä¸ºä¸€ä¸ªåå°è¿è¡Œå¹³å°ï¼Œè¿™æ˜¯JavaScriptæµ©æµ©è¡è¡è¿›å†›åå°ä¹‹åŠ¿ï¼Œå½“ç„¶ä¹Ÿè¦åƒåå°çˆ¸çˆ¸Javaä¸€æ ·è·¨å¹³å°æ‰å¥½ç”¨å“ˆ</li><li><strong>äº‹ä»¶ä¸å›è°ƒå‡½æ•°</strong>ï¼šnodeæ˜¯åŸºäºäº‹ä»¶é©±åŠ¨çš„ï¼ŒåŸºäºäº‹ä»¶ç¼–ç¨‹æœ‰<strong>è½»é‡çº§ã€è½»è€¦åˆã€åªå…³æ³¨äº‹åŠ¡ç‚¹</strong>ç­‰ä¼˜åŠ¿ï¼Œå…¶å®å°±æ˜¯æ›´å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œæ¯•ç«Ÿæ˜¯å‰ç«¯</li></ol><p><strong>æœ€åçš„é—®é¢˜ï¼Œnodeå¯ä»¥ç”¨æ¥å¹²ä»€ä¹ˆ</strong></p><p>å¦‚ä¸Šçš„nodeä¼˜åŠ¿æ‰€è¯´ï¼Œä¸€æ–¹é¢ï¼ŒnodeåŸºäºå¼‚æ­¥IOçš„ç‰¹ç‚¹ï¼Œnodeæ“…é•¿äºå¤„ç†IOå¯†é›†å‹ä¸šåŠ¡ï¼Œå¦ä¸€æ–¹é¢ï¼ŒV8æ˜¯ååˆ†å¼ºå¤§çš„ï¼Œæ‰€ä»¥nodeä¹Ÿå¾ˆé€‚åˆCPUå¯†é›†å‹ä¸šåŠ¡ï¼Œè€Œä¸”æ•ˆç‡ä¸æ¯”javaå·®å“ˆï¼ŒåŒæ—¶ï¼Œnodeä¹Ÿæ¯”è¾ƒé€‚åˆäºåšä¸€äº›æ¸¸æˆå¼€å‘é¢†åŸŸçš„äº‹æƒ…ã€åšåˆ†å¸ƒå¼åº”ç”¨å’Œä¸€äº›å·¥å…·ç±»åº”ç”¨çš„å¼€å‘</p><h2 id="ç¬¬äºŒç« -nodeæ¨¡å—æœºåˆ¶"><a href="#ç¬¬äºŒç« -nodeæ¨¡å—æœºåˆ¶" class="headerlink" title="ç¬¬äºŒç«  nodeæ¨¡å—æœºåˆ¶"></a>ç¬¬äºŒç«  nodeæ¨¡å—æœºåˆ¶</h2><p><strong>nodeæ¨¡å—æœºåˆ¶</strong></p><p>å…³äºnodeçš„æ¨¡å—æœºåˆ¶ï¼Œé¦–å…ˆæä¸€ä¸‹CommonJSï¼ŒCommonJSå°±æ˜¯ä¸ºJSçš„è¡¨ç°æ¥åˆ¶å®šè§„èŒƒï¼Œå› ä¸ºjsæ²¡æœ‰æ¨¡å—çš„åŠŸèƒ½æ‰€ä»¥CommonJSåº”è¿è€Œç”Ÿï¼Œå®ƒå¸Œæœ›jså¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œï¼Œä¸åªæ˜¯æµè§ˆå™¨ä¸­ã€‚CommonJSçš„æ¨¡å—è§„èŒƒå¦‚ä¸‹</p><pre class="prettyprint"><span class="hljs-comment">//a.js</span>exports.yeah = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>    console.log(<span class="hljs-string">'yeah'</span>)}<span class="hljs-comment">//b.js</span><span class="hljs-keyword">var</span> yeah = <span class="hljs-built_in">require</span>(<span class="hljs-string">'yeah'</span>)</pre><p>åœ¨æ–‡ä»¶aä¸­é€šè¿‡exportsæš´éœ²å‡ºå»ä¸€ä¸ªyeahæ–¹æ³•ï¼Œç„¶ååœ¨b.jsæ–‡ä»¶ä¸­é€šè¿‡requireå¼•ç”¨ï¼Œååˆ†æ–¹ä¾¿,ä½†æ˜¯CommonJSçš„ç¼ºé™·è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œ<strong>æ²¡æœ‰æ¨¡å—ç³»ç»Ÿï¼Œæ ‡å‡†åº“å¾ˆå°‘ï¼Œæ²¡æœ‰æ ‡å‡†çš„æ¥å£ï¼Œç¼ºä¹åŒ…ç®¡ç†ç³»ç»Ÿ</strong>ç­‰ã€‚</p><p>ä½œä¸ºç«™åœ¨å·¨äººè‚©è†€ä¸Šçš„nodeï¼Œnodeåœ¨å®ç°ä¸­å¹¶éå®Œå…¨æŒ‰ç…§CommonJSçš„æ¨¡å—è§„èŒƒï¼Œè€Œæ˜¯å¯¹æ¨¡å—è§„èŒƒè¿›è¡Œäº†ä¸€å®šçš„å–èˆï¼ŒåŒäº‹ä¹Ÿå¢åŠ äº†ä¸å°‘è‡ªèº«éœ€è¦çš„ç‰¹æ€§ã€‚</p><p>nodeçš„æ¨¡å—åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç§æ˜¯Nodeæä¾›çš„æ¨¡å—ï¼Œå«åš<strong>æ ¸å¿ƒæ¨¡å—</strong>;ä¸€ç§æ˜¯ç”¨æˆ·è‡ªå·±ç¼–å†™çš„æ¨¡å—ï¼Œå«åš<strong>æ–‡ä»¶æ¨¡å—</strong> </p><p>æ ¸å¿ƒæ¨¡å—è¢«ç¼–è¯‘æˆäºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ï¼Œåœ¨nodeå¯åŠ¨æ—¶å°±è¢«ç›´æ¥åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ‰§è¡Œé€Ÿåº¦æœ€å¿«ï¼Œæ–‡ä»¶æ¨¡å—åˆ™æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒæŒ‰ç…§è·¯å¾„åˆ†æ â€“&gt; æ–‡ä»¶å®šä½ â€“&gt; ç¼–è¯‘æ‰§è¡Œ çš„æ­¥éª¤åŠ è½½æ‰§è¡Œ</p><p>nodeæœ‰è‡ªå·±çš„åŒ…è§„èŒƒNPMï¼Œnpmæ˜¯ä»€ä¹ˆï¼Œnpmæ˜¯ä¸€ä¸ªåŒ…ç®¡ç†çš„ç¥å™¨ï¼Œè¿™ä¸ªçœŸçš„ä¸èƒ½å¤šè¯´ï¼Œæ¯å¤©éƒ½ç”¨</p><p><strong>å‰åç«¯å…±ç”¨æ¨¡å—</strong></p><p>å‰åç«¯å…±ç”¨æ¨¡å—ä¸»è¦æœ‰ä¸¤ç§ï¼ŒAMDå’ŒCMD</p><p>AMD å³Asynchronous Module Definitionï¼Œä¸­æ–‡åæ˜¯å¼‚æ­¥æ¨¡å—å®šä¹‰çš„æ„æ€ã€‚å®ƒæ˜¯ä¸€ä¸ªåœ¨æµè§ˆå™¨ç«¯æ¨¡å—åŒ–å¼€å‘çš„è§„èŒƒï¼Œç”±äºä¸æ˜¯JavaScriptåŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨AMDè§„èŒƒè¿›è¡Œé¡µé¢å¼€å‘éœ€è¦ç”¨åˆ°å¯¹åº”çš„åº“å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼RequireJSï¼Œå®é™…ä¸ŠAMD æ˜¯ RequireJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–çš„äº§å‡º</p><p>requireJSä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜</p><ol><li><p>å¤šä¸ªjsæ–‡ä»¶å¯èƒ½æœ‰ä¾èµ–å…³ç³»ï¼Œè¢«ä¾èµ–çš„æ–‡ä»¶éœ€è¦æ—©äºä¾èµ–å®ƒçš„æ–‡ä»¶åŠ è½½åˆ°æµè§ˆå™¨</p></li><li><p>jsåŠ è½½çš„æ—¶å€™æµè§ˆå™¨ä¼šåœæ­¢é¡µé¢æ¸²æŸ“ï¼ŒåŠ è½½æ–‡ä»¶è¶Šå¤šï¼Œé¡µé¢å¤±å»å“åº”æ—¶é—´è¶Šé•¿</p><p>çœ‹ä¸€ä¸ªä½¿ç”¨requireJSçš„ä¾‹å­</p></li></ol><pre class="prettyprint"><span class="hljs-comment">// å®šä¹‰æ¨¡å— myModule.js</span>define([<span class="hljs-string">'dependency'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>    <span class="hljs-keyword">var</span> name = <span class="hljs-string">'Byron'</span>;    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printName</span><span class="hljs-params">()</span>{</span>        console.log(name);    }    <span class="hljs-keyword">return</span> {        printName: printName    };});<span class="hljs-comment">// åŠ è½½æ¨¡å—</span><span class="hljs-built_in">require</span>([<span class="hljs-string">'myModule'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(my)</span>{</span>ã€€ my.printName();});</pre><p>CMDç”±å›½å†…çš„ç‰ä¼¯æå‡ºï¼ŒCMDæ¨¡å—æ›´æ¥è¿‘äºNodeå¯¹CommonJSçš„å®ç°ï¼ŒCMDå’ŒAMDæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œçœ‹ä¸‹<a href="https://www.zhihu.com/people/lifesinger/answers">ç‰ä¼¯</a>æ˜¯æ€ä¹ˆå›ç­”çš„å§<a href="https://www.zhihu.com/question/20351507/answer/14859415">https://www.zhihu.com/question/20351507/answer/14859415</a></p><h2 id="ç¬¬ä¸‰ç« -å¼‚æ­¥IO"><a href="#ç¬¬ä¸‰ç« -å¼‚æ­¥IO" class="headerlink" title="ç¬¬ä¸‰ç«  å¼‚æ­¥IO"></a>ç¬¬ä¸‰ç«  å¼‚æ­¥IO</h2><p>å¼‚æ­¥IOçœŸå¿ƒæ²¡å•¥å¯æçš„ï¼Œéœ€è¦çŸ¥é“çš„æ˜¯å¼‚æ­¥IOå®ç°çš„æ ¸å¿ƒæ˜¯äº‹ä»¶å¾ªç¯(è¿‡å»æ˜¯è½®è¯¢æŠ€æœ¯)ï¼Œä»–ä¸æµè§ˆå™¨ä¸­çš„æ‰§è¡Œæ¨¡å‹åŸºæœ¬ä¿æŒäº†ä¸€è‡´ã€‚</p><hr><p><br/><strong>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼</strong></p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[åŸ]æœ‰æ„æ€çš„å‰ç«¯é¢è¯•é¢˜-é™„ç­”æ¡ˆï¼ˆä¸€ï¼‰</title>
      <link href="/2017/03/14/"/>
      <url>/2017/03/14/</url>
      
        <content type="html"><![CDATA[<p>è¶…è¿‡20å®¶çš„å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ï¼Œæ¯å¤©åšä¸€ç‚¹ï¼Œä¸“æŒ‘æœ‰æ„æ€çš„åš </p><p>  æ­¤é¢è¯•é¢˜é¢˜ç›®éƒ¨åˆ†æ¥æºï¼š </p><p>  <a href="https://juejin.im/post/58c51b5c44d90400698da686?utm_source=gold_browser_extension">https://juejin.im/post/58c51b5c44d90400698da686?utm_source&#x3D;gold_browser_extension</a></p><p>1ï¼šå½“å‰ä¸€æ®µä»£ç è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><pre class="prettyprint"><span class="hljs-keyword">var</span> z = <span class="hljs-number">10</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span>{</span>    console.log(z);}(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(funArg)</span>{</span>    <span class="hljs-keyword">var</span> z = <span class="hljs-number">20</span>;    funArg();})(foo);</pre><p><strong>ã€ç­”æ¡ˆã€‘ï¼š10</strong> </p><p><strong>è¿™ä¸ªå…¶å®è¿˜æ˜¯è€ƒå¯Ÿå‡½æ•°çš„ä½œç”¨åŸŸå’Œé—­åŒ…çš„çŸ¥è¯†ï¼Œå› ä¸ºfooå‡½æ•°æ˜¯åœ¨ä¸€ä¸ªè‡ªæ‰§è¡ŒåŒ¿åå‡½æ•°é‡Œè°ƒç”¨ï¼Œåœ¨è¿™é‡Œé¢å£°æ˜çš„å˜é‡å…¶å®åœ¨å‡½æ•°fooä½“å¹¶ä¸ä¼šè®¿é—®åˆ°ï¼Œæ‰€ä»¥åœ¨å»æ‰¾çˆ¸çˆ¸ï¼Œå…¨å±€å£°æ˜çš„zï¼Œå³è¾“å‡º 10</strong></p><p>2.å½“å‰ä¸€æ®µä»£ç è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><pre class="prettyprint"><span class="hljs-title">var</span> <span class="hljs-typedef"><span class="hljs-keyword">data</span> = [];</span><span class="hljs-title">for</span>(var k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">3</span>; k++){        <span class="hljs-typedef"><span class="hljs-keyword">data</span>[k] = function<span class="hljs-container">()</span><span class="hljs-container">{            <span class="hljs-title">console</span>.<span class="hljs-title">log</span>(<span class="hljs-title">k</span>);        }</span>;</span>}<span class="hljs-typedef"><span class="hljs-keyword">data</span>[0]<span class="hljs-container">()</span>;</span><span class="hljs-typedef"><span class="hljs-keyword">data</span>[1]<span class="hljs-container">()</span>;</span><span class="hljs-typedef"><span class="hljs-keyword">data</span>[2]<span class="hljs-container">()</span>;</span></pre><p><strong>ã€ç­”æ¡ˆã€‘ï¼š 3 3 3</strong>  </p><p><strong>é—­åŒ…ï¼Œä¸å¤šè®²ï¼ŒæŠŠKçš„å£°æ˜æ¢æˆes6çš„å†™æ³•letå°±å¯ä»¥å˜æˆ 0 1 2</strong></p><p>3.å‡è®¾ç°æœ‰ä¸€ç¯‡æ–‡ç« ï¼Œvar content &#x3D; â€œâ€¦å¤§é‡æ–‡å­—â€ï¼Œ </p><p>æ–‡ç« ä¸­è§¦åŠåˆ°ä¸€äº›æ•æ„Ÿè¯æ±‡,å¦‚ [â€œä¹ è¿‘å¹³â€,â€å‘¨æ°¸åº·â€,â€ä¸­å…±â€,â€6.4â€] ç­‰å†…å®¹ã€‚ </p><p>å¦‚ä½•åœ¨æ–‡ç« ä¸­å‘ç°è¿™äº›æ•æ„Ÿè¯ï¼Œå¹¶å°†èƒŒæ™¯è®¾ç½®ä¸ºçº¢è‰²æˆ–è€…æ”¹å˜å­—ä½“é¢œè‰²å¹¶æ ‡ç¤ºå‡ºæ¥ã€‚</p><p><strong>ã€ç­”æ¡ˆã€‘</strong> </p><p><strong>åˆ©ç”¨æ­£åˆ™æ¥åšï¼Œæ–¹ä¾¿å¿«æ·</strong></p><pre class="prettyprint"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filter</span><span class="hljs-params">(content)</span> {</span>    <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>;    <span class="hljs-comment">// é¢„å…ˆè®¾ç½®çš„æ•æ„Ÿè¯</span>    <span class="hljs-keyword">var</span> minWords = [<span class="hljs-string">"ä¹ è¿‘å¹³"</span>, <span class="hljs-string">"å‘¨æ°¸åº·"</span>, <span class="hljs-string">"ä¸­å…±"</span>, <span class="hljs-string">"6.4"</span>];    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; content.length; i++) {        <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(minWords[i], <span class="hljs-string">"ig"</span>);        result = content.replace(reg, <span class="hljs-string">""</span>);    }    <span class="hljs-keyword">return</span> result;}</pre><p>4.<em>JQuery</em> ä¸­ <em>$.fn.extend</em> å‡½æ•°çš„å®ç°ï¼ˆå®ç°æ ¸å¿ƒä»£ç å³å¯ï¼‰ </p><p><strong>ã€ç­”æ¡ˆã€‘</strong> </p><p><strong>å…ˆæ¥çœ‹ä¸€ä¸‹extendçš„ç”¨æ³•ï¼Œ$.fn.extend ç”¨äºåˆå¹¶ä¸¤ä¸ªå¯¹è±¡æˆ–å¤šä¸ªå¯¹è±¡åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡ä¸Šï¼Œå®ƒä»¬çš„è¯­æ³•å¦‚ä¸‹ï¼š</strong></p><pre class="prettyprint">jQuery<span class="hljs-preprocessor">.extend</span>([deep],target,object1,[..<span class="hljs-preprocessor">.objectN</span>])jQuery<span class="hljs-preprocessor">.fn</span><span class="hljs-preprocessor">.extend</span>([deep],target,object1,[..<span class="hljs-preprocessor">.objectN</span>])</pre><p><strong>ä»¥ä¸‹æ˜¯æ ¸å¿ƒä»£ç ï¼ˆä»æºç æ‹·è¿‡æ¥çš„ï¼‰ï¼š</strong></p><pre class="prettyprint"><span class="hljs-comment">//å…³é”®ï¼šä¿®æ­£å‚æ•°deepã€targetã€æºå¯¹è±¡çš„èµ·å§‹ä¸‹æ ‡ =&gt; é€ä¸ªéå†æºå¯¹è±¡    </span>jQuery.extend = jQuery.fn.extend = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>    <span class="hljs-comment">/**      * options: æŒ‡å‘æŸä¸€ä¸ªæºå¯¹è±¡     * name: ä»£è¡¨æŸä¸ªæºå¯¹è±¡é‡Œçš„æŸä¸ªå±æ€§å     * src: ä»£è¡¨æŸä¸ªæºå¯¹è±¡é‡Œçš„æŸä¸ªå±æ€§çš„åŸå§‹çš„å€¼     * copy: è¡¨ç¤ºæŸä¸ªæºå¯¹è±¡é‡Œçš„æŸä¸ªå±æ€§çš„å€¼     * copyIsArray: è¡¨ç¤ºå˜é‡copyæ˜¯å¦ä¸ºæ•°ç»„     * clone: è¡¨ç¤ºè¿›è¡Œæ·±åº¦å¤åˆ¶æ—¶åŸå§‹å€¼çš„ä¿®æ­£å€¼     * target: æŒ‡å‘ç›®æ ‡å¯¹è±¡     * deep: è¡¨ç¤ºæ˜¯å¦æ‰§è¡Œæ·±åº¦å¤åˆ¶ï¼Œé»˜è®¤ä¸ºfalseä¸è¿›è¡Œ     */</span>    <span class="hljs-keyword">var</span> options, name, src, copy, copyIsArray, clone,        target = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {},        i = <span class="hljs-number">1</span>,        length = <span class="hljs-built_in">arguments</span>.length,        deep = <span class="hljs-literal">false</span>;    <span class="hljs-comment">//å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ—¶å¸ƒå°”å€¼ï¼Œå°±æŠŠç¬¬äºŒä¸ªå‚æ•°å½“åšæ˜¯ç›®æ ‡å¯¹è±¡</span>    <span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> target === <span class="hljs-string">"boolean"</span> ) {        deep = target;        target = <span class="hljs-built_in">arguments</span>[ i ] || {};        i++;    }    <span class="hljs-comment">//å¦‚æœç›®æ ‡å¯¹è±¡ä¸æ˜¯å¯¹è±¡æˆ–è€…ä¸€ä¸ªå‡½æ•°ï¼Œé‚£å°±å½“ä½œ ç©ºå¯¹è±¡ å¤„ç†</span>    <span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">"object"</span> &amp;&amp; !jQuery.isFunction(target) ) {        target = {};    }    <span class="hljs-comment">//æ²¡æœ‰ä¼ å…¥æºå¯¹è±¡çš„æƒ…å†µï¼ˆ1,åªæœ‰ä¸€ä¸ªå‚æ•° 2ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ—¶deepå€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å‚æ•°ï¼‰</span>    <span class="hljs-keyword">if</span> ( i === length ) {        target = <span class="hljs-keyword">this</span>;        i--;    }    <span class="hljs-keyword">for</span> ( ; i &lt; length; i++ ) {        <span class="hljs-keyword">if</span> ( (options = <span class="hljs-built_in">arguments</span>[ i ]) != <span class="hljs-literal">null</span> ) {            <span class="hljs-keyword">for</span> ( name <span class="hljs-keyword">in</span> options ) {                src = target[ name ];                copy = options[ name ];                <span class="hljs-keyword">if</span> ( target === copy ) {                    <span class="hljs-keyword">continue</span>;                }                <span class="hljs-comment">//è¦†ç›–æ‰åŒåå±æ€§</span>                <span class="hljs-keyword">if</span> ( deep &amp;&amp; copy &amp;&amp; ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {                    <span class="hljs-keyword">if</span> ( copyIsArray ) {                        copyIsArray = <span class="hljs-literal">false</span>;                        clone = src &amp;&amp; jQuery.isArray(src) ? src : [];                    } <span class="hljs-keyword">else</span> {                        clone = src &amp;&amp; jQuery.isPlainObject(src) ? src : {};                    }                    target[ name ] = jQuery.extend( deep, clone, copy );                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( copy !== <span class="hljs-literal">undefined</span> ) {                    target[ name ] = copy;                }            }        }    }    <span class="hljs-keyword">return</span> target;};</pre><p>5.è®¾è®¡åŸºäºè§‚å¯Ÿè€…æ¨¡å¼çš„äº‹ä»¶ç»‘å®šæœºåˆ¶ </p><p><strong>ã€ç­”æ¡ˆã€‘ï¼ˆæ­¤ç­”æ¡ˆä»£ç æ¥è‡ªç½‘ç»œï¼‰</strong> </p><p><strong>é¦–å…ˆè¦æ˜ç™½ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ç®€å•çš„è¯´ï¼Œå°±æ˜¯å½“ä¸€ä¸ªå¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨é€šçŸ¥å®ƒçš„ä¾èµ–å¯¹è±¡ã€‚è§‚å¯Ÿè€…æ¨¡å¼å…¶å®å°±æ˜¯å‘å¸ƒ-è®¢é˜…çš„è¿‡ç¨‹ã€‚</strong> </p><p><strong>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘æ¥å…¬å¸é¢è¯•çš„æ—¶å€™ï¼Œå®Œäº‹ä¹‹åæ¯ä¸ªé¢è¯•å®˜éƒ½ä¼šå¯¹æˆ‘è¯´ï¼šâ€œè¯·ç•™ä¸‹ä½ çš„è”ç³»æ–¹å¼ï¼Œ æœ‰æ¶ˆæ¯æˆ‘ä»¬ä¼šé€šçŸ¥ä½ â€ã€‚ åœ¨è¿™é‡Œâ€œæˆ‘â€æ˜¯è®¢é˜…è€…ï¼Œ é¢è¯•å®˜æ˜¯å‘å¸ƒè€…ã€‚æ‰€ä»¥æˆ‘ä¸ç”¨æ¯å¤©æˆ–è€…æ¯å°æ—¶éƒ½å»è¯¢é—®é¢è¯•ç»“æœï¼Œ é€šè®¯çš„ä¸»åŠ¨æƒæŒæ¡åœ¨äº†é¢è¯•å®˜æ‰‹ä¸Šã€‚è€Œæˆ‘åªéœ€è¦æä¾›ä¸€ä¸ªè”ç³»æ–¹å¼ã€‚</strong> </p><p><strong>ä»¥æ­¤ä¸ºä¾‹ï¼Œæ¥ç¼–å†™ä»£ç ï¼Œé¢è¯•è€…æŠŠç®€å†æ‰”åˆ°ä¸€ä¸ªç›’å­é‡Œï¼Œ ç„¶åé¢è¯•å®˜åœ¨åˆé€‚çš„æ—¶æœºæ‹¿ç€ç›’å­é‡Œçš„ç®€å†æŒ¨ä¸ªæ‰“ç”µè¯é€šçŸ¥ç»“æœ.</strong></p><pre class="prettyprint">Events = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>    <span class="hljs-keyword">var</span> listen, obj, one, remove, trigger, __this;    obj = {};    __this = <span class="hljs-keyword">this</span>;    listen = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(key, eventfn)</span> {</span> <span class="hljs-comment">//æŠŠç®€å†æ‰”ç›’å­, keyå°±æ˜¯è”ç³»æ–¹å¼.</span>        <span class="hljs-keyword">var</span> stack, _ref; <span class="hljs-comment">//stackæ˜¯ç›’å­</span>        stack = (_ref = obj[key]) != <span class="hljs-literal">null</span> ? _ref : obj[key] = [];        <span class="hljs-keyword">return</span> stack.push(eventfn);    };    one = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(key, eventfn)</span> {</span>        remove(key);        <span class="hljs-keyword">return</span> listen(key, eventfn);    };    remove = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(key)</span> {</span>        <span class="hljs-keyword">var</span> _ref;        <span class="hljs-keyword">return</span> (_ref = obj[key]) != <span class="hljs-literal">null</span> ? _ref.length = <span class="hljs-number">0</span> : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;    };    trigger = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-comment">//é¢è¯•å®˜æ‰“ç”µè¯é€šçŸ¥é¢è¯•è€…</span>        <span class="hljs-keyword">var</span> fn, stack, _i, _len, _ref, key;        key = <span class="hljs-built_in">Array</span>.prototype.shift.call(<span class="hljs-built_in">arguments</span>);        stack = (_ref = obj[key]) != <span class="hljs-literal">null</span> ? _ref : obj[key] = [];        <span class="hljs-keyword">for</span> (_i = <span class="hljs-number">0</span>, _len = stack.length; _i &lt; _len; _i++) {            fn = stack[_i];            <span class="hljs-keyword">if</span> (fn.apply(__this, <span class="hljs-built_in">arguments</span>) === <span class="hljs-literal">false</span>) {                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;            }        }    };    <span class="hljs-keyword">return</span> {        listen: listen,        one: one,        remove: remove,        trigger: trigger    }}</pre>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[åŸ]ç®€å•ç†è§£å†…å­˜ä¸­çš„å †æ ˆä¸æ•°æ®ç»“æ„ä¸­çš„å †æ ˆ</title>
      <link href="/2017/03/08/"/>
      <url>/2017/03/08/</url>
      
        <content type="html"><![CDATA[<p>ä¸€æ—¥ä¸­åˆï¼Œå¹³é™çš„åŠå…¬å®¤å¿½ç„¶å‘å‡ºè¿™æ ·ä¸€ä¸ªå£°éŸ³ï¼šä»€ä¹ˆæ˜¯å †æ ˆï¼Ÿ </p><p>äºæ˜¯ç¬é—´ï¼ŒåŠå…¬å®¤å¼€å§‹é—¹è…¾èµ·æ¥ </p><p>Aï¼šå †æ ˆå°±æ˜¯åè¿›åå‡º </p><p>Bï¼šå †å°±æ˜¯æ—¶é—´ç‰ºç‰²ç©ºé—´ï¼Œæ ˆå°±æ˜¯ç©ºé—´ç‰ºç‰²æ—¶é—´ </p><p>Cï¼šæ ˆæ›´å¿«ï¼Œå †å°±ç•¥å¾®æ…¢ä¸€ç‚¹ </p><p>Dï¼šâ€¦â€¦ </p><p>ä½œä¸ºåˆšæ¯•ä¸šçš„ç ç•œï¼Œå¬å®Œä¹‹åå°±æœ‰äº›æ‡µé€¼äº†ï¼ˆWTFï¼Œå †æ ˆè¿˜æœ‰è¿™ä¹ˆå¤šä¸œè¥¿å—ï¼Ÿï¼‰ï¼Œäºæ˜¯ä¸Šç½‘æœå¯»å„ç§èµ„æ–™ï¼Œå‘ç°äº†ä¸€ä¸ªåœ¨å¤§å­¦çŸ¥è¯†å®¹æ˜“æ··æ·†çš„çŸ¥è¯†ç‚¹ï¼Œé‚£å°±æ˜¯â€”â€”æ•°æ®ç»“æ„ä¸­çš„å †æ ˆä¸å†…å­˜ä¸­çš„å †æ ˆå­˜å‚¨æ˜¯ä¸åŒçš„</p><h2 id="æ•°æ®ç»“æ„ä¸­çš„å †æ ˆ"><a href="#æ•°æ®ç»“æ„ä¸­çš„å †æ ˆ" class="headerlink" title="æ•°æ®ç»“æ„ä¸­çš„å †æ ˆ"></a><strong>æ•°æ®ç»“æ„ä¸­çš„å †æ ˆ</strong></h2><p>å…ˆè¯´æ•°æ®ç»“æ„ä¸­çš„å †æ ˆï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬å¤§å­¦è¯¾ç¨‹ã€Šæ•°æ®ç»“æ„ã€‹ä¸­æ‰€å­¦åˆ°çš„ï¼Œé€šä¿—ä¸Šçš„å †æ ˆçš„ç†è§£ï¼Œå †å’Œæ ˆæ˜¯æ•°æ®å­˜å‚¨æ–¹å¼çš„ä¸¤ç§æ•°æ®ç»“æ„ã€‚å…³äºå †æ ˆï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“ææ··çš„åœ°æ–¹é‚£å°±æ˜¯é˜Ÿåˆ—ï¼Œå…¶å®è¿™ä¸‰ç§éƒ½æ˜¯æ•°æ®ç»“æ„ä¸­çš„ä¸€ç§æ’åºæ•°æ®ç»“æ„ </p><ul><li><p><strong>å †</strong>ï¼šå †çš„æ•°æ®æœºæ„å…¶å®å°±æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œå…·å †å±æ€§çš„æ•°æ®ç»“æ„æ‰å¯è¢«å«åšä¸ºå †ï¼Œå †å¸¸è§çš„åº”ç”¨å°±æ˜¯å †æ’åºä¸å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œä¸ºä»€ä¹ˆç”¨ï¼Ÿå› ä¸ºå¿«å•Š </p></li><li><p><strong>é˜Ÿåˆ—</strong>ï¼šå°±æ˜¯å…ˆè¿›å…ˆå‡ºçš„å­˜å‚¨æ–¹å¼ï¼Œç±»ä¼¼ä¸è¶…å¸‚ä»˜æ¬¾ï¼Œå…ˆä¹°çš„å…ˆèµ°ï¼Œä¸€èˆ¬ä¸æ ˆä½œæ¯”è¾ƒ </p></li><li><p><strong>æ ˆ</strong>ï¼šä¸é˜Ÿåˆ—ç›¸åï¼Œæ ˆçš„é¡ºåºæ˜¯åè¿›å…ˆå‡ºï¼Œåªå¯ä»¥åœ¨æ ˆé¡¶è¿›è¡Œæ“ä½œï¼Œç±»ä¼¼ä¸åªæœ‰ä¸€ä¸ªå‡ºå…¥å£çš„å…¬äº¤è½¦ï¼Œå…ˆä¸Šè½¦çš„åªèƒ½åæ¥ä¸‹è½¦</p></li></ul><p><strong>é€Ÿåº¦</strong> </p><p> é˜Ÿåˆ—ä¸æ ˆé€Ÿåº¦ç›¸å¯¹æ¥è¯´ï¼Œé˜Ÿåˆ—çš„æ›´å¿«äº›ï¼Œå› ä¸ºè®¾è®¡å¢åŠ åˆ é™¤çš„æ“ä½œæ—¶ï¼Œé˜Ÿåˆ—ä¸éœ€è¦æ”¹å˜æ•°æ®ç»“æ„ï¼Œè€Œæ ˆéœ€è¦ï¼Œæ‰€ä»¥éå†é€Ÿåº¦ç•¥ä½äº›ï¼Œè¿™äº›æ•°æ®ç»“æ„ä¸€èˆ¬è·Ÿç®—æ³•æœ‰ç‚¹å…³ç³»ï¼Œå…¶å®å¹³æ—¶æ•²ä»£ç ç”¨ä¸åˆ°çš„å¥½ä¸</p><p>ä»¥ä¸Šå°±æ˜¯æ•°æ®ç»“æ„ä¸­çš„å †æ ˆï¼Œæ¥ä¸‹æ¥è¯´ä¸‹å†…å­˜ä¸­çš„å †å’Œæ ˆ</p><h2 id="å†…å­˜ä¸­çš„å †å’Œæ ˆ"><a href="#å†…å­˜ä¸­çš„å †å’Œæ ˆ" class="headerlink" title="å†…å­˜ä¸­çš„å †å’Œæ ˆ"></a><strong>å†…å­˜ä¸­çš„å †å’Œæ ˆ</strong></h2><p>åœ¨å†…å­˜ä¸­çš„å †æ ˆï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯æ•°æ®æ“ä½œçš„å­˜åœ¨ä½ç½®ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ ˆæ˜¯å­˜æ”¾ä¸€äº›å¸¸é‡å­—é¢é‡ä¸€ç±»çš„ä¸œè¥¿ï¼Œè¿™äº›ä¸€èˆ¬æœ‰ç³»ç»Ÿè‡ªå·±æ§åˆ¶ç©ºé—´çš„å¼€è¾Ÿä¸é‡Šæ”¾ï¼Œè€Œå †æ˜¯å­˜æ”¾ä¸€äº›å®ä¾‹çš„å˜é‡ï¼Œç¨‹åºå‘˜éœ€è¦è‡ªå·±å»æ§åˆ¶ä½•æ—¶åœ¨å†…å­˜ä¸­åˆ†é…ç©ºé—´å’Œä½•æ—¶é‡Šæ”¾ï¼ˆå½“ç„¶ï¼Œè¿™ä¸ªä¹Ÿè·Ÿè¯­è¨€æœ‰å…³ç³»ï¼Œjavaå°±ç”±è™šæ‹Ÿæœºè‡ªè¡Œæ§åˆ¶ï¼Œc++å°±ä¸è¡Œäº†ï¼‰ </p><p><strong>é€Ÿåº¦</strong> </p><p>å…³äºé€Ÿåº¦ï¼ŒæŸ¥é˜…èµ„æ–™ï¼Œæ ˆçš„å­˜å‚¨ä¸€èˆ¬ä½äºä¸€çº§ç¼“å­˜ï¼Œå †çš„å­˜å‚¨ä½äºäºŒçº§ç¼“å­˜ï¼Œæ‰€ä»¥æ ˆçš„é€Ÿåº¦æ˜¯è¿œè¿œå¤§äºå †çš„ã€‚ï¼ˆå…³äºä¸€çº§ç¼“å­˜äºŒçº§ç¼“å­˜çš„é€Ÿåº¦å·®å¼‚è¯·çœ‹è¿™ä¸ªï¼š<a href="http://www.to8to.com/yezhu/v9652.html%20%E2%80%9C%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98%E5%8C%BA%E5%88%AB%E2%80%9D">http://www.to8to.com/yezhu/v9652.html</a>ï¼‰ </p><p><strong>ä»€ä¹ˆæ˜¯å †æ ˆæº¢å‡º</strong> </p><p>å †æ ˆæº¢å‡ºå°±æ˜¯ä¸é¡¾å †æ ˆä¸­åˆ†é…çš„å±€éƒ¨æ•°æ®å—å¤§å°ï¼Œå‘è¯¥æ•°æ®å—å†™å…¥äº†è¿‡å¤šçš„æ•°æ®ï¼Œå¯¼è‡´æ•°æ®è¶Šç•Œï¼Œç»“æœè¦†ç›–äº†åˆ«çš„æ•°æ®ã€‚æ„æ€å°±æ˜¯ï¼Œå‡å¦‚ä½ åœ¨å†…å­˜åˆ†é…äº†8å¤§å°ï¼Œè€Œä¼ å…¥çš„å€¼å´å¤§äºè¿™ä¸ªé•¿åº¦ï¼Œé‚£ä¹ˆå¤šä½™çš„é•¿åº¦å°±å¯èƒ½ä¼šè¦†ç›–å†…å­˜ä¸­çš„å…¶ä»–å…ƒç´ ï¼Œæ‰€ä»¥ä¼šå¾—åˆ°é”™è¯¯çš„è¿”å›ç»“æœã€‚å †æ ˆæº¢å‡ºä¸€èˆ¬æŒ‡çš„æ˜¯å †æº¢å‡ºï¼Œæ ˆæº¢å‡ºçš„æƒ…å†µæ¯”è¾ƒå°‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> å †æ ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitæœ¬åœ°pushä»£ç æŠ¥broken pipe</title>
      <link href="/2017/03/06/"/>
      <url>/2017/03/06/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹åŸºäºwindowså¼€å‘ç¯å¢ƒ</p><p>æœ€è¿‘åœ¨æœ¬åœ°å†™äº†ä¸€ç‚¹ä»£ç ï¼Œäºæ˜¯å°±æƒ³æŠŠå®ƒæ”¾åˆ°Githubä¸Šå»ï¼Œå‰é¢çš„æ­¥éª¤ä»€ä¹ˆçš„ä¸å¤šè¯´ï¼Œå°±æ˜¯æœ€ååœ¨pushä»£ç çš„æ—¶å€™æ€»æ˜¯è·‘å‡ºå¼‚å¸¸ </p><p>è¯ºï¼Œå°±æ˜¯ä¸‹é¢çš„è¿™ä¸ªæ ·å­çš„</p><p><img src="http://img.blog.csdn.net/20170306223640001?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzcwNzI0OQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>æœç´¢äº†å¾ˆå¤šèµ„æ–™ï¼Œå…ˆpullå†pushï¼Œåˆ é™¤è¿œç¨‹readmeæ–‡ä»¶ï¼Œç”šè‡³æƒ³åˆ°ç”¨gitosisé…ç½®æƒé™ï¼ˆéƒ½æ˜¯äº›ä»€ä¹ˆé¬¼ï¼Œæˆ‘ç‰¹ä¹ˆåˆä¸æ˜¯è¦è‡ªå·±æ­æœåŠ¡å™¨â€¦â€¦ï¼‰ï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰è§£å†³ã€‚æœ€åè€ƒè™‘æ˜¯githubé…ç½®é—®é¢˜ï¼ŒæŸ¥é˜…ä¸€äº›å…ˆäººçš„é—è¿¹ï¼Œç»ˆäºæ‰¾åˆ°è§£å†³åŠæ³•ã€‚perfect</p><p>ä¸ºäº†é˜²æ­¢ä»¥åé‡åˆ°æ„æƒ³ä¸åˆ°çš„é”™è¯¯ï¼Œå»ºè®®å°ç™½ä¿®æ”¹ä¸€ä¸‹é…ç½®</p><p><strong>ç¬¬ä¸€ï¼Œè®¾ç½®é•¿ä¹…è¿æ¥</strong></p><p>åœ¨gitå®‰è£…ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°&#x2F;etc&#x2F;ssh&#x2F;ssh_config,ç„¶åéšä¾¿ç”¨ä»€ä¹ˆç¼–è¾‘å™¨æ‰“å¼€ï¼Œæ·»åŠ </p><p>ä¸çŸ¥é“æ€ä¹ˆå†™çœ‹ç€é…ç½®æ–‡ä»¶ä¸Šé¢çš„æ ¼å¼æ¥å†™å°±è¡Œäº†</p><pre><code>Host *  ServerAliveInterval 120 </code></pre><p>è¿™ä¸ªé…ç½®çš„ä½œç”¨å°±æ˜¯ä¿è¯ssh ServerAliveIntervalå§‹ç»ˆè¿æ¥ï¼Œæˆ‘è¿™æ¬¡å‡ºç°é”™è¯¯çš„åŸå› å°±æ˜¯åœ¨æ— çº¿å±€åŸŸç½‘ç¯å¢ƒä¸‹ï¼Œsshè¿æ¥åˆ°è¿œç¨‹ä¸»æœºåå¦‚æœä¸€æ®µæ—¶é—´å†…ä¸æ“ä½œï¼Œå°±ä¼šå‡ºç°æ‰çº¿çš„æƒ…å†µï¼Œæ‰€ä»¥æœ€ååŠ ä¸Šæ­¤é…ç½®é¡¹</p><p><strong>ç¬¬äºŒï¼Œ ä¿®æ”¹postç¼“å­˜å¤§å°</strong> </p><p>å› ä¸ºå¦‚æœç¼“å­˜ä¸å¤Ÿç”¨ï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šå‘ç”Ÿbroken pipeçš„æƒ…å†µï¼Œæ‰€ä»¥æœ€å¥½çš„å¯¹postçš„ç¼“å­˜å¤§å°ä½œè®¾ç½® </p><p>è¿™ä¸ªå¾ˆç®€å•ï¼Œç›´æ¥åœ¨git bash ä¸Šè¾“å…¥git config http.postBuffer ï¼ŒvalueæŒ‡çš„å°±æ˜¯è®¾ç½®çš„ç¼“å­˜å¤§å°ï¼Œå¦‚ä¸‹ï¼š</p><pre class="prettyprint">git config <span class="hljs-keyword">http</span>.postBuffer <span class="hljs-number">52428800</span>52428800çš„å•ä½æ˜¯å­—èŠ‚ï¼Œgité»˜è®¤çš„æ˜¯1MBï¼Œæˆ‘ä»¬æŠŠå®ƒè®¾ç½®æˆ50MBä»¥ä¸Šï¼Œå°±å¯ä»¥åœ¨åŒæ€§ç½‘é‡Œå¼€å¿ƒçš„ç©è€äº†ã€‚* * *<br/>å‰ç«¯æ–°æ‰‹ï¼Œå¼±é¸¡ä¸€æšï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ï¼]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> çˆ¬å‘ä¹‹è·¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[åŸ]æ•™ä½ å¦‚ä½•ç”¨å‘½ä»¤è¡Œè£…é€¼ï¼Œåšä¸€ä¸ªæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜</title>
      <link href="/2016/10/17/"/>
      <url>/2016/10/17/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•™ä½ å¦‚ä½•ç”¨å‘½ä»¤è¡Œè£…é€¼ï¼Œåšä¸€ä¸ªæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜"><a href="#æ•™ä½ å¦‚ä½•ç”¨å‘½ä»¤è¡Œè£…é€¼ï¼Œåšä¸€ä¸ªæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜" class="headerlink" title="æ•™ä½ å¦‚ä½•ç”¨å‘½ä»¤è¡Œè£…é€¼ï¼Œåšä¸€ä¸ªæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜"></a><strong>æ•™ä½ å¦‚ä½•ç”¨å‘½ä»¤è¡Œè£…é€¼ï¼Œåšä¸€ä¸ªæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜</strong></h2><p>äº‹å…ˆå£°æ˜ï¼Œå¦‚æœä½ ä¸çŸ¥é“æ‰“å¼€windowsçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæˆ‘æ˜¯ç»å¯¹ä¸ä¼šå‘Šè¯‰ä½ æ˜¯ç”¨ <strong>windows+R</strong> ï¼Œç„¶åé”®å…¥ <strong>cmd</strong> æ‰“å¼€çš„</p><p>windows è‡ªå¸¦çš„å‘½ä»¤è¡Œå·¥å…·å¾ˆå¼ºå¤§ï¼Œæ¯•ç«Ÿè®¡ç®—æœºä¸€å¼€å§‹éƒ½æ˜¯ä»¥é”®å…¥å‘½ä»¤çš„æ–¹å¼æ¥æ“ä½œçš„ï¼Œä½†ç°å¦‚ä»Šè®¡ç®—æœºçš„å‘å±•ï¼Œè®¸å¤šåœ¨è¿‡å»éœ€è¦å»è®°å¤§é‡å‘½ä»¤æ‰èƒ½å®Œæˆçš„æ“ä½œï¼Œç°å¦‚ä»Šé€šè¿‡å‚»ç“œå¼çš„ç‚¹é€‰éƒ½å¯ä»¥å®Œæˆã€‚ä½œä¸ºä¸€åæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜ï¼Œåœ¨è®¡ç®—æœºå¦‚ä»Šå›¾å½¢ç•Œé¢ç‚¹é€‰æ“ä½œçš„æ´ªæµä¸­æ¼‚çš„è¶Šæ¥è¶Šè¿œï¼Œå¦‚ä½•ä¿è¯ç¨‹åºå‘˜è¯†è´§è€Œä¸è„‘æ®‹ã€åŠ¡å®è€Œä¸é—·éªšçš„æœ¬æ€§å‘¢ï¼Œé‚£å°±ä¸å¦¨ç”¨å›å‘½ä»¤è¡Œå§ã€‚</p><p>æœ¬æ–‡å°†ä»‹ç»å‡ ä¸ªå…³äºå‘½ä»¤è¡Œå·¥å…·çš„å°æŠ€å·§ï¼Œå…¨éƒ½æ˜¯å·¥ä½œä¹‹åé‡åˆ°ï¼Œçœ‹åˆ°èƒ½è£…é€¼ï¼Œä¸å¯¹ï¼Œçœ‹åˆ°å¯¹å·¥ä½œæœ‰å¾ˆå¤§çš„å¸®åŠ©æ‰€ä»¥å°±éƒ½è®°ä¸‹äº†</p><ul><li><strong>1.å¤–è§‚é…ç½®ç¯‡</strong></li></ul><p>å¦‚æœä½ è§‰å¾—windowsé»‘åº•ç™½å­—çš„å‘½ä»¤è¡Œé¢æ¿å¾ˆæ¼‚äº®ï¼Œå¯¹ä¸èµ·ï¼Œæˆ‘ä»¬åˆ†æ‰‹å§ã€‚æˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººä¸æ„¿æ„ç”¨å‘½ä»¤è¡Œçš„åŸå› å°±æ˜¯ä»–å®åœ¨æ˜¯å¤ªä¸‘äº†ï¼Œæ‰€ä»¥ï¼Œç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå‘½ä»¤è¡Œé…ç½®çš„å¥½çœ‹èˆ’æœä¸€äº›ï¼Œè™½ç„¶è‚¯å®šæ¯”ä¸ä¸Š<strong>sublime</strong>ã€<strong>atom</strong>é‚£ç§ç¥çº§çš„ç¼–è¾‘ç•Œé¢ï¼Œä½†ä¹Ÿä¸èƒ½æ¯”<strong>notePad</strong>å·®å¤ªå¤šå§ï¼Œå¥½äº†æˆ‘è‡ªå·±é…ç½®çš„ç•Œé¢å¤§è‡´å°±æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­å§ </p><p><img src="http://img.blog.csdn.net/20161017131431540" alt="å›¾1"></p><p>å…¶å®ä¹Ÿå°±æ˜¯æ¢æˆäº†çœ‹èµ·æ¥æ›´èˆ’æœçš„ç™½åº•é»‘å­—ï¼Œæ”¹æˆäº†æˆ‘è‡ªå·±æ›´å–œæ¬¢çš„æ–°å®‹ä½“å­—ä½“ã€‚è€Œä½ æ‰€éœ€è¦åšçš„å°±æ˜¯ï¼Œå³é”®æ ‡é¢˜é€‰æ‹©å±æ€§æ‰“å¼€ï¼Œä½ çœ‹åˆ°å°±æ˜¯è¿™ä¸ªæ ·å­çš„äº† </p><p><img src="http://img.blog.csdn.net/20161017131721718" alt="å›¾2"></p><p>é…ç½®æ˜¯ç›¸å½“ç®€å•çš„ï¼Œå…·ä½“çœ‹ä¸ªäººå–œæ¬¢ï¼Œå…·ä½“å°±ä¸å¤šè°ˆäº†ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªéœ€è¦getçš„ç‚¹æ˜¯ï¼š </p><p> å¦‚æœä½ å—å¤Ÿäº†å‘½ä»¤çª—å£å†™ç€å†™ç€å°±çœ‹ä¸åˆ°ä¹‹å‰çš„äº†ï¼Œé‚£ä¹ˆä½ éœ€è¦åšçš„æ˜¯è®¾ç½®ç¼“å†²å¤§å°ï¼Œå¯¹äºæˆ‘ï¼Œ200 OK;å¦å¤–ä¸€ä¸ªæ˜¯è®°å¾—æ‰“å¼€å¿«é€Ÿç¼–è¾‘åŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆè¦æ‰“å¼€è¿™ä¸ªï¼Œåè¾¹å†è¯´ </p><p><img src="http://img.blog.csdn.net/20161017131903547" alt="å›¾3"></p><p>åšåˆ°è¿™å„¿ï¼Œå°±å·®ä¸å¤šäº†ï¼Œä½†è¿˜æ˜¯å·®ç‚¹ï¼Œå¯¹äºè‡ªå·±çš„å‘½ä»¤çª—å£æ€ä¹ˆå¯ä»¥ç”¨æ–‡ä»¶ç›®å½•è¿™ä¹ˆlowçš„æ ‡è¯†ï¼Œå½“ç„¶è¦æœ‰è‡ªå·±çš„ä¸ªæ€§,é”®å…¥å‘½ä»¤ title + â€˜åå­—â€™ï¼Œå‰©ä¸‹çš„å°±è‡ªå·±ä½“ä¼šå»å§ </p><p><em>psï¼šå…¶å®ç½‘ä¸Šè¿˜æœ‰ä¸€äº›ç¾åŒ–å‘½ä»¤çª—å£çš„å·¥å…·ï¼Œæ¯”å¦‚ç±»ä¼¼é›ªè±¹çš„é€æ˜é£æ ¼ï¼Œå¯ä»¥è‡ªè¡Œé’»ç ”</em></p><ul><li><strong>2.èƒ½ä¸èƒ½å¿«ç‚¹æ•²å‘½ä»¤ç¯‡</strong></li></ul><p>å‘½ä»¤è¡Œå¦å¤–ä¸€ä¸ªè®©äººæŠ“ç‹‚çš„åœ°æ–¹æ˜¯å®ƒå¯¹äºå¤åˆ¶ç²˜è´´åæ‰§çš„ç†è§£ï¼Œæ›¾ç»çš„æˆ‘æ·±å—å…¶å®³ï¼Œåœ¨æˆ‘è¿˜æ˜¯ä¸ªèœé¸Ÿçš„æ—¶å€™ï¼Œä¸ºäº†è¾¾åˆ°å¤åˆ¶ç²˜è´´çš„æ•ˆæœï¼Œæˆ‘éœ€è¦å³é”®æ ‡è®°ï¼Œç„¶åå¤åˆ¶ï¼Œç²˜è´´çš„æ—¶å€™è¿˜è¦è®°å¾—å³é”®ç²˜è´´ï¼Œä½ ä¸€ç›´å–œæ¬¢çš„ ctrl+V æ˜¯ä¸å¯ä»¥çš„ï¼Œå®åœ¨è®©äººæŠ“ç‹‚ã€‚ä½†ç°åœ¨ä¸ä¸€æ ·äº†ï¼Œä½ ä¸€å®šè§è¿‡åˆ«äººæ“ä½œå‘½ä»¤å·¥å…·å¯ä»¥æœ‰è¿™æ ·çš„ç•Œé¢  </p><p><img src="http://img.blog.csdn.net/20161017132157626" alt="å›¾4"></p><p>æˆ–è®¸è§è¿‡å¤§ç¥ä¸ç”¨é”®ç›˜ï¼Œåªç‚¹ä¸€ä¸‹é¼ æ ‡å°±å¯ä»¥å¤åˆ¶å¤§æ®µçš„å‘½ä»¤ã€‚è¿™äº›éƒ½æ˜¯å› ä¸ºå…¶å®windowså·²ç»æä¾›äº†ä¸€äº›å¯ä»¥å¿«é€Ÿç¼–è¾‘å‘½ä»¤çš„å°æŠ€èƒ½ï¼Œæˆ‘çŸ¥é“ä½ å·²ç»æƒ³è¦å¬äº†ã€‚</p><p>è¿˜è®°å¾—åˆšåˆšè¯´è¿‡çš„æ‰“å¼€å¿«é€Ÿç¼–è¾‘çš„é€‰é¡¹å—ï¼Ÿä½ åªæœ‰æ‰“å¼€äº†å‹¾é€‰äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½ æ‰çœŸæ­£çš„è§£æ”¾äº†å‘½ä»¤çª—å£ã€‚å¦‚æœä½ æƒ³å¤åˆ¶ä¸€æ®µå‘½ä»¤ï¼Œå¤šè¡Œçš„ä¹ŸOKï¼Œä½ æ‰€éœ€è¦åšçš„å°±æ˜¯é€‰ä¸­ä½ è¦å¤åˆ¶çš„å‘½ä»¤ï¼Œç„¶åå•å‡»å³é”®ï¼Œå‘½ä»¤å°±å·²ç»è¢«å¤åˆ¶åœ¨å‰ªè´´æ¿ä¸Šäº†ï¼Œå¦‚æœä½ æƒ³ç²˜è´´å‘½ä»¤ï¼Œæ›´ç®€å•ï¼Œé€‰æ‹©è¦æ’å…¥çš„ä½ç½®ï¼Œå³é”®å•å‡»ï¼Œç„¶åä½ ä¼šå‘ç°å‘½ä»¤å·²ç»è¢«å¤åˆ¶ä¸Šäº†ã€‚</p><p>å½“ç„¶è¿™éƒ½æ˜¯åˆçº§çš„ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„æ–¹å¼æ¥æ“ä½œ</p><ul><li><strong>F3 å¿«é€Ÿå¤åˆ¶ä¸Šä¸€æ¬¡çš„å‘½ä»¤</strong><br><em>æŒ‰ä¸‹F3ï¼Œä½ å¯ä»¥å¿«é€Ÿå¤åˆ¶ä¸Šä¸€æ¬¡æ‰§è¡Œçš„å‘½ä»¤ï¼Œä½ åŒæ ·çš„å¯ä»¥é€šè¿‡é”®å…¥ä¸Šä¸‹é”®æ¥å¿«é€Ÿé€‰æ‹©å‘½ä»¤ï¼ˆåæ­£æˆ‘è§‰å¾—è¿˜æ²¡æœ‰ç”¨ä¸Šä¸‹é”®æ–¹ä¾¿ï¼‰</em></li><li><strong>F1 å¤åˆ¶ä¸Šä¸€æ¬¡å‘½ä»¤ï¼Œä½†æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦çš„å¤åˆ¶</strong><br><em>æŒ‰ä¸‹F3åªèƒ½å¤åˆ¶ä¸€è¡Œæ˜¯ä¸æ˜¯æœ‰ç‚¹å‘ï¼Œå¦‚æœä½ æƒ³è¦ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦çš„å¤åˆ¶ï¼Œé‚£ä¹ˆä½ çš„åšæ³•å°±æ˜¯ä¸åœçš„æŒ‰F1å°±è¡Œäº†</em></li><li><strong>F2 è¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åå¤åˆ¶è¿™ä¸ªå­—ç¬¦ä¹‹å‰çš„å‘½ä»¤</strong><br><em>*å‡å¦‚ä½ ä¸Šä¸€ä¸ªå‘½ä»¤æ˜¯ â€˜net helpâ€™ ,æŒ‰ä¸‹F2ï¼Œç„¶åé”®å…¥ hï¼Œä½ ä¼šå‘ç°net å·²ç»è¢«å¤åˆ¶å¥½äº†ï¼Œæ˜¯ä¸æ˜¯66çš„æ„Ÿè§‰</em></li><li><strong>F7 æ˜¾ç¤ºæ‰€æœ‰ä½¿ç”¨è¿‡çš„å‘½ä»¤ï¼ŒæŒ‰ä¸Šä¸Šä¸‹ä¸‹ï¼ŒBABAå¯ä»¥é€‰æ‹©</strong><br><em>è¿™ä¸€æ¬¡ï¼Œä½ æ‰€ç”¨è¿‡çš„å‘½ä»¤éƒ½ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œä½ å¯ä»¥ä¸Šä¸‹å·¦å³å‰å‰ååè¿›è¡Œé€‰æ‹©ï¼Œå†ä¹Ÿæ²¡æœ‰æ¯”è¿™æ›´ç›´è§‚çš„æ–¹å¼äº†</em></li><li><strong>Tab å¿«é€Ÿè¡¥å…¨å­˜åœ¨çš„æ–‡ä»¶ç›®å½•å</strong><br><em>è™½ç„¶ä¸æ˜¯ç‰¹åˆ«å¼ºå¤§ï¼Œä½†æ˜¯ç”¨èµ·Tabé”®è¡¥å…¨çš„æ„Ÿè§‰æ˜¯ä¸æ˜¯æœ‰ç§æ•²ä»£ç çš„feeling</em></li></ul><p>çŸ¥é“è¿™äº”ä¸ªæŒ‰é”®å‘½ä»¤ï¼Œå·®ä¸å¤šå°±å¤Ÿäº†ï¼Œæƒ³å½“åˆæˆ‘ä¹Ÿæ˜¯é è¿™5ä¸ªå‘½ä»¤ï¼Œä»ä¸€ä¸ªèœé¸Ÿå˜æˆäº†ç°å¦‚ä»Šçš„æ›´èœçš„èœé¸Ÿ</p><ul><li><strong>3.ç»ˆæå‘½ä»¤</strong></li></ul><p>è¯´å¥½äº†æ˜¯åšæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜å‘¢ï¼Œæ€ä¹ˆè¯´çš„å…¨æ˜¯è·Ÿç¨‹åºæ²¡å¤šå¤§å…³ç³»çš„ä¸œè¥¿ã€‚å½“ç„¶å–½ï¼Œæˆ‘ä»Šå¤©å‹æ ¹æ²¡æƒ³è¯´ä¸€äº›ç±»ä¼¼ â€˜mkdirâ€™ â€˜cd xxooâ€™ä¹‹ç±»çš„å‘½ä»¤ï¼Œè¿™ç§ç±»ä¼¼çš„å‘½ä»¤ä½ åªæœ‰è‡ªå·±å»æœç´¢ç„¶åè‡ªå·±å»æ•²æ‰ä¼šå‘ç°å®ƒçš„å¥½ç©å„¿ã€‚è€Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œå¯¹äºwindowsæ¥è¯´ï¼Œå‘½ä»¤å¥½ç©çš„åœ°æ–¹çœŸçš„éœ€è¦ä½ è‡ªå·±å»æ‘¸ç´¢ï¼Œå¦‚æœä½ æ˜¯åœ°çƒä¸Šæœ€å¤§çš„åŒæ€§æ‹äº¤å‹ç½‘ç«™gitä¸Šçš„ä¸€å‘˜ï¼Œå¦‚æœä½ æ˜¯nodeçš„å¿ ç²‰ï¼Œé‚£ä¹ˆæˆ‘æƒ³ä½ ä¸€å®šè¦å­¦ä¼šç©å„¿å‘½ä»¤è¡Œå·¥å…·ã€‚åŒæ ·çš„å¯¹äºç”µè„‘å°ç™½æ¥è¯´ï¼Œå­¦ä¼šä¸€äº›â€˜é«˜å¤§ä¸Šâ€™çš„å‘½ä»¤æ“ä½œï¼ŒåŒæ ·ä¼šè®©ä½ é€¼æ ¼æ»¡æ»¡</p><blockquote><p><strong>ä¼Ÿå¤§çš„ç¨‹åºå‘˜å¸ƒä»€.æ²ƒç¡•å¾·æ›¾è¯´è¿‡ï¼šç¨‹åºå‘˜æœ€ä¼Ÿå¤§çš„åœ°æ–¹ä¸æ˜¯åˆ›é€ ï¼Œè€Œæ˜¯ä¸€ä»½æƒ³è¦ä¸æ–­æ‘¸ç´¢çš„åæ‰§</strong></p></blockquote><p>æ‹œäº†ä¸ªæ‹œï¼ˆä¸‹æ¬¡æœ‰ç©ºç©win10ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> å‘½ä»¤è¡Œ </tag>
            
            <tag> è£…é€¼å¿…å¤‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[åŸ]å¦‚ä½•ç”¨ html+css å®ç°å¹³è¡Œå››è¾¹å½¢ï¼Œä»¥åŠæ°”æ³¡æ¡†å‘¢ï¼Ÿ</title>
      <link href="/2016/08/02/"/>
      <url>/2016/08/02/</url>
      
        <content type="html"><![CDATA[<p><strong>ã€æ•ˆæœå›¾ã€‘</strong> </p><p>é¦–å…ˆè¯´ä¸€ä¸‹å¹³è¡Œå››è¾¹å½¢ï¼Œæƒ³è¦åšæˆçš„æ•ˆæœå¤§è‡´æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„ </p><p><img src="http://img.blog.csdn.net/20160801103810284" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><strong>ã€æ€è·¯ã€‘</strong> </p><p>å¦‚æœè€ƒè™‘ç”¨æ˜¨å¤©çš„æ–¹æ³•ï¼Œåˆ©ç”¨ border è¾¹ç•Œå€¼ï¼Œå°±å¯ä»¥åˆ†è§£æˆ ä¸€ä¸ªå³ä¸‰è§’+çŸ©å½¢+ä¸Šä¸‰è§’ï¼ˆè¿™é‡Œå³ï¼Œä¸Šçš„æ„æ€æŒ‡çš„æ˜¯éœ€è¦åŠ ä¸Šé¢œè‰²æ˜¾ç¤ºçš„è¾¹ç•Œé¢œè‰²ï¼‰ï¼Œä½†è¿™æ ·å°±æŒºå¤æ‚äº†ï¼Œæ‰€ä»¥è¦æ¢ä¸€ç§æ–¹æ³•æ¥åš</p><p><strong>ã€åšæ³•ã€‘</strong> </p><p>å…¶å®åˆ©ç”¨ä¸Šæ¬¡è¯´çš„ css3 çš„å±æ€§ transform å±æ€§æ¥è®¾ç½®</p><pre class="prettyprint"><span class="hljs-rules">{    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> inline-block</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">5</span>px <span class="hljs-number">20</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1</span>px solid <span class="hljs-hexcolor">#44a5fc</span></span></span>;    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#333</span></span></span>;    <span class="hljs-rule"><span class="hljs-attribute">transform</span>:<span class="hljs-value"> <span class="hljs-function">skew(-<span class="hljs-number">20</span>deg)</span></span></span>; <span class="hljs-comment">/* å®šä¹‰æ²¿ç€ X å’Œ Y è½´çš„ 2D å€¾æ–œè½¬æ¢*/</span><span class="hljs-rule">}</span></span></pre><p><strong>ã€æ³¨æ„ã€‘</strong> </p><p>ä½†æ˜¯è¿™ä¹ˆåšï¼Œæœ‰ä¸ªæ³¨æ„çš„åœ°æ–¹å°±æ˜¯ï¼Œå¦‚æœå½“å‰ç›’å­é‡ŒåŒ…è£¹å…¶ä»–å†…å®¹ï¼Œè¿™ä¸ªå…¶ä»–å†…å®¹ä¹Ÿä¼šè·Ÿç€æ—‹è½¬ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§æ•ˆæœï¼Œéœ€è¦åœ¨å†…éƒ¨é‡æ–°åŠ ä¸€ä¸ªç›’å­ï¼Œå¹¶å¯¹è¿™ä¸ªç›’å­è¿›è¡Œä¸€ä¸ªé€†å‘çš„ transformï¼Œè¿™æ ·å°±å®ç°äº†å¹³è¡Œå››è¾¹å½¢äº†ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå±æ€§çš„äº‹æƒ…  </p><p><strong>ã€æ€è€ƒã€‘</strong> </p><p>è¦æ˜¯ä¸ªæ¢¯å½¢ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æ¥ä¸‹æ¥å†è¯´ä¸€ä¸‹æ€ä¹ˆåˆ¶ä½œä¸€ä¸ªç±»ä¼¼ tooltip çš„æ°”æ³¡æç¤ºæ¡†å‘¢ï¼Ÿ </p><p><strong>ã€æ•ˆæœå›¾ã€‘</strong> </p><p>å…ˆçœ‹ä¸€ä¸‹å¤§è‡´çš„æ•ˆæœ </p><p><img src="http://img.blog.csdn.net/20160801104015487" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"> </p><p><strong>ã€æ€è·¯ã€‘</strong> </p><p>å…¶å®åšèµ·æ¥ä¹Ÿç›¸å½“çš„ç®€å•ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªç›’å­åŠ ä¸€ä¸ªä¸‰è§’å½¢å°±è¡Œï¼Œç„¶åæ§åˆ¶å¥½å®šä½çš„é—®é¢˜å°±å¯ä»¥åšåˆ°</p><p><strong>ã€åšæ³•ã€‘</strong> </p><p>åœ¨æœ‰ä¸€ä¸ªå«åš rectangle çš„ç›’å­ï¼Œç„¶ååœ¨è¿™ä¸ªç›’å­é‡Œé¢æœ‰ä¸€ä¸ª trangle çš„ç›’å­</p><pre class="prettyprint"><span class="hljs-class">.rectangle</span><span class="hljs-rules">{    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value">relative</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"><span class="hljs-number">150</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"><span class="hljs-number">35</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value">green</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"><span class="hljs-number">5</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"><span class="hljs-number">30</span>px auto <span class="hljs-number">0</span></span></span>;    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value">white</span></span>; <span class="hljs-rule">}</span></span><span class="hljs-class">.rectangle</span> <span class="hljs-class">.trangle</span><span class="hljs-rules">{    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value">absolute</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">12</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value">-<span class="hljs-number">16</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"><span class="hljs-number">0</span></span></span>;    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"><span class="hljs-number">0</span></span></span>;    <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"><span class="hljs-number">0</span></span></span>;    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value">solid <span class="hljs-number">8</span>px</span></span>;    <span class="hljs-rule"><span class="hljs-attribute">border-color</span>:<span class="hljs-value">transparent transparent transparent green</span></span>;<span class="hljs-rule">}</span></span>ç„¶åå·®ä¸å¤šå°±å¯ä»¥å®ç°äº† **ã€æ³¨æ„ã€‘** æœ‰ä¸€ä¸ªæ³¨æ„çš„åœ°æ–¹å°±æ˜¯ position çš„ä½¿ç”¨ï¼Œåœ¨å¤–éƒ¨ç›’å­çš„æ˜¯ä¸€å®šè¦ä½¿ç”¨ç›¸å¯¹å®šä½çš„ **ã€æ€è€ƒã€‘** éœ€è¦åšä¸€ä¸ªä¸è§„åˆ™çš„å°ä¸‰è§’å‘¢ï¼Ÿï¼ˆå…¶å®åº”è¯¥æ˜¯ç±»ä¼¼çš„ï¼Œå°±æ˜¯ç”¨ä¸åŒç±»å‹çš„ä¸‰è§’å½¢å±‚å±‚çš„é®ç½©ï¼Œæˆ–è€…åˆ©ç”¨ css3 çš„2Då˜æ¢å±æ€§æ¥å®ç°ï¼‰]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ–°è®¤è¯† MVC å’Œ ä¸‰å±‚è®¾è®¡æ¨¡å¼</title>
      <link href="/2016/08/01/"/>
      <url>/2016/08/01/</url>
      
        <content type="html"><![CDATA[<h1 id="é‡æ–°è®¤è¯†-MVC-å’Œ-ä¸‰å±‚è®¾è®¡æ¨¡å¼"><a href="#é‡æ–°è®¤è¯†-MVC-å’Œ-ä¸‰å±‚è®¾è®¡æ¨¡å¼" class="headerlink" title="é‡æ–°è®¤è¯† MVC å’Œ ä¸‰å±‚è®¾è®¡æ¨¡å¼"></a>é‡æ–°è®¤è¯† MVC å’Œ ä¸‰å±‚è®¾è®¡æ¨¡å¼</h1><p>é¦–å…ˆä¸å¾—ä¸æ‰¿è®¤ï¼Œèº«è¾¹æœ‰ä¸€ç¾¤8å¹´+å·¥ä½œç»éªŒçš„å¤§ç‰›å°±æ˜¯çˆ½ï¼Œçº æ­£äº†æˆ‘ä¸€ä¸ªè®¤çŸ¥ä¸Šçš„é”™è¯¯</p><p>é¦–å…ˆæ¥çœ‹ä¸€ä¸‹å®˜æ–¹çš„è§£é‡Šï¼š</p><blockquote><p><strong>MVC</strong>ï¼š </p><p>  MVCå…¨åæ˜¯Model View Controllerï¼Œæ˜¯æ¨¡å‹(model)ï¼è§†å›¾(view)ï¼æ§åˆ¶å™¨(controller)çš„ç¼©å†™ï¼Œä¸€ç§è½¯ä»¶è®¾è®¡å…¸èŒƒï¼Œç”¨ä¸€ç§ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€ç•Œé¢æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•ç»„ç»‡ä»£ç ï¼Œå°†ä¸šåŠ¡é€»è¾‘èšé›†åˆ°ä¸€ä¸ªéƒ¨ä»¶é‡Œé¢ï¼Œåœ¨æ”¹è¿›å’Œä¸ªæ€§åŒ–å®šåˆ¶ç•Œé¢åŠç”¨æˆ·äº¤äº’çš„åŒæ—¶ï¼Œä¸éœ€è¦é‡æ–°ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚MVCè¢«ç‹¬ç‰¹çš„å‘å±•èµ·æ¥ç”¨äºæ˜ å°„ä¼ ç»Ÿçš„è¾“å…¥ã€å¤„ç†å’Œè¾“å‡ºåŠŸèƒ½åœ¨ä¸€ä¸ªé€»è¾‘çš„å›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢çš„ç»“æ„ä¸­ã€‚ </p><p>  <img src="http://img.blog.csdn.net/20160801101537117" alt="MVCå›¾"> </p><p>  <strong>ä¸‰å±‚æ¶æ„è®¾è®¡æ¨¡å¼</strong>ï¼š </p><ul><li>è¡¨ç°å±‚ï¼ˆUIï¼‰ï¼šé€šä¿—è®²å°±æ˜¯å±•ç°ç»™ç”¨æˆ·çš„ç•Œé¢ï¼Œå³ç”¨æˆ·åœ¨ä½¿ç”¨ä¸€ä¸ªç³»ç»Ÿçš„æ—¶å€™ä»–çš„æ‰€è§æ‰€å¾—ã€‚</li><li>ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBLLï¼‰ï¼šé’ˆå¯¹å…·ä½“é—®é¢˜çš„æ“ä½œï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å¯¹æ•°æ®å±‚çš„æ“ä½œï¼Œå¯¹æ•°æ®ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚</li><li>æ•°æ®è®¿é—®å±‚ï¼ˆDALï¼‰ï¼šè¯¥å±‚æ‰€åšäº‹åŠ¡ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Œé’ˆå¯¹æ•°æ®çš„å¢æ·»ã€åˆ é™¤ã€ä¿®æ”¹ã€æ›´æ–°ã€æŸ¥æ‰¾ç­‰ã€‚</li></ul></blockquote><p>æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œå› ä¸ºè€å¸ˆå¤œä»¥ç»§æ—¥å¯¹æˆ‘è®²ï¼ŒMVCä¸‰å±‚æ¨¡å¼ï¼Œä»è€Œå¯¼è‡´æˆ‘å°†è¿™ä¸¤ä¸ªä¸œè¥¿ææ··äº†ã€‚æ‰€ä»¥ç°åœ¨æˆ‘æ¥é‡æ–°ç†è§£ä¸‹ã€‚</p><p>ç®€å•çš„è¯´ï¼š </p><ul><li><p>MVC æ˜¯åº”ç”¨åœ¨ä¸‰å±‚æ¶æ„æ¨¡å¼ä¸­è¡¨ç°å±‚é‡Œé¢çš„ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒï¼Œå®ƒåªå­˜åœ¨äºè¡¨ç°å±‚ï¼Œå®ƒä¸æ˜¯ä¸€ç§æ¶æ„è®¾è®¡è§„èŒƒï¼åœ¨è¡¨ç°å±‚çš„è®¾è®¡è¿˜æœ‰ MVVMï¼ŒMVPç­‰ï¼Œåœ¨è¿™é‡Œçš„modelï¼Œåº”è¯¥ç†è§£ä¸ºviewModel,viewå°±æ˜¯webç•Œé¢ï¼Œcontrolleråˆ™æ˜¯é¡µé¢è¯·æ±‚çš„é€»è¾‘å¤„ç†</p></li><li><p>ä¸‰å±‚æ¶æ„è®¾è®¡æ˜¯ä¸€ç§æ¶æ„è®¾è®¡æ–¹æ¡ˆï¼Œç›¸å¯¹æ¥è¯´ç†è§£èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ä½“æ¨¡å‹å¹¶ä¸èƒ½ç®—ä½œæ˜¯ä¸€ä¸ªå±‚</p></li></ul><p>å…·ä½“çš„ç†è§£ç”»ä¸€ä¸ªå›¾å§</p><p><img src="http://img.blog.csdn.net/20160801101043248" alt="MVC ä¸‰å±‚æ¨¡å¼å›¾è§£"></p><p>ç„¶åç¨å¾®çš„è¯´ä¸€ä¸‹MVVMå’ŒMVP</p><ul><li><p>MVVMï¼š ä¸»è¦ç”¨æ¥åš WPF</p></li><li><p>MVPï¼š   MVPå’ŒMVCå¾ˆåƒï¼Œä½†æ˜¯æœ‰ç‚¹åŒºåˆ«ã€‚åœ¨MVPä¸­Viewå¹¶ä¸ç›´æ¥ä½¿ç”¨Modelï¼Œå®ƒä»¬ä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡Presenter (MVCä¸­çš„Controller)æ¥è¿›è¡Œçš„ï¼Œæ‰€æœ‰çš„äº¤äº’éƒ½å‘ç”Ÿåœ¨Presenterå†…éƒ¨ï¼Œè€Œåœ¨MVCä¸­Viewä¼šç›´æ¥ä»Modelä¸­è¯»å–æ•°æ®è€Œä¸æ˜¯é€šè¿‡ Controllerã€‚</p></li><li><p>MVC: åœ¨MVCé‡Œï¼ŒViewæ˜¯å¯ä»¥ç›´æ¥è®¿é—®Modelçš„ï¼ä»è€Œï¼ŒViewé‡Œä¼šåŒ…å«Modelä¿¡æ¯ï¼Œä¸å¯é¿å…çš„è¿˜è¦åŒ…æ‹¬ä¸€äº›ä¸šåŠ¡é€»è¾‘ã€‚ åœ¨MVCæ¨¡å‹é‡Œï¼Œæ›´å…³æ³¨çš„Modelçš„ä¸å˜ï¼Œè€ŒåŒæ—¶æœ‰å¤šä¸ªå¯¹Modelçš„ä¸åŒæ˜¾ç¤ºï¼Œå³Viewã€‚æ‰€ä»¥ï¼Œåœ¨MVCæ¨¡å‹é‡Œï¼ŒModelä¸ä¾èµ–äºViewï¼Œä½†æ˜¯Viewæ˜¯ä¾èµ–äºModelçš„ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå› ä¸ºæœ‰ä¸€äº›ä¸šåŠ¡é€»è¾‘åœ¨Viewé‡Œå®ç°äº†ï¼Œå¯¼è‡´è¦æ›´æ”¹Viewä¹Ÿæ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œè‡³å°‘é‚£äº›ä¸šåŠ¡é€»è¾‘æ˜¯æ— æ³•é‡ç”¨çš„ã€‚</p></li></ul><p>å…¶å®ä»Šå¤©è¿˜å­¦äº†ä¸‹ ä¾èµ–æ³¨å…¥çš„ä¸€äº›ä¸œè¥¿ï¼Œå¾ˆæ·±å¥¥ï¼Œæœ‰ç©ºå†è¯´å§ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¶æ„è®¾è®¡ </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
